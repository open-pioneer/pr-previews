import{a_ as xe,af as x,bS as P,ay as lt,bT as ut,ak as Ce,an as dt,am as pt,bU as mt,bV as ft,bW as gt,bX as yt,ac as ht,bY as L,bZ as Oe,b_ as Pt,aZ as Fe,b3 as Se,u as bt,k as re,b$ as vt,i as jt,g as Pe,h as be}from"./Boh8zmpA3NjJ.js";import{G as wt,a as xt,b as Ct,M as Ot}from"./A-yKZKOikekl.js";import{L as Ft}from"./DIQyh2WZ_JD7.js";import{J as St,k as Me,K as Mt,r as u,L as Nt,M as ee,N as _,O as j,u as Lt,o as Gt,P as kt,j as s,w as Tt,g as N,l as B,h as E,D as At,Q as Rt,R as _t,T as Bt,q as Ne,b as se,B as W,F as Le}from"./Mxtq6FG0Aq1_.js";import{u as $,B as Et}from"./CN2xXq7VVLh-.js";import{F as It,f as Ge}from"./IfrtfJ9Ep93o.js";import{S as ke}from"./B3HqXXx_wjjB.js";import{T as oe,L as Dt}from"./BOwySe0UXVY3.js";import{C as Ht}from"./CK6i-0dKNtLx.js";import{u as Jt,a as Vt,b as Ut,c as zt,l as Wt,i as ve,M as $t}from"./BbT9q31oQhIX.js";import{a as Kt,b as qt,M as Yt}from"./CrqedT83Nq6G.js";function Zt(t){return"current"in t}const Te=()=>typeof window<"u";function Qt(){return navigator.userAgentData?.platform??navigator.platform}const Xt=t=>Te()&&t.test(navigator.vendor),er=t=>Te()&&t.test(Qt()),tr=()=>er(/mac|iphone|ipad|ipod/i),rr=()=>tr()&&Xt(/apple/i);function or(t){const{ref:e,elements:r,enabled:o}=t,n=()=>e.current?.ownerDocument??document;St(n,"pointerdown",a=>{if(!rr()||!o)return;const i=a.composedPath?.()?.[0]??a.target,d=(r??[e]).some(c=>{const m=Zt(c)?c.current:c;return m?.contains(i)||m===i});n().activeElement!==i&&d&&(a.preventDefault(),i.focus())})}const[nr,F]=Me({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[sr,I]=Me({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),M={click:"click",hover:"hover"};function ar(t={}){const{closeOnBlur:e=!0,closeOnEsc:r=!0,initialFocusRef:o,id:n,returnFocusOnClose:a=!0,autoFocus:i=!0,arrowSize:p,arrowShadowColor:d,trigger:c=M.click,openDelay:m=200,closeDelay:y=200,isLazy:w,lazyBehavior:G="unmount",computePositionOnMount:k,...q}=t,{isOpen:f,onClose:b,onOpen:T,onToggle:le}=Mt(t),[$e,Y]=u.useState(a);u.useEffect(()=>Y(a),[a]);const Z=u.useRef(null),A=u.useRef(null),C=u.useRef(null),R=u.useRef(!1),ue=u.useRef(!1);f&&(ue.current=!0);const[de,Ke]=u.useState(!1),[pe,qe]=u.useState(!1),Ye=u.useId(),Ze=n??Ye,[me,D,H,J]=["popover-trigger","popover-content","popover-header","popover-body"].map(l=>`${l}-${Ze}`),{referenceRef:V,getArrowProps:Qe,getPopperProps:fe,getArrowInnerProps:Xe,forceUpdate:et}=Nt({...q,enabled:f||!!k}),ge=Jt({isOpen:f,ref:C});or({enabled:f,ref:A}),Vt(C,{focusRef:A,visible:f,shouldFocus:$e&&c===M.click}),Ut(C,{focusRef:o,visible:f,shouldFocus:i&&c===M.click}),zt({enabled:f&&e,ref:C,handler(l){const h=l.composedPath?.()[0]??[l.target];U(A.current,h)||(h&&Y(!ve(h)),b())}});const ye=Wt({wasSelected:ue.current,enabled:w,mode:G,isSelected:ge.present}),tt=u.useCallback((l={},h=null)=>{const g={...l,style:{...l.style,transformOrigin:ee.transformOrigin.varRef,[ee.arrowSize.var]:p?`${p}px`:void 0,[ee.arrowShadowColor.var]:d},ref:_(C,h),children:ye?l.children:null,id:D,tabIndex:-1,role:"dialog",onKeyDown:j(l.onKeyDown,v=>{v.nativeEvent.isComposing||r&&v.key==="Escape"&&(v.preventDefault(),v.stopPropagation(),b())}),onBlur:j(l.onBlur,v=>{const S=je(v),X=U(C.current,S),it=U(A.current,S),ct=!X&&!it;S&&Y(!ve(S)),f&&e&&ct&&b()}),"aria-labelledby":de?H:void 0,"aria-describedby":pe?J:void 0};return c===M.hover&&(g.role="tooltip",g.onMouseEnter=j(l.onMouseEnter,()=>{R.current=!0}),g.onMouseLeave=j(l.onMouseLeave,v=>{v.nativeEvent.relatedTarget!==null&&(R.current=!1,setTimeout(()=>b(),y))})),g},[ye,D,de,H,pe,J,c,r,b,f,e,y,d,p]),rt=u.useCallback((l={},h=null)=>fe({...l,style:{visibility:f?"visible":"hidden",...l.style}},h),[f,fe]),ot=u.useCallback((l,h=null)=>({...l,ref:_(h,Z,V)}),[Z,V]),O=u.useRef(),Q=u.useRef(),he=u.useCallback(l=>{Z.current==null&&V(l)},[V]),nt=u.useCallback((l={},h=null)=>{const g={...l,ref:_(A,h,he),id:me,"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":D};return c===M.click&&(g.onClick=j(l.onClick,le)),c===M.hover&&(g.onFocus=j(l.onFocus,()=>{O.current===void 0&&T()}),g.onBlur=j(l.onBlur,v=>{const S=je(v),X=!U(C.current,S);f&&e&&X&&b()}),g.onKeyDown=j(l.onKeyDown,v=>{v.key==="Escape"&&b()}),g.onMouseEnter=j(l.onMouseEnter,()=>{R.current=!0,O.current=window.setTimeout(()=>T(),m)}),g.onMouseLeave=j(l.onMouseLeave,()=>{R.current=!1,O.current&&(clearTimeout(O.current),O.current=void 0),Q.current=window.setTimeout(()=>{R.current===!1&&b()},y)})),g},[me,f,D,c,he,le,T,e,b,m,y]);u.useEffect(()=>()=>{O.current&&clearTimeout(O.current),Q.current&&clearTimeout(Q.current)},[]);const st=u.useCallback((l={},h=null)=>({...l,id:H,ref:_(h,g=>{Ke(!!g)})}),[H]),at=u.useCallback((l={},h=null)=>({...l,id:J,ref:_(h,g=>{qe(!!g)})}),[J]);return{forceUpdate:et,isOpen:f,onAnimationComplete:ge.onComplete,onClose:b,getAnchorProps:ot,getArrowProps:Qe,getArrowInnerProps:Xe,getPopoverPositionerProps:rt,getPopoverProps:tt,getTriggerProps:nt,getHeaderProps:st,getBodyProps:at}}function U(t,e){return t===e||t?.contains(e)}function je(t){const e=t.currentTarget.ownerDocument.activeElement;return t.relatedTarget??e}function Ae(t){const e=Lt("Popover",t),{children:r,...o}=Gt(t),n=kt(),a=ar({...o,direction:n.direction});return s.jsx(nr,{value:a,children:s.jsx(sr,{value:e,children:Tt(r,{isOpen:a.isOpen,onClose:a.onClose,forceUpdate:a.forceUpdate})})})}Ae.displayName="Popover";const te=(t,e)=>e?`${t}.${e}, ${e}`:void 0;function Re(t){const{bg:e,bgColor:r,backgroundColor:o,shadow:n,boxShadow:a,shadowColor:i,...p}=t,{getArrowProps:d,getArrowInnerProps:c}=F(),m=I(),y=e??r??o,w=n??a;return s.jsx(N.div,{...d(),className:"chakra-popover__arrow-positioner",children:s.jsx(N.div,{className:B("chakra-popover__arrow",t.className),...c(p),__css:{"--popper-arrow-shadow-color":te("colors",i),"--popper-arrow-bg":te("colors",y),"--popper-arrow-shadow":te("shadows",w),...m.arrow}})})}Re.displayName="PopoverArrow";const _e=E(function(e,r){const{getBodyProps:o}=F(),n=I();return s.jsx(N.div,{...o(e,r),className:B("chakra-popover__body",e.className),__css:n.body})});_e.displayName="PopoverBody";const Be=E(function(e,r){const{onClose:o}=F(),n=I();return s.jsx(At,{size:"sm",onClick:o,className:B("chakra-popover__close-btn",e.className),__css:n.closeButton,ref:r,...e})});Be.displayName="PopoverCloseButton";function ir(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}const cr={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},lr=N(Rt.section),Ee=E(function(e,r){const{variants:o=cr,...n}=e,{isOpen:a}=F();return s.jsx(lr,{ref:r,variants:ir(o),initial:!1,animate:a?"enter":"exit",...n})});Ee.displayName="PopoverTransition";const Ie=E(function(e,r){const{rootProps:o,motionProps:n,...a}=e,{getPopoverProps:i,getPopoverPositionerProps:p,onAnimationComplete:d}=F(),c=I(),m=_t({position:"relative",display:"flex",flexDirection:"column",...c.content});return s.jsx(N.div,{...p(o),__css:c.popper,className:"chakra-popover__popper",children:s.jsx(Ee,{...n,...i(a,r),onAnimationComplete:Bt(d,a.onAnimationComplete),className:B("chakra-popover__content",e.className),__css:m})})});Ie.displayName="PopoverContent";const De=E(function(e,r){const{getHeaderProps:o}=F(),n=I();return s.jsx(N.header,{...o(e,r),className:B("chakra-popover__header",e.className),__css:n.header})});De.displayName="PopoverHeader";function He(t){const e=u.Children.only(t.children),{getTriggerProps:r}=F();return s.jsx(s.Fragment,{children:u.cloneElement(e,r(e.props,e.ref))})}He.displayName="PopoverTrigger";class ur{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=xe,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let o=r.dataProjection?x(r.dataProjection):this.readProjection(e);r.extent&&o&&o.getUnits()==="tile-pixels"&&(o=x(o),o.setWorldExtent(r.extent)),r={dataProjection:o,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return P()}readFeature(e,r){return P()}readFeatures(e,r){return P()}readGeometry(e,r){return P()}readProjection(e){return P()}writeFeature(e,r){return P()}writeFeatures(e,r){return P()}writeGeometry(e,r){return P()}}function ae(t,e,r){const o=r?x(r.featureProjection):null,n=r?x(r.dataProjection):null;let a=t;if(o&&n&&!lt(o,n)){e&&(a=t.clone());const i=e?o:n,p=e?n:o;i.getUnits()==="tile-pixels"?a.transform(i,p):a.applyTransform(ut(i,p))}if(e&&r&&r.decimals!==void 0){const i=Math.pow(10,r.decimals),p=function(d){for(let c=0,m=d.length;c<m;++c)d[c]=Math.round(d[c]*i)/i;return d};a===t&&(a=t.clone()),a.applyTransform(p)}return a}const dr={Point:dt,LineString:Ft,Polygon:pt,MultiPoint:xt,MultiLineString:Ct,MultiPolygon:Ot};function pr(t,e,r){return Array.isArray(e[0])?(mt(t,0,e,r)||(t=t.slice(),ft(t,0,e,r)),t):(gt(t,0,e,r)||(t=t.slice(),yt(t,0,e,r)),t)}function Je(t,e){const r=t.geometry;if(!r)return[];if(Array.isArray(r))return r.map(a=>Je({...t,geometry:a})).flat();const o=r.type==="MultiPolygon"?"Polygon":r.type;if(o==="GeometryCollection"||o==="Circle")throw new Error("Unsupported geometry type: "+o);const n=r.layout.length;return ae(new Ce(o,o==="Polygon"?pr(r.flatCoordinates,r.ends,n):r.flatCoordinates,r.ends?.flat(),n,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function ie(t,e){if(!t)return null;if(Array.isArray(t)){const o=t.map(n=>ie(n,e));return new wt(o)}const r=dr[t.type];return ae(new r(t.flatCoordinates,t.layout,t.ends),!1,e)}class mr extends ur{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(z(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(z(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return P()}readFeaturesFromObject(e,r){return P()}readGeometry(e,r){return this.readGeometryFromObject(z(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return P()}readProjection(e){return this.readProjectionFromObject(z(e))}readProjectionFromObject(e){return P()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return P()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return P()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return P()}}function z(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class Qr extends mr{constructor(e){e=e||{},super(),this.dataProjection=x(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=x(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let o=null;e.type==="Feature"?o=e:o={type:"Feature",geometry:e,properties:null};const n=ce(o.geometry);if(this.featureClass===Ce)return Je({geometry:n,id:o.id,properties:o.properties},r);const a=new xe;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&o.geometry_name&&a.setGeometryName(o.geometry_name),a.setGeometry(ie(n,r)),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties,!0),a}readFeaturesFromObject(e,r){const o=e;let n=null;if(o.type==="FeatureCollection"){const a=e;n=[];const i=a.features;for(let p=0,d=i.length;p<d;++p){const c=this.readFeatureFromObject(i[p],r);c&&n.push(c)}}else n=[this.readFeatureFromObject(e,r)];return n.flat()}readGeometryFromObject(e,r){return fr(e,r)}readProjectionFromObject(e){const r=e.crs;let o;if(r)if(r.type=="name")o=x(r.properties.name);else if(r.type==="EPSG")o=x("EPSG:"+r.properties.code);else throw new Error("Unknown SRS type");else o=this.dataProjection;return o}writeFeatureObject(e,r){r=this.adaptOptions(r);const o={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(o.id=n),!e.hasProperties())return o;const a=e.getProperties(),i=e.getGeometry();return i&&(o.geometry=ne(i,r),delete a[e.getGeometryName()]),ht(a)||(o.properties=a),o}writeFeaturesObject(e,r){r=this.adaptOptions(r);const o=[];for(let n=0,a=e.length;n<a;++n)o.push(this.writeFeatureObject(e[n],r));return{type:"FeatureCollection",features:o}}writeGeometryObject(e,r){return ne(e,this.adaptOptions(r))}}function ce(t,e){if(!t)return null;let r;switch(t.type){case"Point":{r=yr(t);break}case"LineString":{r=hr(t);break}case"Polygon":{r=jr(t);break}case"MultiPoint":{r=br(t);break}case"MultiLineString":{r=Pr(t);break}case"MultiPolygon":{r=vr(t);break}case"GeometryCollection":{r=gr(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return r}function fr(t,e){const r=ce(t);return ie(r,e)}function gr(t,e){return t.geometries.map(function(o){return ce(o)})}function yr(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:L(e.length)}}function hr(t){const e=t.coordinates,r=e.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:L(e[0]?.length||2)}}function Pr(t){const e=t.coordinates,r=e[0]?.[0]?.length||2,o=[],n=Oe(o,0,e,r);return{type:"MultiLineString",flatCoordinates:o,ends:n,layout:L(r)}}function br(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:L(e[0]?.length||2)}}function vr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.[0].length||2,n=Pt(r,0,e,o);return{type:"MultiPolygon",flatCoordinates:r,ends:n,layout:L(o)}}function jr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.length,n=Oe(r,0,e,o);return{type:"Polygon",flatCoordinates:r,ends:n,layout:L(o)}}function ne(t,e){t=ae(t,!0,e);const r=t.getType();let o;switch(r){case"Point":{o=Sr(t);break}case"LineString":{o=xr(t);break}case"Polygon":{o=Mr(t,e);break}case"MultiPoint":{o=Or(t);break}case"MultiLineString":{o=Cr(t);break}case"MultiPolygon":{o=Fr(t,e);break}case"GeometryCollection":{o=wr(t,e);break}case"Circle":{o={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return o}function wr(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(o){return ne(o,e)})}}function xr(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function Cr(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function Or(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function Fr(t,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function Sr(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function Mr(t,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}const Xr=u.forwardRef(function(e,r){const{label:o,icon:n,onClick:a,isLoading:i,isDisabled:p,isActive:d,tooltipProps:c,buttonProps:m}=e,{containerProps:{className:y,...w}}=Fe("tool-button",e),G=Se(y,{"tool-button--active":d,"tool-button--loading":i,"tool-button--disabled":p}),k=typeof d=="boolean"?d?"true":"false":void 0,[q,f]=u.useState(!1),b=T=>{f(!1),a?.(T)};return s.jsx(Ne,{label:o,placement:"auto",openDelay:500,...c,isOpen:q,onOpen:()=>f(!0),onClose:()=>f(!1),children:s.jsx(Nr,{className:G,ref:r,"aria-label":o,leftIcon:n,iconSpacing:0,padding:0,isDisabled:p,isLoading:i,isActive:d,"aria-pressed":k,...w,...m,onClick:b})})}),Nr=u.forwardRef(function(e,r){const{"aria-labelledby":o,"aria-describedby":n,...a}=e;return s.jsx(se,{ref:r,...a})}),Lr="@open-pioneer/toc",K=bt.bind(void 0,Lr),Ve=u.createContext(void 0),Gr=Ve.Provider;function kr(){const t=u.useContext(Ve);if(!t)throw new Error("useTocWidgetOptions must be used within a TocWidgetOptionsProvider");return t}function Tr(t){const{map:e,"aria-label":r}=t,o=K(),n=_r(e);return n.length?Ue(n,{"aria-label":r}):s.jsx(oe,{className:"toc-missing-layers","aria-label":r,children:o.formatMessage({id:"missingLayers"})})}function Ue(t,e){const r=t.map(o=>s.jsx(Ar,{layer:o},o.id));return s.jsx(Dt,{as:"ul",className:"toc-layer-list",listStyleType:"none",role:"group",...e,children:r})}function Ar(t){const{layer:e}=t,r=K(),o=kr(),{title:n,description:a,isVisible:i}=$(()=>({title:e.title,description:e.description,isVisible:e.visible}),[e]),p=Br(e),d=We(e)!=="error",c=r.formatMessage({id:"layerNotAvailable"});let m;return p?.length&&(m=Ue(p,{ml:4,"aria-label":r.formatMessage({id:"childgroupLabel"},{title:n})})),s.jsxs(W,{as:"li",className:Se("toc-layer-item",`layer-${Er(e.id)}`),children:[s.jsxs(re,{className:"toc-layer-item-content",width:"100%",flexDirection:"row",align:"center",justifyContent:"space-between",gap:2,minHeight:10,children:[s.jsx(Ht,{"aria-label":n+(d?"":" "+c),isChecked:i,isDisabled:!d,onChange:y=>ze(e,y.target.checked,o.autoShowParents),children:n}),!d&&s.jsx(Ne,{className:"toc-layer-item-content-tooltip",label:c,placement:"right",openDelay:500,children:s.jsx("span",{children:s.jsx(It,{className:"toc-layer-item-content-icon",color:"red","aria-label":c})})}),s.jsx(ke,{}),a&&s.jsx(Rr,{layer:e,title:n,description:a,intl:r})]}),m]})}function ze(t,e,r){t.setVisible(e),e&&r&&t.parent&&ze(t.parent,!0,!0)}function Rr(t){const{layer:e,title:r,description:o,intl:n}=t,a=n.formatMessage({id:"descriptionLabel"}),i=We(e)!=="error";return s.jsxs(Ae,{placement:"bottom-start",children:[s.jsx(He,{children:s.jsx(se,{isDisabled:!i,className:"toc-layer-item-details-button","aria-label":a,borderRadius:"full",iconSpacing:0,padding:0,variant:"ghost",leftIcon:s.jsx(Ge,{})})}),s.jsx(Le,{children:s.jsxs(Ie,{className:"toc-layer-item-details",overflowY:"auto",maxHeight:"400",children:[s.jsx(Re,{}),s.jsx(Be,{mt:1}),s.jsx(De,{children:r}),s.jsx(_e,{children:o})]})})]})}function _r(t){return $(()=>{const e=t.layers.getOperationalLayers({sortByDisplayOrder:!0})??[];return e.reverse(),e},[t])}function Br(t){return $(()=>{const e=t.children?.getItems({sortByDisplayOrder:!0});return e?.reverse(),e},[t])}function We(t){return $(()=>(vt(t)?t.parentLayer:t).loadState,[t])}function Er(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}const Ir=t=>{const e=K(),{map:r,showHideAllLayers:o=!0}=t;return!!o&&s.jsx(W,{className:"toc-tools",children:s.jsxs($t,{placement:"bottom-start",children:[s.jsx(Kt,{as:se,className:"toc-tools-button","aria-label":e.formatMessage({id:"toolsLabel"}),borderRadius:"full",iconSpacing:0,padding:3,variant:"ghost",leftIcon:s.jsx(Ge,{})}),s.jsx(Le,{children:s.jsx(qt,{className:"tools-menu",children:s.jsx(Yt,{"aria-label":e.formatMessage({id:"tools.hideAllLayers"}),onClick:()=>{Dr(r)},children:e.formatMessage({id:"tools.hideAllLayers"})})})})]})})};function Dr(t){const e=r=>{r.setVisible(!1);const o=r.children?.getItems();if(o)for(const n of o)e(n)};t?.layers.getOperationalLayers().forEach(r=>{e(r)})}const we=2,eo=t=>{const e=K(),{showTools:r=!1,toolsConfig:o,showBasemapSwitcher:n=!0,basemapSwitcherProps:a,autoShowParents:i=!0}=t,{containerProps:p}=Fe("toc",t),d=u.useId(),c=u.useMemo(()=>({autoShowParents:i}),[i]),m=jt(t);let y;switch(m.kind){case"loading":y=null;break;case"rejected":y=s.jsx(oe,{className:"toc-error",children:e.formatMessage({id:"error"})});break;case"resolved":{const w=m.map,G=n&&s.jsx(W,{className:"toc-basemap-switcher",children:s.jsx(Pe,{title:s.jsx(be,{id:d,size:"sm",mb:we,children:e.formatMessage({id:"basemapsLabel"})}),children:s.jsx(Et,{map:w,"aria-labelledby":d,...a})})}),k=s.jsx(W,{className:"toc-operational-layers",children:s.jsx(Pe,{title:s.jsx(be,{size:"sm",mb:2,children:s.jsxs(re,{children:[s.jsx(oe,{my:3,children:e.formatMessage({id:"operationalLayerLabel"})}),s.jsx(ke,{}),r&&s.jsx(Ir,{map:w,...o})]})}),children:s.jsx(Tr,{map:w,"aria-label":e.formatMessage({id:"operationalLayerLabel"})})})});y=s.jsxs(s.Fragment,{children:[G,k]});break}}return s.jsx(re,{...p,direction:"column",gap:we,children:s.jsx(Gr,{value:c,children:y})})};export{ur as F,Qr as G,Ae as P,Xr as T,He as a,Ie as b,Re as c,_e as d,eo as e,ae as t,F as u};
