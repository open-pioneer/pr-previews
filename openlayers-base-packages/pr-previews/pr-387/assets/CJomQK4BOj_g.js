var dh=Object.defineProperty;var gh=(e,t,r)=>t in e?dh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gn=(e,t,r)=>gh(e,typeof t!="symbol"?t+"":t,r);import{w as rr,r as D,x as Ku,h as tt,y as mo,l as xt,z as Ra,j as R,g as pt,D as Hu,G as vh,H as Gu,J as Gs,T as zs,I as zu,K as bh,L as mh,M as yh,N as Ri,O as ft,P as Fi,k as qu,u as xh,o as Uu,Q as wh,R as _h,S as Kr,a as Sh,b as nr,U as eo,B as zr,W as Eh,X as Ch,Y as Vu,V as Wu,Z as b,f as $h}from"./J_WxYcBzn5mw.js";import{ao as Oh,bl as Th,bm as Ah,bn as Ph,bo as kh,p as Ii,bp as Mh,G as Di,aP as vn,a9 as jh,b9 as Ni,bq as qs,br as Us,bs as ba,bt as Rh,z as Fh,bu as Bi,bv as Ih,bw as Dh,bx as Nh,by as Bh,aj as Lh,b1 as Kh,a_ as Hh,b as Yu,az as Gh,S as Vs,T as zh,O as qh,a as yo,c as _r,C as Xu,F as wn,ax as Sr,M as Uh,H as Vh,u as Zu,f as Wh,k as Gr,ar as Ju,j as xo,bz as Yh,aL as Xh,i as Qu,D as Zh,l as Jh,m as Ws}from"./DxJrGzLGIgSO.js";import{G as ec,P as Qh,a as ep,b as tp,T as rp}from"./DVfhPCZEmrQW.js";import{C as np,N as ap,D as ip,c as op}from"./pccCAfj1dKBV.js";import{_ as Ys}from"./CmsKOCeNyeyo.js";import{I as Xs,c as sp,S as lp,M as up,C as cp,a as fp,b as hp,N as pp}from"./C8oAoy9cLnkg.js";import{k as dp,l as gp,m as vp,n as bp,o as mp,p as yp,q as xp,f as wp}from"./Bqgh0cxm7WgE.js";import{G as An}from"./lrHVDRQRo2nL.js";import{H as tc}from"./acHtOUjA-7Il.js";import{I as ma,S as _p}from"./CH-qNRSPhMHS.js";import{T as Sp,a as Ep,b as Cp,c as $p}from"./B8hp-TkNr3-o.js";import{T as Op}from"./D3XN4wcwGfw6.js";import{u as Tp,a as Ap,F as Qt}from"./BWb0wtYlb2uY.js";import{F as er}from"./CvnLF8f4wA4h.js";import{C as Pp}from"./CejOUL_G37Oz.js";import"./B6iw593KCf_N.js";import"./B-tmLLQVIv8F.js";import"./C8eT9SIUWJMh.js";import"./BYfhXZxVx1YD.js";import"./uuuD2LZFgwH5.js";import"./Bsm_k7AFhNln.js";function kp(e){const t=parseFloat(e);return typeof t!="number"||Number.isNaN(t)?0:t}function rc(e,t){let r=kp(e);const n=10**(t??10);return r=Math.round(r*n)/n,t?r.toFixed(t):r.toString()}function Zs(e){if(!Number.isFinite(e))return 0;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r+=1;return r}function Mp(e,t,r){return e==null?e:(r<t&&console.warn("clamp: max cannot be less than min"),Math.min(Math.max(e,t),r))}function jp(e={}){const{onChange:t,precision:r,defaultValue:n,value:i,step:s=1,min:u=Number.MIN_SAFE_INTEGER,max:f=Number.MAX_SAFE_INTEGER,keepWithinRange:p=!0}=e,g=rr(t),[x,w]=D.useState(()=>n==null?"":Li(n,s,r)??""),k=typeof i<"u",F=k?i:x,N=nc(jt(F),s),B=r??N,L=D.useCallback(xe=>{xe!==F&&(k||w(xe.toString()),g?.(xe.toString(),jt(xe)))},[g,k,F]),Y=D.useCallback(xe=>{let Ee=xe;return p&&(Ee=Mp(Ee,u,f)),rc(Ee,B)},[B,p,f,u]),re=D.useCallback((xe=s)=>{let Ee;F===""?Ee=jt(xe):Ee=jt(F)+xe,Ee=Y(Ee),L(Ee)},[Y,s,L,F]),de=D.useCallback((xe=s)=>{let Ee;F===""?Ee=jt(-xe):Ee=jt(F)-xe,Ee=Y(Ee),L(Ee)},[Y,s,L,F]),fe=D.useCallback(()=>{let xe;n==null?xe="":xe=Li(n,s,r)??u,L(xe)},[n,r,s,L,u]),Ce=D.useCallback(xe=>{const Ee=Li(xe,s,B)??u;L(Ee)},[B,s,L,u]),le=jt(F);return{isOutOfRange:le>f||le<u,isAtMax:le===f,isAtMin:le===u,precision:B,value:F,valueAsNumber:le,update:L,reset:fe,increment:re,decrement:de,clamp:Y,cast:Ce,setValue:w}}function jt(e){return parseFloat(e.toString().replace(/[^\w.-]+/g,""))}function nc(e,t){return Math.max(Zs(t),Zs(e))}function Li(e,t,r){const n=jt(e);if(Number.isNaN(n))return;const i=nc(n,t);return rc(n,r??i)}function Rp(e,t){const r=rr(e);D.useEffect(()=>{let n=null;const i=()=>r();return t!==null&&(n=window.setInterval(i,t)),()=>{n&&window.clearInterval(n)}},[t,r])}var ac={exports:{}},Fp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ip=Fp,Dp=Ip;function ic(){}function oc(){}oc.resetWarningCache=ic;var Np=function(){function e(n,i,s,u,f,p){if(p!==Dp){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oc,resetWarningCache:ic};return r.PropTypes=r,r};ac.exports=Np();var Bp=ac.exports;const U=Ku(Bp),sc=tt((e,t)=>{const{className:r,...n}=e,{bodyId:i,setBodyMounted:s}=mo();D.useEffect(()=>(s(!0),()=>s(!1)),[s]);const u=xt("chakra-modal__body",r),f=Ra();return R.jsx(pt.div,{ref:t,className:u,id:i,...n,__css:f.body})});sc.displayName="ModalBody";const lc=tt((e,t)=>{const{className:r,...n}=e,i=xt("chakra-modal__footer",r),s=Ra(),u=Hu({display:"flex",alignItems:"center",justifyContent:"flex-end",...s.footer});return R.jsx(pt.footer,{ref:t,...n,__css:u,className:i})});lc.displayName="ModalFooter";const uc=tt((e,t)=>{const{className:r,...n}=e,{headerId:i,setHeaderMounted:s}=mo();D.useEffect(()=>(s(!0),()=>s(!1)),[s]);const u=xt("chakra-modal__header",r),f=Ra(),p=Hu({flex:0,...f.header});return R.jsx(pt.header,{ref:t,className:u,id:i,...n,__css:p})});uc.displayName="ModalHeader";const Lp={enter:({transition:e,transitionEnd:t,delay:r}={})=>({opacity:1,transition:e?.enter??Gs.enter(zs.enter,r),transitionEnd:t?.enter}),exit:({transition:e,transitionEnd:t,delay:r}={})=>({opacity:0,transition:e?.exit??Gs.exit(zs.exit,r),transitionEnd:t?.exit})},cc={initial:"exit",animate:"enter",exit:"exit",variants:Lp},Kp=D.forwardRef(function(t,r){const{unmountOnExit:n,in:i,className:s,transition:u,transitionEnd:f,delay:p,animatePresenceProps:g,...x}=t,w=i||n?"enter":"exit",k=n?i&&n:!0,F={transition:u,transitionEnd:f,delay:p};return R.jsx(vh,{...g,custom:F,children:k&&R.jsx(Gu.div,{ref:r,className:xt("chakra-fade",s),custom:F,...cc,animate:w,...x})})});Kp.displayName="Fade";const Hp=pt(Gu.div),fc=tt((e,t)=>{const{className:r,transition:n,motionProps:i,...s}=e,u=xt("chakra-modal__overlay",r),p={pos:"fixed",left:"0",top:"0",w:"100vw",h:"100vh",...Ra().overlay},{motionPreset:g}=mo(),w=i||(g==="none"?{}:cc);return R.jsx(Hp,{...w,__css:p,ref:t,className:u,...s})});fc.displayName="ModalOverlay";const Gp=e=>R.jsx(zu,{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"})}),zp=e=>R.jsx(zu,{viewBox:"0 0 24 24",...e,children:R.jsx("path",{fill:"currentColor",d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"})});function Js(e,t,r,n){D.useEffect(()=>{if(!e.current||!n)return;const i=e.current.ownerDocument.defaultView??window,s=Array.isArray(t)?t:[t],u=new i.MutationObserver(f=>{for(const p of f)p.type==="attributes"&&p.attributeName&&s.includes(p.attributeName)&&r(p)});return u.observe(e.current,{attributes:!0,attributeFilter:s}),()=>u.disconnect()})}const qp=50,Qs=300;function Up(e,t){const[r,n]=D.useState(!1),[i,s]=D.useState(null),[u,f]=D.useState(!0),p=D.useRef(null),g=()=>clearTimeout(p.current);Rp(()=>{i==="increment"&&e(),i==="decrement"&&t()},r?qp:null);const x=D.useCallback(()=>{u&&e(),p.current=setTimeout(()=>{f(!1),n(!0),s("increment")},Qs)},[e,u]),w=D.useCallback(()=>{u&&t(),p.current=setTimeout(()=>{f(!1),n(!0),s("decrement")},Qs)},[t,u]),k=D.useCallback(()=>{f(!0),n(!1),g()},[]);return D.useEffect(()=>()=>g(),[]),{up:x,down:w,stop:k,isSpinning:r}}const Vp=/^[Ee0-9+\-.]$/;function Wp(e){return Vp.test(e)}function Yp(e,t){if(e.key==null)return!0;const r=e.ctrlKey||e.altKey||e.metaKey;return!(e.key.length===1)||r?!0:t(e.key)}function Xp(e={}){const{focusInputOnChange:t=!0,clampValueOnBlur:r=!0,keepWithinRange:n=!0,min:i=Number.MIN_SAFE_INTEGER,max:s=Number.MAX_SAFE_INTEGER,step:u=1,isReadOnly:f,isDisabled:p,isRequired:g,isInvalid:x,pattern:w="[0-9]*(.[0-9]+)?",inputMode:k="decimal",allowMouseWheel:F,id:N,onChange:B,precision:L,name:Y,"aria-describedby":re,"aria-label":de,"aria-labelledby":fe,onFocus:Ce,onBlur:le,onInvalid:ve,getAriaValueText:Xe,isValidCharacter:Bt,format:xe,parse:Ee,...Lt}=e,at=rr(Ce),Ln=rr(le),Kt=rr(ve),Et=rr(Bt??Wp),Kn=rr(Xe),ne=jp(e),{update:qe,increment:Ue,decrement:hr}=ne,[ei,it]=D.useState(!1),Ht=!(f||p),Be=D.useRef(null),Ze=D.useRef(null),pr=D.useRef(null),Hn=D.useRef(null),Q=D.useCallback(W=>W.split("").filter(Et).join(""),[Et]),Gt=D.useCallback(W=>Ee?.(W)??W,[Ee]),Je=D.useCallback(W=>(xe?.(W)??W).toString(),[xe]);bh(()=>{(ne.valueAsNumber>s||ne.valueAsNumber<i)&&Kt?.("rangeOverflow",Je(ne.value),ne.valueAsNumber)},[ne.valueAsNumber,ne.value,Je,Kt]),mh(()=>{if(!Be.current)return;if(Be.current.value!=ne.value){const we=Gt(Be.current.value);ne.setValue(Q(we))}},[Gt,Q]);const he=D.useCallback((W=u)=>{Ht&&Ue(W)},[Ue,Ht,u]),ot=D.useCallback((W=u)=>{Ht&&hr(W)},[hr,Ht,u]),Me=Up(he,ot);Js(pr,"disabled",Me.stop,Me.isSpinning),Js(Hn,"disabled",Me.stop,Me.isSpinning);const st=D.useCallback(W=>{if(W.nativeEvent.isComposing)return;const Te=Gt(W.currentTarget.value);qe(Q(Te)),Ze.current={start:W.currentTarget.selectionStart,end:W.currentTarget.selectionEnd}},[qe,Q,Gt]),Gn=D.useCallback(W=>{at?.(W),Ze.current&&(W.currentTarget.selectionStart=Ze.current.start??W.currentTarget.value?.length,W.currentTarget.selectionEnd=Ze.current.end??W.currentTarget.selectionStart)},[at]),zn=D.useCallback(W=>{if(W.nativeEvent.isComposing)return;Yp(W,Et)||W.preventDefault();const we=qn(W)*u,Te=W.key,lt={ArrowUp:()=>he(we),ArrowDown:()=>ot(we),Home:()=>qe(i),End:()=>qe(s)}[Te];lt&&(W.preventDefault(),lt(W))},[Et,u,he,ot,qe,i,s]),qn=W=>{let we=1;return(W.metaKey||W.ctrlKey)&&(we=.1),W.shiftKey&&(we=10),we},Un=D.useMemo(()=>{const W=Kn?.(ne.value);if(W!=null)return W;const we=ne.value.toString();return we||void 0},[ne.value,Kn]),dr=D.useCallback(()=>{let W=ne.value;if(ne.value==="")return;/^[eE]/.test(ne.value.toString())?ne.setValue(""):(ne.valueAsNumber<i&&(W=i),ne.valueAsNumber>s&&(W=s),ne.cast(W))},[ne,s,i]),Le=D.useCallback(()=>{it(!1),r&&dr()},[r,it,dr]),zt=D.useCallback(()=>{t&&requestAnimationFrame(()=>{Be.current?.focus()})},[t]),Ct=D.useCallback(W=>{W.preventDefault(),Me.up(),zt()},[zt,Me]),rn=D.useCallback(W=>{W.preventDefault(),Me.down(),zt()},[zt,Me]);yh(()=>Be.current,"wheel",W=>{const Te=(Be.current?.ownerDocument??document).activeElement===Be.current;if(!F||!Te)return;W.preventDefault();const ke=qn(W)*u,lt=Math.sign(W.deltaY);lt===-1?he(ke):lt===1&&ot(ke)},{passive:!1});const qt=D.useCallback((W={},we=null)=>{const Te=p||n&&ne.isAtMax;return{...W,ref:Ri(we,pr),role:"button",tabIndex:-1,onPointerDown:ft(W.onPointerDown,ke=>{ke.button!==0||Te||Ct(ke)}),onPointerLeave:ft(W.onPointerLeave,Me.stop),onPointerUp:ft(W.onPointerUp,Me.stop),disabled:Te,"aria-disabled":Fi(Te)}},[ne.isAtMax,n,Ct,Me.stop,p]),gt=D.useCallback((W={},we=null)=>{const Te=p||n&&ne.isAtMin;return{...W,ref:Ri(we,Hn),role:"button",tabIndex:-1,onPointerDown:ft(W.onPointerDown,ke=>{ke.button!==0||Te||rn(ke)}),onPointerLeave:ft(W.onPointerLeave,Me.stop),onPointerUp:ft(W.onPointerUp,Me.stop),disabled:Te,"aria-disabled":Fi(Te)}},[ne.isAtMin,n,rn,Me.stop,p]),nn=D.useCallback((W={},we=null)=>({name:Y,inputMode:k,type:"text",pattern:w,"aria-labelledby":fe,"aria-label":de,"aria-describedby":re,id:N,disabled:p,...W,readOnly:W.readOnly??f,"aria-readonly":W.readOnly??f,"aria-required":W.required??g,required:W.required??g,ref:Ri(Be,we),value:Je(ne.value),role:"spinbutton","aria-valuemin":i,"aria-valuemax":s,"aria-valuenow":Number.isNaN(ne.valueAsNumber)?void 0:ne.valueAsNumber,"aria-invalid":Fi(x??ne.isOutOfRange),"aria-valuetext":Un,autoComplete:"off",autoCorrect:"off",onChange:ft(W.onChange,st),onKeyDown:ft(W.onKeyDown,zn),onFocus:ft(W.onFocus,Gn,()=>it(!0)),onBlur:ft(W.onBlur,Ln,Le)}),[Y,k,w,fe,de,Je,re,N,p,g,f,x,ne.value,ne.valueAsNumber,ne.isOutOfRange,i,s,Un,st,zn,Gn,Ln,Le]);return{value:Je(ne.value),valueAsNumber:ne.valueAsNumber,isFocused:ei,isDisabled:p,isReadOnly:f,getIncrementButtonProps:qt,getDecrementButtonProps:gt,getInputProps:nn,htmlProps:Lt}}const[Zp,Fa]=qu({name:"NumberInputStylesContext",errorMessage:`useNumberInputStyles returned is 'undefined'. Seems you forgot to wrap the components in "<NumberInput />" `}),[Jp,wo]=qu({name:"NumberInputContext",errorMessage:"useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"}),hc=tt(function(t,r){const n=xh("NumberInput",t),i=Uu(t),s=Tp(i),{htmlProps:u,...f}=Xp(s),p=D.useMemo(()=>f,[f]);return R.jsx(Jp,{value:p,children:R.jsx(Zp,{value:n,children:R.jsx(pt.div,{...u,ref:r,className:xt("chakra-numberinput",t.className),__css:{position:"relative",zIndex:0,...n.root}})})})});hc.displayName="NumberInput";const pc=tt(function(t,r){const n=Fa();return R.jsx(pt.div,{"aria-hidden":!0,ref:r,...t,__css:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",height:"calc(100% - 2px)",zIndex:1,...n.stepperGroup}})});pc.displayName="NumberInputStepper";const dc=tt(function(t,r){const{getInputProps:n}=wo(),i=n(t,r),s=Fa();return R.jsx(pt.input,{...i,className:xt("chakra-numberinput__field",t.className),__css:{width:"100%",...s.field}})});dc.displayName="NumberInputField";const gc=pt("div",{baseStyle:{display:"flex",justifyContent:"center",alignItems:"center",flex:1,transitionProperty:"common",transitionDuration:"normal",userSelect:"none",cursor:"pointer",lineHeight:"normal"}}),vc=tt(function(t,r){const n=Fa(),{getDecrementButtonProps:i}=wo(),s=i(t,r);return R.jsx(gc,{...s,__css:n.stepper,children:t.children??R.jsx(Gp,{})})});vc.displayName="NumberDecrementStepper";const bc=tt(function(t,r){const{getIncrementButtonProps:n}=wo(),i=n(t,r),s=Fa();return R.jsx(gc,{...i,__css:s.stepper,children:t.children??R.jsx(zp,{})})});bc.displayName="NumberIncrementStepper";const Qp=tt((e,t)=>{const{overflow:r,overflowX:n,className:i,...s}=e;return R.jsx(pt.div,{ref:t,className:xt("chakra-table__container",i),...s,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:r??n??"auto",overflowY:"hidden",maxWidth:"100%"}})}),ed=["h","minH","height","minHeight"],mc=tt((e,t)=>{const r=wh("Textarea",e),{className:n,rows:i,...s}=Uu(e),u=Ap(s),f=i?_h(r,ed):r;return R.jsx(pt.textarea,{ref:t,rows:i,...u,className:xt("chakra-textarea",n),__css:f})});mc.displayName="Textarea";const td={SNAP:"snap"};class rd extends Oh{constructor(t,r){super(t),this.vertex=r.vertex,this.vertexPixel=r.vertexPixel,this.feature=r.feature,this.segment=r.segment}}function el(e){return e.feature?e.feature:e.element?e.element:null}const Ki=[];class nd extends Th{constructor(t){t=t||{};const r=t;r.handleDownEvent||(r.handleDownEvent=Ah),r.stopDown||(r.stopDown=Ph),super(r),this.on,this.once,this.un,this.source_=t.source?t.source:null,this.vertex_=t.vertex!==void 0?t.vertex:!0,this.edge_=t.edge!==void 0?t.edge:!0,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelTolerance_=t.pixelTolerance!==void 0?t.pixelTolerance:10,this.rBush_=new kh,this.GEOMETRY_SEGMENTERS_={Point:this.segmentPointGeometry_.bind(this),LineString:this.segmentLineStringGeometry_.bind(this),LinearRing:this.segmentLineStringGeometry_.bind(this),Polygon:this.segmentPolygonGeometry_.bind(this),MultiPoint:this.segmentMultiPointGeometry_.bind(this),MultiLineString:this.segmentMultiLineStringGeometry_.bind(this),MultiPolygon:this.segmentMultiPolygonGeometry_.bind(this),GeometryCollection:this.segmentGeometryCollectionGeometry_.bind(this),Circle:this.segmentCircleGeometry_.bind(this)}}addFeature(t,r){r=r!==void 0?r:!0;const n=Ii(t),i=t.getGeometry();if(i){const s=this.GEOMETRY_SEGMENTERS_[i.getType()];if(s){this.indexedFeaturesExtents_[n]=i.getExtent(Mh());const u=[];if(s(u,i),u.length===1)this.rBush_.insert(Di(u[0]),{feature:t,segment:u[0]});else if(u.length>1){const f=u.map(g=>Di(g)),p=u.map(g=>({feature:t,segment:g}));this.rBush_.load(f,p)}}}r&&(this.featureChangeListenerKeys_[n]=vn(t,jh.CHANGE,this.handleFeatureChange_,this))}getFeatures_(){let t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t}handleEvent(t){const r=this.snapTo(t.pixel,t.coordinate,t.map);return r&&(t.coordinate=r.vertex.slice(0,2),t.pixel=r.vertexPixel,this.dispatchEvent(new rd(td.SNAP,{vertex:t.coordinate,vertexPixel:t.pixel,feature:r.feature,segment:r.segment}))),super.handleEvent(t)}handleFeatureAdd_(t){const r=el(t);r&&this.addFeature(r)}handleFeatureRemove_(t){const r=el(t);r&&this.removeFeature(r)}handleFeatureChange_(t){const r=t.target;if(this.handlingDownUpSequence){const n=Ii(r);n in this.pendingFeatures_||(this.pendingFeatures_[n]=r)}else this.updateFeature_(r)}handleUpEvent(t){const r=Object.values(this.pendingFeatures_);return r.length&&(r.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1}removeFeature(t,r){const n=r!==void 0?r:!0,i=Ii(t),s=this.indexedFeaturesExtents_[i];if(s){const u=this.rBush_,f=[];u.forEachInExtent(s,function(p){t===p.feature&&f.push(p)});for(let p=f.length-1;p>=0;--p)u.remove(f[p])}n&&(Ni(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])}setMap(t){const r=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();r&&(n.forEach(Ni),n.length=0,this.rBush_.clear(),Object.values(this.featureChangeListenerKeys_).forEach(Ni),this.featureChangeListenerKeys_={}),super.setMap(t),t&&(this.features_?n.push(vn(this.features_,qs.ADD,this.handleFeatureAdd_,this),vn(this.features_,qs.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(vn(this.source_,Us.ADDFEATURE,this.handleFeatureAdd_,this),vn(this.source_,Us.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(s=>this.addFeature(s)))}snapTo(t,r,n){n.getView().getProjection();const i=ba(r),s=Rh(Fh(Di([i]),n.getView().getResolution()*this.pixelTolerance_)),u=this.rBush_.getInExtent(s),f=u.length;if(f===0)return null;let p,g=1/0,x,w=null;const k=this.pixelTolerance_*this.pixelTolerance_,F=()=>{if(p){const N=n.getPixelFromCoordinate(p);if(Bi(t,N)<=k)return{vertex:p,vertexPixel:[Math.round(N[0]),Math.round(N[1])],feature:x,segment:w}}return null};if(this.vertex_){for(let B=0;B<f;++B){const L=u[B];L.feature.getGeometry().getType()!=="Circle"&&L.segment.forEach(Y=>{const re=ba(Y),de=Bi(i,re);de<g&&(p=Y,g=de,x=L.feature)})}const N=F();if(N)return N}if(this.edge_){for(let B=0;B<f;++B){let L=null;const Y=u[B];if(Y.feature.getGeometry().getType()==="Circle"){let re=Y.feature.getGeometry();L=Ih(i,re)}else{const[re,de]=Y.segment;de&&(Ki[0]=ba(re),Ki[1]=ba(de),L=Dh(i,Ki))}if(L){const re=Bi(i,L);re<g&&(p=Bh(L),w=Y.feature.getGeometry().getType()==="Circle"?null:Y.segment,g=re,x=Y.feature)}}const N=F();if(N)return N}return null}updateFeature_(t){this.removeFeature(t,!1),this.addFeature(t,!1)}segmentCircleGeometry_(t,r){this.getMap().getView().getProjection();const s=Nh(r).getCoordinates()[0];for(let u=0,f=s.length-1;u<f;++u)t.push(s.slice(u,u+2))}segmentGeometryCollectionGeometry_(t,r){const n=r.getGeometriesArray();for(let i=0;i<n.length;++i){const s=this.GEOMETRY_SEGMENTERS_[n[i].getType()];s&&s(t,n[i])}}segmentLineStringGeometry_(t,r){const n=r.getCoordinates();for(let i=0,s=n.length-1;i<s;++i)t.push(n.slice(i,i+2))}segmentMultiLineStringGeometry_(t,r){const n=r.getCoordinates();for(let i=0,s=n.length;i<s;++i){const u=n[i];for(let f=0,p=u.length-1;f<p;++f)t.push(u.slice(f,f+2))}}segmentMultiPointGeometry_(t,r){r.getCoordinates().forEach(n=>{t.push([n])})}segmentMultiPolygonGeometry_(t,r){const n=r.getCoordinates();for(let i=0,s=n.length;i<s;++i){const u=n[i];for(let f=0,p=u.length;f<p;++f){const g=u[f];for(let x=0,w=g.length-1;x<w;++x)t.push(g.slice(x,x+2))}}}segmentPointGeometry_(t,r){t.push([r.getCoordinates()])}segmentPolygonGeometry_(t,r){const n=r.getCoordinates();for(let i=0,s=n.length;i<s;++i){const u=n[i];for(let f=0,p=u.length-1;f<p;++f)t.push(u.slice(f,f+2))}}}class $n{constructor({id:t,attributes:r,geometryString:n,envelope:i}){Object.assign(this,r),typeof t=="number"&&(this.__id__=t),this.__geometry__=n,this.__minX__=i?.minX,this.__minY__=i?.minY,this.__maxX__=i?.maxX,this.__maxY__=i?.maxY}get id(){return this.__id__}get attributes(){return{...this,__geometry__:void 0}}get geometryString(){return this.__geometry__}__id__;__geometry__}gn($n,"SCHEMA_DEFINITION","++__id__, __minX__, __minY__, __maxX__, __maxY__");function ad(e){const t=e.__minX__,r=e.__minY__,n=e.__maxX__,i=e.__maxY__;if(t!=null&&r!=null&&n!=null&&i!=null)return{minX:t,minY:r,maxX:n,maxY:i}}var yc={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Kr,function(){var r=function(a,o){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(l[h]=c[h])})(a,o)},n=function(){return(n=Object.assign||function(a){for(var o,l=1,c=arguments.length;l<c;l++)for(var h in o=arguments[l])Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h]);return a}).apply(this,arguments)};function i(a,o,l){for(var c,h=0,d=o.length;h<d;h++)!c&&h in o||((c=c||Array.prototype.slice.call(o,0,h))[h]=o[h]);return a.concat(c||Array.prototype.slice.call(o))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Kr,u=Object.keys,f=Array.isArray;function p(a,o){return typeof o!="object"||u(o).forEach(function(l){a[l]=o[l]}),a}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var g=Object.getPrototypeOf,x={}.hasOwnProperty;function w(a,o){return x.call(a,o)}function k(a,o){typeof o=="function"&&(o=o(g(a))),(typeof Reflect>"u"?u:Reflect.ownKeys)(o).forEach(function(l){N(a,l,o[l])})}var F=Object.defineProperty;function N(a,o,l,c){F(a,o,p(l&&w(l,"get")&&typeof l.get=="function"?{get:l.get,set:l.set,configurable:!0}:{value:l,configurable:!0,writable:!0},c))}function B(a){return{from:function(o){return a.prototype=Object.create(o.prototype),N(a.prototype,"constructor",a),{extend:k.bind(null,a.prototype)}}}}var L=Object.getOwnPropertyDescriptor,Y=[].slice;function re(a,o,l){return Y.call(a,o,l)}function de(a,o){return o(a)}function fe(a){if(!a)throw new Error("Assertion Failed")}function Ce(a){s.setImmediate?setImmediate(a):setTimeout(a,0)}function le(a,o){if(typeof o=="string"&&w(a,o))return a[o];if(!o)return a;if(typeof o!="string"){for(var l=[],c=0,h=o.length;c<h;++c){var d=le(a,o[c]);l.push(d)}return l}var v=o.indexOf(".");if(v!==-1){var m=a[o.substr(0,v)];return m==null?void 0:le(m,o.substr(v+1))}}function ve(a,o,l){if(a&&o!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof o!="string"&&"length"in o){fe(typeof l!="string"&&"length"in l);for(var c=0,h=o.length;c<h;++c)ve(a,o[c],l[c])}else{var d,v,m=o.indexOf(".");m!==-1?(d=o.substr(0,m),(v=o.substr(m+1))===""?l===void 0?f(a)&&!isNaN(parseInt(d))?a.splice(d,1):delete a[d]:a[d]=l:ve(m=!(m=a[d])||!w(a,d)?a[d]={}:m,v,l)):l===void 0?f(a)&&!isNaN(parseInt(o))?a.splice(o,1):delete a[o]:a[o]=l}}function Xe(a){var o,l={};for(o in a)w(a,o)&&(l[o]=a[o]);return l}var Bt=[].concat;function xe(a){return Bt.apply([],a)}var bt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(xe([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(o){return o+a+"Array"})}))).filter(function(a){return s[a]}),Ee=new Set(bt.map(function(a){return s[a]})),Lt=null;function at(a){return Lt=new WeakMap,a=function o(l){if(!l||typeof l!="object")return l;var c=Lt.get(l);if(c)return c;if(f(l)){c=[],Lt.set(l,c);for(var h=0,d=l.length;h<d;++h)c.push(o(l[h]))}else if(Ee.has(l.constructor))c=l;else{var v,m=g(l);for(v in c=m===Object.prototype?{}:Object.create(m),Lt.set(l,c),l)w(l,v)&&(c[v]=o(l[v]))}return c}(a),Lt=null,a}var Ln={}.toString;function Kt(a){return Ln.call(a).slice(8,-1)}var Et=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Kn=typeof Et=="symbol"?function(a){var o;return a!=null&&(o=a[Et])&&o.apply(a)}:function(){return null};function ne(a,o){return o=a.indexOf(o),0<=o&&a.splice(o,1),0<=o}var qe={};function Ue(a){var o,l,c,h;if(arguments.length===1){if(f(a))return a.slice();if(this===qe&&typeof a=="string")return[a];if(h=Kn(a)){for(l=[];!(c=h.next()).done;)l.push(c.value);return l}if(a==null)return[a];if(typeof(o=a.length)!="number")return[a];for(l=new Array(o);o--;)l[o]=a[o];return l}for(o=arguments.length,l=new Array(o);o--;)l[o]=arguments[o];return l}var hr=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ve=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qt),ei={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function it(a,o){this.name=a,this.message=o}function Ht(a,o){return a+". Errors: "+Object.keys(o).map(function(l){return o[l].toString()}).filter(function(l,c,h){return h.indexOf(l)===c}).join(`
`)}function Be(a,o,l,c){this.failures=o,this.failedKeys=c,this.successCount=l,this.message=Ht(a,o)}function Ze(a,o){this.name="BulkError",this.failures=Object.keys(o).map(function(l){return o[l]}),this.failuresByPos=o,this.message=Ht(a,this.failures)}B(it).from(Error).extend({toString:function(){return this.name+": "+this.message}}),B(Be).from(it),B(Ze).from(it);var pr=Ve.reduce(function(a,o){return a[o]=o+"Error",a},{}),Hn=it,Q=Ve.reduce(function(a,o){var l=o+"Error";function c(h,d){this.name=l,h?typeof h=="string"?(this.message="".concat(h).concat(d?`
 `+d:""),this.inner=d||null):typeof h=="object"&&(this.message="".concat(h.name," ").concat(h.message),this.inner=h):(this.message=ei[o]||l,this.inner=null)}return B(c).from(Hn),a[o]=c,a},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var Gt=qt.reduce(function(a,o){return a[o+"Error"]=Q[o],a},{}),Je=Ve.reduce(function(a,o){return["Syntax","Type","Range"].indexOf(o)===-1&&(a[o+"Error"]=Q[o]),a},{});function he(){}function ot(a){return a}function Me(a,o){return a==null||a===ot?o:function(l){return o(a(l))}}function st(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}}function Gn(a,o){return a===he?o:function(){var l=a.apply(this,arguments);l!==void 0&&(arguments[0]=l);var c=this.onsuccess,h=this.onerror;this.onsuccess=null,this.onerror=null;var d=o.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?st(c,this.onsuccess):c),h&&(this.onerror=this.onerror?st(h,this.onerror):h),d!==void 0?d:l}}function zn(a,o){return a===he?o:function(){a.apply(this,arguments);var l=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,o.apply(this,arguments),l&&(this.onsuccess=this.onsuccess?st(l,this.onsuccess):l),c&&(this.onerror=this.onerror?st(c,this.onerror):c)}}function qn(a,o){return a===he?o:function(l){var c=a.apply(this,arguments);p(l,c);var h=this.onsuccess,d=this.onerror;return this.onsuccess=null,this.onerror=null,l=o.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?st(h,this.onsuccess):h),d&&(this.onerror=this.onerror?st(d,this.onerror):d),c===void 0?l===void 0?void 0:l:p(c,l)}}function Un(a,o){return a===he?o:function(){return o.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function dr(a,o){return a===he?o:function(){var l=a.apply(this,arguments);if(l&&typeof l.then=="function"){for(var c=this,h=arguments.length,d=new Array(h);h--;)d[h]=arguments[h];return l.then(function(){return o.apply(c,d)})}return o.apply(this,arguments)}}Je.ModifyError=Be,Je.DexieError=it,Je.BulkError=Ze;var Le=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function zt(a){Le=a}var Ct={},rn=100,bt=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,g(a),a];var o=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[o,g(o),a]}(),qt=bt[0],Ve=bt[1],bt=bt[2],Ve=Ve&&Ve.then,gt=qt&&qt.constructor,nn=!!bt,W=function(a,o){an.push([a,o]),Te&&(queueMicrotask(zf),Te=!1)},we=!0,Te=!0,ke=[],lt=[],ti=ot,$t={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},ee=$t,an=[],Ut=0,Vn=[];function X(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var o=this._PSD=ee;if(typeof a!="function"){if(a!==Ct)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ni(this,this._value))}this._state=null,this._value=null,++o.ref,function l(c,h){try{h(function(d){if(c._state===null){if(d===c)throw new TypeError("A promise cannot be resolved with itself.");var v=c._lib&&gr();d&&typeof d.then=="function"?l(c,function(m,_){d instanceof X?d._then(m,_):d.then(m,_)}):(c._state=!0,c._value=d,ps(c)),v&&vr()}},ni.bind(null,c))}catch(d){ni(c,d)}}(this,a)}var ri={get:function(){var a=ee,o=Zn;function l(c,h){var d=this,v=!a.global&&(a!==ee||o!==Zn),m=v&&!Tt(),_=new X(function(E,O){ai(d,new hs(gs(c,a,v,m),gs(h,a,v,m),E,O,a))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return l.prototype=Ct,l},set:function(a){N(this,"then",a&&a.prototype===Ct?ri:{get:function(){return a},set:ri.set})}};function hs(a,o,l,c,h){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof o=="function"?o:null,this.resolve=l,this.reject=c,this.psd=h}function ni(a,o){var l,c;lt.push(o),a._state===null&&(l=a._lib&&gr(),o=ti(o),a._state=!1,a._value=o,c=a,ke.some(function(h){return h._value===c._value})||ke.push(c),ps(a),l&&vr())}function ps(a){var o=a._listeners;a._listeners=[];for(var l=0,c=o.length;l<c;++l)ai(a,o[l]);var h=a._PSD;--h.ref||h.finalize(),Ut===0&&(++Ut,W(function(){--Ut==0&&ii()},[]))}function ai(a,o){if(a._state!==null){var l=a._state?o.onFulfilled:o.onRejected;if(l===null)return(a._state?o.resolve:o.reject)(a._value);++o.psd.ref,++Ut,W(Gf,[l,a,o])}else a._listeners.push(o)}function Gf(a,o,l){try{var c,h=o._value;!o._state&&lt.length&&(lt=[]),c=Le&&o._consoleTask?o._consoleTask.run(function(){return a(h)}):a(h),o._state||lt.indexOf(h)!==-1||function(d){for(var v=ke.length;v;)if(ke[--v]._value===d._value)return ke.splice(v,1)}(o),l.resolve(c)}catch(d){l.reject(d)}finally{--Ut==0&&ii(),--l.psd.ref||l.psd.finalize()}}function zf(){Vt($t,function(){gr()&&vr()})}function gr(){var a=we;return Te=we=!1,a}function vr(){var a,o,l;do for(;0<an.length;)for(a=an,an=[],l=a.length,o=0;o<l;++o){var c=a[o];c[0].apply(null,c[1])}while(0<an.length);Te=we=!0}function ii(){var a=ke;ke=[],a.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var o=Vn.slice(0),l=o.length;l;)o[--l]()}function Wn(a){return new X(Ct,!1,a)}function _e(a,o){var l=ee;return function(){var c=gr(),h=ee;try{return At(l,!0),a.apply(this,arguments)}catch(d){o&&o(d)}finally{At(h,!1),c&&vr()}}}k(X.prototype,{then:ri,_then:function(a,o){ai(this,new hs(null,null,a,o,ee))},catch:function(a){if(arguments.length===1)return this.then(null,a);var o=a,l=arguments[1];return typeof o=="function"?this.then(null,function(c){return(c instanceof o?l:Wn)(c)}):this.then(null,function(c){return(c&&c.name===o?l:Wn)(c)})},finally:function(a){return this.then(function(o){return X.resolve(a()).then(function(){return o})},function(o){return X.resolve(a()).then(function(){return Wn(o)})})},timeout:function(a,o){var l=this;return a<1/0?new X(function(c,h){var d=setTimeout(function(){return h(new Q.Timeout(o))},a);l.then(c,h).finally(clearTimeout.bind(null,d))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(X.prototype,Symbol.toStringTag,"Dexie.Promise"),$t.env=ds(),k(X,{all:function(){var a=Ue.apply(null,arguments).map(Jn);return new X(function(o,l){a.length===0&&o([]);var c=a.length;a.forEach(function(h,d){return X.resolve(h).then(function(v){a[d]=v,--c||o(a)},l)})})},resolve:function(a){return a instanceof X?a:a&&typeof a.then=="function"?new X(function(o,l){a.then(o,l)}):new X(Ct,!0,a)},reject:Wn,race:function(){var a=Ue.apply(null,arguments).map(Jn);return new X(function(o,l){a.map(function(c){return X.resolve(c).then(o,l)})})},PSD:{get:function(){return ee},set:function(a){return ee=a}},totalEchoes:{get:function(){return Zn}},newPSD:Ot,usePSD:Vt,scheduler:{get:function(){return W},set:function(a){W=a}},rejectionMapper:{get:function(){return ti},set:function(a){ti=a}},follow:function(a,o){return new X(function(l,c){return Ot(function(h,d){var v=ee;v.unhandleds=[],v.onunhandled=d,v.finalize=st(function(){var m,_=this;m=function(){_.unhandleds.length===0?h():d(_.unhandleds[0])},Vn.push(function E(){m(),Vn.splice(Vn.indexOf(E),1)}),++Ut,W(function(){--Ut==0&&ii()},[])},v.finalize),a()},o,l,c)})}}),gt&&(gt.allSettled&&N(X,"allSettled",function(){var a=Ue.apply(null,arguments).map(Jn);return new X(function(o){a.length===0&&o([]);var l=a.length,c=new Array(l);a.forEach(function(h,d){return X.resolve(h).then(function(v){return c[d]={status:"fulfilled",value:v}},function(v){return c[d]={status:"rejected",reason:v}}).then(function(){return--l||o(c)})})})}),gt.any&&typeof AggregateError<"u"&&N(X,"any",function(){var a=Ue.apply(null,arguments).map(Jn);return new X(function(o,l){a.length===0&&l(new AggregateError([]));var c=a.length,h=new Array(c);a.forEach(function(d,v){return X.resolve(d).then(function(m){return o(m)},function(m){h[v]=m,--c||l(new AggregateError(h))})})})}),gt.withResolvers&&(X.withResolvers=gt.withResolvers));var Ae={awaits:0,echoes:0,id:0},qf=0,Yn=[],Xn=0,Zn=0,Uf=0;function Ot(a,o,l,c){var h=ee,d=Object.create(h);return d.parent=h,d.ref=0,d.global=!1,d.id=++Uf,$t.env,d.env=nn?{Promise:X,PromiseProp:{value:X,configurable:!0,writable:!0},all:X.all,race:X.race,allSettled:X.allSettled,any:X.any,resolve:X.resolve,reject:X.reject}:{},o&&p(d,o),++h.ref,d.finalize=function(){--this.parent.ref||this.parent.finalize()},c=Vt(d,a,l,c),d.ref===0&&d.finalize(),c}function br(){return Ae.id||(Ae.id=++qf),++Ae.awaits,Ae.echoes+=rn,Ae.id}function Tt(){return!!Ae.awaits&&(--Ae.awaits==0&&(Ae.id=0),Ae.echoes=Ae.awaits*rn,!0)}function Jn(a){return Ae.echoes&&a&&a.constructor===gt?(br(),a.then(function(o){return Tt(),o},function(o){return Tt(),$e(o)})):a}function Vf(){var a=Yn[Yn.length-1];Yn.pop(),At(a,!1)}function At(a,o){var l,c=ee;(o?!Ae.echoes||Xn++&&a===ee:!Xn||--Xn&&a===ee)||queueMicrotask(o?(function(h){++Zn,Ae.echoes&&--Ae.echoes!=0||(Ae.echoes=Ae.awaits=Ae.id=0),Yn.push(ee),At(h,!0)}).bind(null,a):Vf),a!==ee&&(ee=a,c===$t&&($t.env=ds()),nn&&(l=$t.env.Promise,o=a.env,(c.global||a.global)&&(Object.defineProperty(s,"Promise",o.PromiseProp),l.all=o.all,l.race=o.race,l.resolve=o.resolve,l.reject=o.reject,o.allSettled&&(l.allSettled=o.allSettled),o.any&&(l.any=o.any))))}function ds(){var a=s.Promise;return nn?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function Vt(a,o,l,c,h){var d=ee;try{return At(a,!0),o(l,c,h)}finally{At(d,!1)}}function gs(a,o,l,c){return typeof a!="function"?a:function(){var h=ee;l&&br(),At(o,!0);try{return a.apply(this,arguments)}finally{At(h,!1),c&&queueMicrotask(Tt)}}}function oi(a){Promise===gt&&Ae.echoes===0?Xn===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+Ve).indexOf("[native code]")===-1&&(br=Tt=he);var $e=X.reject,Wt="￿",vt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",vs="String expected.",mr=[],Qn="__dbnames",si="readonly",li="readwrite";function Yt(a,o){return a?o?function(){return a.apply(this,arguments)&&o.apply(this,arguments)}:a:o}var bs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ea(a){return typeof a!="string"||/\./.test(a)?function(o){return o}:function(o){return o[a]===void 0&&a in o&&delete(o=at(o))[a],o}}function ms(){throw Q.Type()}function ue(a,o){try{var l=ys(a),c=ys(o);if(l!==c)return l==="Array"?1:c==="Array"?-1:l==="binary"?1:c==="binary"?-1:l==="string"?1:c==="string"?-1:l==="Date"?1:c!=="Date"?NaN:-1;switch(l){case"number":case"Date":case"string":return o<a?1:a<o?-1:0;case"binary":return function(h,d){for(var v=h.length,m=d.length,_=v<m?v:m,E=0;E<_;++E)if(h[E]!==d[E])return h[E]<d[E]?-1:1;return v===m?0:v<m?-1:1}(xs(a),xs(o));case"Array":return function(h,d){for(var v=h.length,m=d.length,_=v<m?v:m,E=0;E<_;++E){var O=ue(h[E],d[E]);if(O!==0)return O}return v===m?0:v<m?-1:1}(a,o)}}catch{}return NaN}function ys(a){var o=typeof a;return o!="object"?o:ArrayBuffer.isView(a)?"binary":(a=Kt(a),a==="ArrayBuffer"?"binary":a)}function xs(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var ws=(be.prototype._trans=function(a,o,l){var c=this._tx||ee.trans,h=this.name,d=Le&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function v(E,O,y){if(!y.schema[h])throw new Q.NotFound("Table "+h+" not part of transaction");return o(y.idbtrans,y)}var m=gr();try{var _=c&&c.db._novip===this.db._novip?c===ee.trans?c._promise(a,v,l):Ot(function(){return c._promise(a,v,l)},{trans:c,transless:ee.transless||ee}):function E(O,y,A,S){if(O.idbdb&&(O._state.openComplete||ee.letThrough||O._vip)){var $=O._createTransaction(y,A,O._dbSchema);try{$.create(),O._state.PR1398_maxLoop=3}catch(T){return T.name===pr.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return E(O,y,A,S)})):$e(T)}return $._promise(y,function(T,C){return Ot(function(){return ee.trans=$,S(T,C,$)})}).then(function(T){if(y==="readwrite")try{$.idbtrans.commit()}catch{}return y==="readonly"?T:$._completion.then(function(){return T})})}if(O._state.openComplete)return $e(new Q.DatabaseClosed(O._state.dbOpenError));if(!O._state.isBeingOpened){if(!O._state.autoOpen)return $e(new Q.DatabaseClosed);O.open().catch(he)}return O._state.dbReadyPromise.then(function(){return E(O,y,A,S)})}(this.db,a,[this.name],v);return d&&(_._consoleTask=d,_=_.catch(function(E){return console.trace(E),$e(E)})),_}finally{m&&vr()}},be.prototype.get=function(a,o){var l=this;return a&&a.constructor===Object?this.where(a).first(o):a==null?$e(new Q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return l.core.get({trans:c,key:a}).then(function(h){return l.hook.reading.fire(h)})}).then(o)},be.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(f(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var o=u(a);if(o.length===1)return this.where(o[0]).equals(a[o[0]]);var l=this.schema.indexes.concat(this.schema.primKey).filter(function(m){if(m.compound&&o.every(function(E){return 0<=m.keyPath.indexOf(E)})){for(var _=0;_<o.length;++_)if(o.indexOf(m.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(m,_){return m.keyPath.length-_.keyPath.length})[0];if(l&&this.db._maxKey!==Wt){var d=l.keyPath.slice(0,o.length);return this.where(d).equals(d.map(function(_){return a[_]}))}!l&&Le&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(o.join("+"),"]"));var c=this.schema.idxByName;function h(m,_){return ue(m,_)===0}var v=o.reduce(function(y,_){var E=y[0],O=y[1],y=c[_],A=a[_];return[E||y,E||!y?Yt(O,y&&y.multi?function(S){return S=le(S,_),f(S)&&S.some(function($){return h(A,$)})}:function(S){return h(A,le(S,_))}):O]},[null,null]),d=v[0],v=v[1];return d?this.where(d.name).equals(a[d.keyPath]).filter(v):l?this.filter(v):this.where(o).equals("")},be.prototype.filter=function(a){return this.toCollection().and(a)},be.prototype.count=function(a){return this.toCollection().count(a)},be.prototype.offset=function(a){return this.toCollection().offset(a)},be.prototype.limit=function(a){return this.toCollection().limit(a)},be.prototype.each=function(a){return this.toCollection().each(a)},be.prototype.toArray=function(a){return this.toCollection().toArray(a)},be.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},be.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,f(a)?"[".concat(a.join("+"),"]"):a))},be.prototype.reverse=function(){return this.toCollection().reverse()},be.prototype.mapToClass=function(a){var o,l=this.db,c=this.name;function h(){return o!==null&&o.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof ms&&(function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function O(){this.constructor=_}r(_,E),_.prototype=E===null?Object.create(E):(O.prototype=E.prototype,new O)}(h,o=a),Object.defineProperty(h.prototype,"db",{get:function(){return l},enumerable:!1,configurable:!0}),h.prototype.table=function(){return c},a=h);for(var d=new Set,v=a.prototype;v;v=g(v))Object.getOwnPropertyNames(v).forEach(function(_){return d.add(_)});function m(_){if(!_)return _;var E,O=Object.create(a.prototype);for(E in _)if(!d.has(E))try{O[E]=_[E]}catch{}return O}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),a},be.prototype.defineClass=function(){return this.mapToClass(function(a){p(this,a)})},be.prototype.add=function(a,o){var l=this,c=this.schema.primKey,h=c.auto,d=c.keyPath,v=a;return d&&h&&(v=ea(d)(a)),this._trans("readwrite",function(m){return l.core.mutate({trans:m,type:"add",keys:o!=null?[o]:null,values:[v]})}).then(function(m){return m.numFailures?X.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ve(a,d,m)}catch{}return m})},be.prototype.update=function(a,o){return typeof a!="object"||f(a)?this.where(":id").equals(a).modify(o):(a=le(a,this.schema.primKey.keyPath),a===void 0?$e(new Q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(o))},be.prototype.put=function(a,o){var l=this,c=this.schema.primKey,h=c.auto,d=c.keyPath,v=a;return d&&h&&(v=ea(d)(a)),this._trans("readwrite",function(m){return l.core.mutate({trans:m,type:"put",values:[v],keys:o!=null?[o]:null})}).then(function(m){return m.numFailures?X.reject(m.failures[0]):m.lastResult}).then(function(m){if(d)try{ve(a,d,m)}catch{}return m})},be.prototype.delete=function(a){var o=this;return this._trans("readwrite",function(l){return o.core.mutate({trans:l,type:"delete",keys:[a]})}).then(function(l){return l.numFailures?X.reject(l.failures[0]):void 0})},be.prototype.clear=function(){var a=this;return this._trans("readwrite",function(o){return a.core.mutate({trans:o,type:"deleteRange",range:bs})}).then(function(o){return o.numFailures?X.reject(o.failures[0]):void 0})},be.prototype.bulkGet=function(a){var o=this;return this._trans("readonly",function(l){return o.core.getMany({keys:a,trans:l}).then(function(c){return c.map(function(h){return o.hook.reading.fire(h)})})})},be.prototype.bulkAdd=function(a,o,l){var c=this,h=Array.isArray(o)?o:void 0,d=(l=l||(h?void 0:o))?l.allKeys:void 0;return this._trans("readwrite",function(v){var E=c.schema.primKey,m=E.auto,E=E.keyPath;if(E&&h)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var _=a.length,E=E&&m?a.map(ea(E)):a;return c.core.mutate({trans:v,type:"add",keys:h,values:E,wantResults:d}).then(function($){var y=$.numFailures,A=$.results,S=$.lastResult,$=$.failures;if(y===0)return d?A:S;throw new Ze("".concat(c.name,".bulkAdd(): ").concat(y," of ").concat(_," operations failed"),$)})})},be.prototype.bulkPut=function(a,o,l){var c=this,h=Array.isArray(o)?o:void 0,d=(l=l||(h?void 0:o))?l.allKeys:void 0;return this._trans("readwrite",function(v){var E=c.schema.primKey,m=E.auto,E=E.keyPath;if(E&&h)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(h&&h.length!==a.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var _=a.length,E=E&&m?a.map(ea(E)):a;return c.core.mutate({trans:v,type:"put",keys:h,values:E,wantResults:d}).then(function($){var y=$.numFailures,A=$.results,S=$.lastResult,$=$.failures;if(y===0)return d?A:S;throw new Ze("".concat(c.name,".bulkPut(): ").concat(y," of ").concat(_," operations failed"),$)})})},be.prototype.bulkUpdate=function(a){var o=this,l=this.core,c=a.map(function(v){return v.key}),h=a.map(function(v){return v.changes}),d=[];return this._trans("readwrite",function(v){return l.getMany({trans:v,keys:c,cache:"clone"}).then(function(m){var _=[],E=[];a.forEach(function(y,A){var S=y.key,$=y.changes,T=m[A];if(T){for(var C=0,P=Object.keys($);C<P.length;C++){var M=P[C],j=$[M];if(M===o.schema.primKey.keyPath){if(ue(j,S)!==0)throw new Q.Constraint("Cannot update primary key in bulkUpdate()")}else ve(T,M,j)}d.push(A),_.push(S),E.push(T)}});var O=_.length;return l.mutate({trans:v,type:"put",keys:_,values:E,updates:{keys:c,changeSpecs:h}}).then(function(y){var A=y.numFailures,S=y.failures;if(A===0)return O;for(var $=0,T=Object.keys(S);$<T.length;$++){var C,P=T[$],M=d[Number(P)];M!=null&&(C=S[P],delete S[P],S[M]=C)}throw new Ze("".concat(o.name,".bulkUpdate(): ").concat(A," of ").concat(O," operations failed"),S)})})})},be.prototype.bulkDelete=function(a){var o=this,l=a.length;return this._trans("readwrite",function(c){return o.core.mutate({trans:c,type:"delete",keys:a})}).then(function(v){var h=v.numFailures,d=v.lastResult,v=v.failures;if(h===0)return d;throw new Ze("".concat(o.name,".bulkDelete(): ").concat(h," of ").concat(l," operations failed"),v)})},be);function be(){}function on(a){function o(v,m){if(m){for(var _=arguments.length,E=new Array(_-1);--_;)E[_-1]=arguments[_];return l[v].subscribe.apply(null,E),a}if(typeof v=="string")return l[v]}var l={};o.addEventType=d;for(var c=1,h=arguments.length;c<h;++c)d(arguments[c]);return o;function d(v,m,_){if(typeof v!="object"){var E;m=m||Un;var O={subscribers:[],fire:_=_||he,subscribe:function(y){O.subscribers.indexOf(y)===-1&&(O.subscribers.push(y),O.fire=m(O.fire,y))},unsubscribe:function(y){O.subscribers=O.subscribers.filter(function(A){return A!==y}),O.fire=O.subscribers.reduce(m,_)}};return l[v]=o[v]=O}u(E=v).forEach(function(y){var A=E[y];if(f(A))d(y,E[y][0],E[y][1]);else{if(A!=="asap")throw new Q.InvalidArgument("Invalid event config");var S=d(y,ot,function(){for(var $=arguments.length,T=new Array($);$--;)T[$]=arguments[$];S.subscribers.forEach(function(C){Ce(function(){C.apply(null,T)})})})}})}}function sn(a,o){return B(o).from({prototype:a}),o}function yr(a,o){return!(a.filter||a.algorithm||a.or)&&(o?a.justLimit:!a.replayFilter)}function ui(a,o){a.filter=Yt(a.filter,o)}function ci(a,o,l){var c=a.replayFilter;a.replayFilter=c?function(){return Yt(c(),o())}:o,a.justLimit=l&&!c}function ta(a,o){if(a.isPrimKey)return o.primaryKey;var l=o.getIndexByKeyPath(a.index);if(!l)throw new Q.Schema("KeyPath "+a.index+" on object store "+o.name+" is not indexed");return l}function _s(a,o,l){var c=ta(a,o.schema);return o.openCursor({trans:l,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:c,range:a.range}})}function ra(a,o,l,c){var h=a.replayFilter?Yt(a.filter,a.replayFilter()):a.filter;if(a.or){var d={},v=function(m,_,E){var O,y;h&&!h(_,E,function(A){return _.stop(A)},function(A){return _.fail(A)})||((y=""+(O=_.primaryKey))=="[object ArrayBuffer]"&&(y=""+new Uint8Array(O)),w(d,y)||(d[y]=!0,o(m,_,E)))};return Promise.all([a.or._iterate(v,l),Ss(_s(a,c,l),a.algorithm,v,!a.keysOnly&&a.valueMapper)])}return Ss(_s(a,c,l),Yt(a.algorithm,h),o,!a.keysOnly&&a.valueMapper)}function Ss(a,o,l,c){var h=_e(c?function(d,v,m){return l(c(d),v,m)}:l);return a.then(function(d){if(d)return d.start(function(){var v=function(){return d.continue()};o&&!o(d,function(m){return v=m},function(m){d.stop(m),v=he},function(m){d.fail(m),v=he})||h(d.value,d,function(m){return v=m}),v()})})}var bt=Symbol(),ln=(Es.prototype.execute=function(a){if(this.add!==void 0){var o=this.add;if(f(o))return i(i([],f(a)?a:[],!0),o).sort();if(typeof o=="number")return(Number(a)||0)+o;if(typeof o=="bigint")try{return BigInt(a)+o}catch{return BigInt(0)+o}throw new TypeError("Invalid term ".concat(o))}if(this.remove!==void 0){var l=this.remove;if(f(l))return f(a)?a.filter(function(c){return!l.includes(c)}).sort():[];if(typeof l=="number")return Number(a)-l;if(typeof l=="bigint")try{return BigInt(a)-l}catch{return BigInt(0)-l}throw new TypeError("Invalid subtrahend ".concat(l))}return o=(o=this.replacePrefix)===null||o===void 0?void 0:o[0],o&&typeof a=="string"&&a.startsWith(o)?this.replacePrefix[1]+a.substring(o.length):a},Es);function Es(a){Object.assign(this,a)}var Wf=(pe.prototype._read=function(a,o){var l=this._ctx;return l.error?l.table._trans(null,$e.bind(null,l.error)):l.table._trans("readonly",a).then(o)},pe.prototype._write=function(a){var o=this._ctx;return o.error?o.table._trans(null,$e.bind(null,o.error)):o.table._trans("readwrite",a,"locked")},pe.prototype._addAlgorithm=function(a){var o=this._ctx;o.algorithm=Yt(o.algorithm,a)},pe.prototype._iterate=function(a,o){return ra(this._ctx,a,o,this._ctx.table.core)},pe.prototype.clone=function(a){var o=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return a&&p(l,a),o._ctx=l,o},pe.prototype.raw=function(){return this._ctx.valueMapper=null,this},pe.prototype.each=function(a){var o=this._ctx;return this._read(function(l){return ra(o,a,l,o.table.core)})},pe.prototype.count=function(a){var o=this;return this._read(function(l){var c=o._ctx,h=c.table.core;if(yr(c,!0))return h.count({trans:l,query:{index:ta(c,h.schema),range:c.range}}).then(function(v){return Math.min(v,c.limit)});var d=0;return ra(c,function(){return++d,!1},l,h).then(function(){return d})}).then(a)},pe.prototype.sortBy=function(a,o){var l=a.split(".").reverse(),c=l[0],h=l.length-1;function d(_,E){return E?d(_[l[E]],E-1):_[c]}var v=this._ctx.dir==="next"?1:-1;function m(_,E){return ue(d(_,h),d(E,h))*v}return this.toArray(function(_){return _.sort(m)}).then(o)},pe.prototype.toArray=function(a){var o=this;return this._read(function(l){var c=o._ctx;if(c.dir==="next"&&yr(c,!0)&&0<c.limit){var h=c.valueMapper,d=ta(c,c.table.core.schema);return c.table.core.query({trans:l,limit:c.limit,values:!0,query:{index:d,range:c.range}}).then(function(m){return m=m.result,h?m.map(h):m})}var v=[];return ra(c,function(m){return v.push(m)},l,c.table.core).then(function(){return v})},a)},pe.prototype.offset=function(a){var o=this._ctx;return a<=0||(o.offset+=a,yr(o)?ci(o,function(){var l=a;return function(c,h){return l===0||(l===1?--l:h(function(){c.advance(l),l=0}),!1)}}):ci(o,function(){var l=a;return function(){return--l<0}})),this},pe.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),ci(this._ctx,function(){var o=a;return function(l,c,h){return--o<=0&&c(h),0<=o}},!0),this},pe.prototype.until=function(a,o){return ui(this._ctx,function(l,c,h){return!a(l.value)||(c(h),o)}),this},pe.prototype.first=function(a){return this.limit(1).toArray(function(o){return o[0]}).then(a)},pe.prototype.last=function(a){return this.reverse().first(a)},pe.prototype.filter=function(a){var o;return ui(this._ctx,function(l){return a(l.value)}),(o=this._ctx).isMatch=Yt(o.isMatch,a),this},pe.prototype.and=function(a){return this.filter(a)},pe.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},pe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},pe.prototype.desc=function(){return this.reverse()},pe.prototype.eachKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(l,c){a(c.key,c)})},pe.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},pe.prototype.eachPrimaryKey=function(a){var o=this._ctx;return o.keysOnly=!o.isMatch,this.each(function(l,c){a(c.primaryKey,c)})},pe.prototype.keys=function(a){var o=this._ctx;o.keysOnly=!o.isMatch;var l=[];return this.each(function(c,h){l.push(h.key)}).then(function(){return l}).then(a)},pe.prototype.primaryKeys=function(a){var o=this._ctx;if(o.dir==="next"&&yr(o,!0)&&0<o.limit)return this._read(function(c){var h=ta(o,o.table.core.schema);return o.table.core.query({trans:c,values:!1,limit:o.limit,query:{index:h,range:o.range}})}).then(function(c){return c.result}).then(a);o.keysOnly=!o.isMatch;var l=[];return this.each(function(c,h){l.push(h.primaryKey)}).then(function(){return l}).then(a)},pe.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},pe.prototype.firstKey=function(a){return this.limit(1).keys(function(o){return o[0]}).then(a)},pe.prototype.lastKey=function(a){return this.reverse().firstKey(a)},pe.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var o={};return ui(this._ctx,function(h){var c=h.primaryKey.toString(),h=w(o,c);return o[c]=!0,!h}),this},pe.prototype.modify=function(a){var o=this,l=this._ctx;return this._write(function(c){var h,d,v;v=typeof a=="function"?a:(h=u(a),d=h.length,function(C){for(var P=!1,M=0;M<d;++M){var j=h[M],I=a[j],K=le(C,j);I instanceof ln?(ve(C,j,I.execute(K)),P=!0):K!==I&&(ve(C,j,I),P=!0)}return P});var m=l.table.core,y=m.schema.primaryKey,_=y.outbound,E=y.extractKey,O=200,y=o.db._options.modifyChunkSize;y&&(O=typeof y=="object"?y[m.name]||y["*"]||200:y);function A(C,j){var M=j.failures,j=j.numFailures;$+=C-j;for(var I=0,K=u(M);I<K.length;I++){var q=K[I];S.push(M[q])}}var S=[],$=0,T=[];return o.clone().primaryKeys().then(function(C){function P(j){var I=Math.min(O,C.length-j);return m.getMany({trans:c,keys:C.slice(j,j+I),cache:"immutable"}).then(function(K){for(var q=[],H=[],G=_?[]:null,V=[],z=0;z<I;++z){var Z=K[z],ie={value:at(Z),primKey:C[j+z]};v.call(ie,ie.value,ie)!==!1&&(ie.value==null?V.push(C[j+z]):_||ue(E(Z),E(ie.value))===0?(H.push(ie.value),_&&G.push(C[j+z])):(V.push(C[j+z]),q.push(ie.value)))}return Promise.resolve(0<q.length&&m.mutate({trans:c,type:"add",values:q}).then(function(oe){for(var se in oe.failures)V.splice(parseInt(se),1);A(q.length,oe)})).then(function(){return(0<H.length||M&&typeof a=="object")&&m.mutate({trans:c,type:"put",keys:G,values:H,criteria:M,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<j}).then(function(oe){return A(H.length,oe)})}).then(function(){return(0<V.length||M&&a===fi)&&m.mutate({trans:c,type:"delete",keys:V,criteria:M,isAdditionalChunk:0<j}).then(function(oe){return A(V.length,oe)})}).then(function(){return C.length>j+I&&P(j+O)})})}var M=yr(l)&&l.limit===1/0&&(typeof a!="function"||a===fi)&&{index:l.index,range:l.range};return P(0).then(function(){if(0<S.length)throw new Be("Error modifying one or more objects",S,$,T);return C.length})})})},pe.prototype.delete=function(){var a=this._ctx,o=a.range;return yr(a)&&(a.isPrimKey||o.type===3)?this._write(function(l){var c=a.table.core.schema.primaryKey,h=o;return a.table.core.count({trans:l,query:{index:c,range:h}}).then(function(d){return a.table.core.mutate({trans:l,type:"deleteRange",range:h}).then(function(v){var m=v.failures;if(v.lastResult,v.results,v=v.numFailures,v)throw new Be("Could not delete some values",Object.keys(m).map(function(_){return m[_]}),d-v);return d-v})})}):this.modify(fi)},pe);function pe(){}var fi=function(a,o){return o.value=null};function Yf(a,o){return a<o?-1:a===o?0:1}function Xf(a,o){return o<a?-1:a===o?0:1}function Ke(a,o,l){return a=a instanceof $s?new a.Collection(a):a,a._ctx.error=new(l||TypeError)(o),a}function xr(a){return new a.Collection(a,function(){return Cs("")}).limit(0)}function na(a,o,l,c){var h,d,v,m,_,E,O,y=l.length;if(!l.every(function($){return typeof $=="string"}))return Ke(a,vs);function A($){h=$==="next"?function(C){return C.toUpperCase()}:function(C){return C.toLowerCase()},d=$==="next"?function(C){return C.toLowerCase()}:function(C){return C.toUpperCase()},v=$==="next"?Yf:Xf;var T=l.map(function(C){return{lower:d(C),upper:h(C)}}).sort(function(C,P){return v(C.lower,P.lower)});m=T.map(function(C){return C.upper}),_=T.map(function(C){return C.lower}),O=(E=$)==="next"?"":c}A("next"),a=new a.Collection(a,function(){return Pt(m[0],_[y-1]+c)}),a._ondirectionchange=function($){A($)};var S=0;return a._addAlgorithm(function($,T,C){var P=$.key;if(typeof P!="string")return!1;var M=d(P);if(o(M,_,S))return!0;for(var j=null,I=S;I<y;++I){var K=function(q,H,G,V,z,Z){for(var ie=Math.min(q.length,V.length),oe=-1,se=0;se<ie;++se){var He=H[se];if(He!==V[se])return z(q[se],G[se])<0?q.substr(0,se)+G[se]+G.substr(se+1):z(q[se],V[se])<0?q.substr(0,se)+V[se]+G.substr(se+1):0<=oe?q.substr(0,oe)+H[oe]+G.substr(oe+1):null;z(q[se],He)<0&&(oe=se)}return ie<V.length&&Z==="next"?q+G.substr(q.length):ie<q.length&&Z==="prev"?q.substr(0,G.length):oe<0?null:q.substr(0,oe)+V[oe]+G.substr(oe+1)}(P,M,m[I],_[I],v,E);K===null&&j===null?S=I+1:(j===null||0<v(j,K))&&(j=K)}return T(j!==null?function(){$.continue(j+O)}:C),!1}),a}function Pt(a,o,l,c){return{type:2,lower:a,upper:o,lowerOpen:l,upperOpen:c}}function Cs(a){return{type:1,lower:a,upper:a}}var $s=(Object.defineProperty(Pe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Pe.prototype.between=function(a,o,l,c){l=l!==!1,c=c===!0;try{return 0<this._cmp(a,o)||this._cmp(a,o)===0&&(l||c)&&(!l||!c)?xr(this):new this.Collection(this,function(){return Pt(a,o,!l,!c)})}catch{return Ke(this,vt)}},Pe.prototype.equals=function(a){return a==null?Ke(this,vt):new this.Collection(this,function(){return Cs(a)})},Pe.prototype.above=function(a){return a==null?Ke(this,vt):new this.Collection(this,function(){return Pt(a,void 0,!0)})},Pe.prototype.aboveOrEqual=function(a){return a==null?Ke(this,vt):new this.Collection(this,function(){return Pt(a,void 0,!1)})},Pe.prototype.below=function(a){return a==null?Ke(this,vt):new this.Collection(this,function(){return Pt(void 0,a,!1,!0)})},Pe.prototype.belowOrEqual=function(a){return a==null?Ke(this,vt):new this.Collection(this,function(){return Pt(void 0,a)})},Pe.prototype.startsWith=function(a){return typeof a!="string"?Ke(this,vs):this.between(a,a+Wt,!0,!0)},Pe.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):na(this,function(o,l){return o.indexOf(l[0])===0},[a],Wt)},Pe.prototype.equalsIgnoreCase=function(a){return na(this,function(o,l){return o===l[0]},[a],"")},Pe.prototype.anyOfIgnoreCase=function(){var a=Ue.apply(qe,arguments);return a.length===0?xr(this):na(this,function(o,l){return l.indexOf(o)!==-1},a,"")},Pe.prototype.startsWithAnyOfIgnoreCase=function(){var a=Ue.apply(qe,arguments);return a.length===0?xr(this):na(this,function(o,l){return l.some(function(c){return o.indexOf(c)===0})},a,Wt)},Pe.prototype.anyOf=function(){var a=this,o=Ue.apply(qe,arguments),l=this._cmp;try{o.sort(l)}catch{return Ke(this,vt)}if(o.length===0)return xr(this);var c=new this.Collection(this,function(){return Pt(o[0],o[o.length-1])});c._ondirectionchange=function(d){l=d==="next"?a._ascending:a._descending,o.sort(l)};var h=0;return c._addAlgorithm(function(d,v,m){for(var _=d.key;0<l(_,o[h]);)if(++h===o.length)return v(m),!1;return l(_,o[h])===0||(v(function(){d.continue(o[h])}),!1)}),c},Pe.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Pe.prototype.noneOf=function(){var a=Ue.apply(qe,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return Ke(this,vt)}var o=a.reduce(function(l,c){return l?l.concat([[l[l.length-1][1],c]]):[[-1/0,c]]},null);return o.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(o,{includeLowers:!1,includeUppers:!1})},Pe.prototype.inAnyRange=function(P,o){var l=this,c=this._cmp,h=this._ascending,d=this._descending,v=this._min,m=this._max;if(P.length===0)return xr(this);if(!P.every(function(M){return M[0]!==void 0&&M[1]!==void 0&&h(M[0],M[1])<=0}))return Ke(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);var _=!o||o.includeLowers!==!1,E=o&&o.includeUppers===!0,O,y=h;function A(M,j){return y(M[0],j[0])}try{(O=P.reduce(function(M,j){for(var I=0,K=M.length;I<K;++I){var q=M[I];if(c(j[0],q[1])<0&&0<c(j[1],q[0])){q[0]=v(q[0],j[0]),q[1]=m(q[1],j[1]);break}}return I===K&&M.push(j),M},[])).sort(A)}catch{return Ke(this,vt)}var S=0,$=E?function(M){return 0<h(M,O[S][1])}:function(M){return 0<=h(M,O[S][1])},T=_?function(M){return 0<d(M,O[S][0])}:function(M){return 0<=d(M,O[S][0])},C=$,P=new this.Collection(this,function(){return Pt(O[0][0],O[O.length-1][1],!_,!E)});return P._ondirectionchange=function(M){y=M==="next"?(C=$,h):(C=T,d),O.sort(A)},P._addAlgorithm(function(M,j,I){for(var K,q=M.key;C(q);)if(++S===O.length)return j(I),!1;return!$(K=q)&&!T(K)||(l._cmp(q,O[S][1])===0||l._cmp(q,O[S][0])===0||j(function(){y===h?M.continue(O[S][0]):M.continue(O[S][1])}),!1)}),P},Pe.prototype.startsWithAnyOf=function(){var a=Ue.apply(qe,arguments);return a.every(function(o){return typeof o=="string"})?a.length===0?xr(this):this.inAnyRange(a.map(function(o){return[o,o+Wt]})):Ke(this,"startsWithAnyOf() only works with strings")},Pe);function Pe(){}function ut(a){return _e(function(o){return un(o),a(o.target.error),!1})}function un(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var cn="storagemutated",hi="x-storagemutated-1",kt=on(null,cn),Zf=(ct.prototype._lock=function(){return fe(!ee.global),++this._reculock,this._reculock!==1||ee.global||(ee.lockOwnerFor=this),this},ct.prototype._unlock=function(){if(fe(!ee.global),--this._reculock==0)for(ee.global||(ee.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{Vt(a[1],a[0])}catch{}}return this},ct.prototype._locked=function(){return this._reculock&&ee.lockOwnerFor!==this},ct.prototype.create=function(a){var o=this;if(!this.mode)return this;var l=this.db.idbdb,c=this.db._state.dbOpenError;if(fe(!this.idbtrans),!a&&!l)switch(c&&c.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(c);case"MissingAPIError":throw new Q.MissingAPI(c.message,c);default:throw new Q.OpenFailed(c)}if(!this.active)throw new Q.TransactionInactive;return fe(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||l).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=_e(function(h){un(h),o._reject(a.error)}),a.onabort=_e(function(h){un(h),o.active&&o._reject(new Q.Abort(a.error)),o.active=!1,o.on("abort").fire(h)}),a.oncomplete=_e(function(){o.active=!1,o._resolve(),"mutatedParts"in a&&kt.storagemutated.fire(a.mutatedParts)}),this},ct.prototype._promise=function(a,o,l){var c=this;if(a==="readwrite"&&this.mode!=="readwrite")return $e(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return $e(new Q.TransactionInactive);if(this._locked())return new X(function(d,v){c._blockedFuncs.push([function(){c._promise(a,o,l).then(d,v)},ee])});if(l)return Ot(function(){var d=new X(function(v,m){c._lock();var _=o(v,m,c);_&&_.then&&_.then(v,m)});return d.finally(function(){return c._unlock()}),d._lib=!0,d});var h=new X(function(d,v){var m=o(d,v,c);m&&m.then&&m.then(d,v)});return h._lib=!0,h},ct.prototype._root=function(){return this.parent?this.parent._root():this},ct.prototype.waitFor=function(a){var o,l=this._root(),c=X.resolve(a);l._waitingFor?l._waitingFor=l._waitingFor.then(function(){return c}):(l._waitingFor=c,l._waitingQueue=[],o=l.idbtrans.objectStore(l.storeNames[0]),function d(){for(++l._spinCount;l._waitingQueue.length;)l._waitingQueue.shift()();l._waitingFor&&(o.get(-1/0).onsuccess=d)}());var h=l._waitingFor;return new X(function(d,v){c.then(function(m){return l._waitingQueue.push(_e(d.bind(null,m)))},function(m){return l._waitingQueue.push(_e(v.bind(null,m)))}).finally(function(){l._waitingFor===h&&(l._waitingFor=null)})})},ct.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))},ct.prototype.table=function(a){var o=this._memoizedTables||(this._memoizedTables={});if(w(o,a))return o[a];var l=this.schema[a];if(!l)throw new Q.NotFound("Table "+a+" not part of transaction");return l=new this.db.Table(a,l,this),l.core=this.db.core.table(a),o[a]=l},ct);function ct(){}function pi(a,o,l,c,h,d,v){return{name:a,keyPath:o,unique:l,multi:c,auto:h,compound:d,src:(l&&!v?"&":"")+(c?"*":"")+(h?"++":"")+Os(o)}}function Os(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function di(a,o,l){return{name:a,primKey:o,indexes:l,mappedClass:null,idxByName:(c=function(h){return[h.name,h]},l.reduce(function(h,d,v){return v=c(d,v),v&&(h[v[0]]=v[1]),h},{}))};var c}var fn=function(a){try{return a.only([[]]),fn=function(){return[[]]},[[]]}catch{return fn=function(){return Wt},Wt}};function gi(a){return a==null?function(){}:typeof a=="string"?(o=a).split(".").length===1?function(l){return l[o]}:function(l){return le(l,o)}:function(l){return le(l,a)};var o}function Ts(a){return[].slice.call(a)}var Jf=0;function hn(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function Qf(a,o,_){function c(C){if(C.type===3)return null;if(C.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=C.lower,$=C.upper,T=C.lowerOpen,C=C.upperOpen;return S===void 0?$===void 0?null:o.upperBound($,!!C):$===void 0?o.lowerBound(S,!!T):o.bound(S,$,!!T,!!C)}function h(A){var S,$=A.name;return{name:$,schema:A,mutate:function(T){var C=T.trans,P=T.type,M=T.keys,j=T.values,I=T.range;return new Promise(function(K,q){K=_e(K);var H=C.objectStore($),G=H.keyPath==null,V=P==="put"||P==="add";if(!V&&P!=="delete"&&P!=="deleteRange")throw new Error("Invalid operation type: "+P);var z,Z=(M||j||{length:1}).length;if(M&&j&&M.length!==j.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return K({numFailures:0,failures:{},results:[],lastResult:void 0});function ie(Ie){++He,un(Ie)}var oe=[],se=[],He=0;if(P==="deleteRange"){if(I.type===4)return K({numFailures:He,failures:se,results:[],lastResult:void 0});I.type===3?oe.push(z=H.clear()):oe.push(z=H.delete(c(I)))}else{var G=V?G?[j,M]:[j,null]:[M,null],ae=G[0],Re=G[1];if(V)for(var Fe=0;Fe<Z;++Fe)oe.push(z=Re&&Re[Fe]!==void 0?H[P](ae[Fe],Re[Fe]):H[P](ae[Fe])),z.onerror=ie;else for(Fe=0;Fe<Z;++Fe)oe.push(z=H[P](ae[Fe])),z.onerror=ie}function va(Ie){Ie=Ie.target.result,oe.forEach(function(Jt,ji){return Jt.error!=null&&(se[ji]=Jt.error)}),K({numFailures:He,failures:se,results:P==="delete"?M:oe.map(function(Jt){return Jt.result}),lastResult:Ie})}z.onerror=function(Ie){ie(Ie),va(Ie)},z.onsuccess=va})},getMany:function(T){var C=T.trans,P=T.keys;return new Promise(function(M,j){M=_e(M);for(var I,K=C.objectStore($),q=P.length,H=new Array(q),G=0,V=0,z=function(oe){oe=oe.target,H[oe._pos]=oe.result,++V===G&&M(H)},Z=ut(j),ie=0;ie<q;++ie)P[ie]!=null&&((I=K.get(P[ie]))._pos=ie,I.onsuccess=z,I.onerror=Z,++G);G===0&&M(H)})},get:function(T){var C=T.trans,P=T.key;return new Promise(function(M,j){M=_e(M);var I=C.objectStore($).get(P);I.onsuccess=function(K){return M(K.target.result)},I.onerror=ut(j)})},query:(S=E,function(T){return new Promise(function(C,P){C=_e(C);var M,j,I,G=T.trans,K=T.values,q=T.limit,z=T.query,H=q===1/0?void 0:q,V=z.index,z=z.range,G=G.objectStore($),V=V.isPrimaryKey?G:G.index(V.name),z=c(z);if(q===0)return C({result:[]});S?((H=K?V.getAll(z,H):V.getAllKeys(z,H)).onsuccess=function(Z){return C({result:Z.target.result})},H.onerror=ut(P)):(M=0,j=!K&&"openKeyCursor"in V?V.openKeyCursor(z):V.openCursor(z),I=[],j.onsuccess=function(Z){var ie=j.result;return ie?(I.push(K?ie.value:ie.primaryKey),++M===q?C({result:I}):void ie.continue()):C({result:I})},j.onerror=ut(P))})}),openCursor:function(T){var C=T.trans,P=T.values,M=T.query,j=T.reverse,I=T.unique;return new Promise(function(K,q){K=_e(K);var V=M.index,H=M.range,G=C.objectStore($),G=V.isPrimaryKey?G:G.index(V.name),V=j?I?"prevunique":"prev":I?"nextunique":"next",z=!P&&"openKeyCursor"in G?G.openKeyCursor(c(H),V):G.openCursor(c(H),V);z.onerror=ut(q),z.onsuccess=_e(function(Z){var ie,oe,se,He,ae=z.result;ae?(ae.___id=++Jf,ae.done=!1,ie=ae.continue.bind(ae),oe=(oe=ae.continuePrimaryKey)&&oe.bind(ae),se=ae.advance.bind(ae),He=function(){throw new Error("Cursor not stopped")},ae.trans=C,ae.stop=ae.continue=ae.continuePrimaryKey=ae.advance=function(){throw new Error("Cursor not started")},ae.fail=_e(q),ae.next=function(){var Re=this,Fe=1;return this.start(function(){return Fe--?Re.continue():Re.stop()}).then(function(){return Re})},ae.start=function(Re){function Fe(){if(z.result)try{Re()}catch(Ie){ae.fail(Ie)}else ae.done=!0,ae.start=function(){throw new Error("Cursor behind last entry")},ae.stop()}var va=new Promise(function(Ie,Jt){Ie=_e(Ie),z.onerror=ut(Jt),ae.fail=Jt,ae.stop=function(ji){ae.stop=ae.continue=ae.continuePrimaryKey=ae.advance=He,Ie(ji)}});return z.onsuccess=_e(function(Ie){z.onsuccess=Fe,Fe()}),ae.continue=ie,ae.continuePrimaryKey=oe,ae.advance=se,Fe(),va},K(ae)):K(null)},q)})},count:function(T){var C=T.query,P=T.trans,M=C.index,j=C.range;return new Promise(function(I,K){var q=P.objectStore($),H=M.isPrimaryKey?q:q.index(M.name),q=c(j),H=q?H.count(q):H.count();H.onsuccess=_e(function(G){return I(G.target.result)}),H.onerror=ut(K)})}}}var d,v,m,O=(v=_,m=Ts((d=a).objectStoreNames),{schema:{name:d.name,tables:m.map(function(A){return v.objectStore(A)}).map(function(A){var S=A.keyPath,C=A.autoIncrement,$=f(S),T={},C={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:$,keyPath:S,autoIncrement:C,unique:!0,extractKey:gi(S)},indexes:Ts(A.indexNames).map(function(P){return A.index(P)}).map(function(I){var M=I.name,j=I.unique,K=I.multiEntry,I=I.keyPath,K={name:M,compound:f(I),keyPath:I,unique:j,multiEntry:K,extractKey:gi(I)};return T[hn(I)]=K}),getIndexByKeyPath:function(P){return T[hn(P)]}};return T[":id"]=C.primaryKey,S!=null&&(T[hn(S)]=C.primaryKey),C})},hasGetAll:0<m.length&&"getAll"in v.objectStore(m[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=O.schema,E=O.hasGetAll,O=_.tables.map(h),y={};return O.forEach(function(A){return y[A.name]=A}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(A){if(!y[A])throw new Error("Table '".concat(A,"' not found"));return y[A]},MIN_KEY:-1/0,MAX_KEY:fn(o),schema:_}}function eh(a,o,l,c){var h=l.IDBKeyRange;return l.indexedDB,{dbcore:(c=Qf(o,h,c),a.dbcore.reduce(function(d,v){return v=v.create,n(n({},d),v(d))},c))}}function aa(a,c){var l=c.db,c=eh(a._middlewares,l,a._deps,c);a.core=c.dbcore,a.tables.forEach(function(h){var d=h.name;a.core.schema.tables.some(function(v){return v.name===d})&&(h.core=a.core.table(d),a[d]instanceof a.Table&&(a[d].core=h.core))})}function ia(a,o,l,c){l.forEach(function(h){var d=c[h];o.forEach(function(v){var m=function _(E,O){return L(E,O)||(E=g(E))&&_(E,O)}(v,h);(!m||"value"in m&&m.value===void 0)&&(v===a.Transaction.prototype||v instanceof a.Transaction?N(v,h,{get:function(){return this.table(h)},set:function(_){F(this,h,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):v[h]=new a.Table(h,d))})})}function vi(a,o){o.forEach(function(l){for(var c in l)l[c]instanceof a.Table&&delete l[c]})}function th(a,o){return a._cfg.version-o._cfg.version}function rh(a,o,l,c){var h=a._dbSchema;l.objectStoreNames.contains("$meta")&&!h.$meta&&(h.$meta=di("$meta",Ps("")[0],[]),a._storeNames.push("$meta"));var d=a._createTransaction("readwrite",a._storeNames,h);d.create(l),d._completion.catch(c);var v=d._reject.bind(d),m=ee.transless||ee;Ot(function(){return ee.trans=d,ee.transless=m,o!==0?(aa(a,l),E=o,((_=d).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(O){return O??E}):X.resolve(E)).then(function(O){return A=O,S=d,$=l,T=[],O=(y=a)._versions,C=y._dbSchema=sa(0,y.idbdb,$),(O=O.filter(function(P){return P._cfg.version>=A})).length!==0?(O.forEach(function(P){T.push(function(){var M=C,j=P._cfg.dbschema;la(y,M,$),la(y,j,$),C=y._dbSchema=j;var I=bi(M,j);I.add.forEach(function(V){mi($,V[0],V[1].primKey,V[1].indexes)}),I.change.forEach(function(V){if(V.recreate)throw new Q.Upgrade("Not yet support for changing primary key");var z=$.objectStore(V.name);V.add.forEach(function(Z){return oa(z,Z)}),V.change.forEach(function(Z){z.deleteIndex(Z.name),oa(z,Z)}),V.del.forEach(function(Z){return z.deleteIndex(Z)})});var K=P._cfg.contentUpgrade;if(K&&P._cfg.version>A){aa(y,$),S._memoizedTables={};var q=Xe(j);I.del.forEach(function(V){q[V]=M[V]}),vi(y,[y.Transaction.prototype]),ia(y,[y.Transaction.prototype],u(q),q),S.schema=q;var H,G=hr(K);return G&&br(),I=X.follow(function(){var V;(H=K(S))&&G&&(V=Tt.bind(null,null),H.then(V,V))}),H&&typeof H.then=="function"?X.resolve(H):I.then(function(){return H})}}),T.push(function(M){var j,I,K=P._cfg.dbschema;j=K,I=M,[].slice.call(I.db.objectStoreNames).forEach(function(q){return j[q]==null&&I.db.deleteObjectStore(q)}),vi(y,[y.Transaction.prototype]),ia(y,[y.Transaction.prototype],y._storeNames,y._dbSchema),S.schema=y._dbSchema}),T.push(function(M){y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(y.idbdb.version/10)===P._cfg.version?(y.idbdb.deleteObjectStore("$meta"),delete y._dbSchema.$meta,y._storeNames=y._storeNames.filter(function(j){return j!=="$meta"})):M.objectStore("$meta").put(P._cfg.version,"version"))})}),function P(){return T.length?X.resolve(T.shift()(S.idbtrans)).then(P):X.resolve()}().then(function(){As(C,$)})):X.resolve();var y,A,S,$,T,C}).catch(v)):(u(h).forEach(function(O){mi(l,O,h[O].primKey,h[O].indexes)}),aa(a,l),void X.follow(function(){return a.on.populate.fire(d)}).catch(v));var _,E})}function nh(a,o){As(a._dbSchema,o),o.db.version%10!=0||o.objectStoreNames.contains("$meta")||o.db.createObjectStore("$meta").add(Math.ceil(o.db.version/10-1),"version");var l=sa(0,a.idbdb,o);la(a,a._dbSchema,o);for(var c=0,h=bi(l,a._dbSchema).change;c<h.length;c++){var d=function(v){if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var m=o.objectStore(v.name);v.add.forEach(function(_){Le&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(_.src)),oa(m,_)})}(h[c]);if(typeof d=="object")return d.value}}function bi(a,o){var l,c={del:[],add:[],change:[]};for(l in a)o[l]||c.del.push(l);for(l in o){var h=a[l],d=o[l];if(h){var v={name:l,def:d,recreate:!1,del:[],add:[],change:[]};if(""+(h.primKey.keyPath||"")!=""+(d.primKey.keyPath||"")||h.primKey.auto!==d.primKey.auto)v.recreate=!0,c.change.push(v);else{var m=h.idxByName,_=d.idxByName,E=void 0;for(E in m)_[E]||v.del.push(E);for(E in _){var O=m[E],y=_[E];O?O.src!==y.src&&v.change.push(y):v.add.push(y)}(0<v.del.length||0<v.add.length||0<v.change.length)&&c.change.push(v)}}else c.add.push([l,d])}return c}function mi(a,o,l,c){var h=a.db.createObjectStore(o,l.keyPath?{keyPath:l.keyPath,autoIncrement:l.auto}:{autoIncrement:l.auto});return c.forEach(function(d){return oa(h,d)}),h}function As(a,o){u(a).forEach(function(l){o.db.objectStoreNames.contains(l)||(Le&&console.debug("Dexie: Creating missing table",l),mi(o,l,a[l].primKey,a[l].indexes))})}function oa(a,o){a.createIndex(o.name,o.keyPath,{unique:o.unique,multiEntry:o.multi})}function sa(a,o,l){var c={};return re(o.objectStoreNames,0).forEach(function(h){for(var d=l.objectStore(h),v=pi(Os(E=d.keyPath),E||"",!0,!1,!!d.autoIncrement,E&&typeof E!="string",!0),m=[],_=0;_<d.indexNames.length;++_){var O=d.index(d.indexNames[_]),E=O.keyPath,O=pi(O.name,E,!!O.unique,!!O.multiEntry,!1,E&&typeof E!="string",!1);m.push(O)}c[h]=di(h,v,m)}),c}function la(a,o,l){for(var c=l.db.objectStoreNames,h=0;h<c.length;++h){var d=c[h],v=l.objectStore(d);a._hasGetAll="getAll"in v;for(var m=0;m<v.indexNames.length;++m){var _=v.indexNames[m],E=v.index(_).keyPath,O=typeof E=="string"?E:"["+re(E).join("+")+"]";!o[d]||(E=o[d].idxByName[O])&&(E.name=_,delete o[d].idxByName[O],o[d].idxByName[_]=E)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Ps(a){return a.split(",").map(function(o,l){var c=(o=o.trim()).replace(/([&*]|\+\+)/g,""),h=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return pi(c,h||null,/\&/.test(o),/\*/.test(o),/\+\+/.test(o),f(h),l===0)})}var ah=(ua.prototype._parseStoresSpec=function(a,o){u(a).forEach(function(l){if(a[l]!==null){var c=Ps(a[l]),h=c.shift();if(h.unique=!0,h.multi)throw new Q.Schema("Primary key cannot be multi-valued");c.forEach(function(d){if(d.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!d.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),o[l]=di(l,h,c)}})},ua.prototype.stores=function(l){var o=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,l):l;var l=o._versions,c={},h={};return l.forEach(function(d){p(c,d._cfg.storesSource),h=d._cfg.dbschema={},d._parseStoresSpec(c,h)}),o._dbSchema=h,vi(o,[o._allTables,o,o.Transaction.prototype]),ia(o,[o._allTables,o,o.Transaction.prototype,this._cfg.tables],u(h),h),o._storeNames=u(h),this},ua.prototype.upgrade=function(a){return this._cfg.contentUpgrade=dr(this._cfg.contentUpgrade||he,a),this},ua);function ua(){}function yi(a,o){var l=a._dbNamesDB;return l||(l=a._dbNamesDB=new mt(Qn,{addons:[],indexedDB:a,IDBKeyRange:o})).version(1).stores({dbnames:"name"}),l.table("dbnames")}function xi(a){return a&&typeof a.databases=="function"}function wi(a){return Ot(function(){return ee.letThrough=!0,a()})}function _i(a){return!("from"in a)}var je=function(a,o){if(!this){var l=new je;return a&&"d"in a&&p(l,a),l}p(this,arguments.length?{d:1,from:a,to:1<arguments.length?o:a}:{d:0})};function pn(a,o,l){var c=ue(o,l);if(!isNaN(c)){if(0<c)throw RangeError();if(_i(a))return p(a,{from:o,to:l,d:1});var h=a.l,c=a.r;if(ue(l,a.from)<0)return h?pn(h,o,l):a.l={from:o,to:l,d:1,l:null,r:null},Ms(a);if(0<ue(o,a.to))return c?pn(c,o,l):a.r={from:o,to:l,d:1,l:null,r:null},Ms(a);ue(o,a.from)<0&&(a.from=o,a.l=null,a.d=c?c.d+1:1),0<ue(l,a.to)&&(a.to=l,a.r=null,a.d=a.l?a.l.d+1:1),l=!a.r,h&&!a.l&&dn(a,h),c&&l&&dn(a,c)}}function dn(a,o){_i(o)||function l(c,_){var d=_.from,v=_.to,m=_.l,_=_.r;pn(c,d,v),m&&l(c,m),_&&l(c,_)}(a,o)}function ks(a,o){var l=ca(o),c=l.next();if(c.done)return!1;for(var h=c.value,d=ca(a),v=d.next(h.from),m=v.value;!c.done&&!v.done;){if(ue(m.from,h.to)<=0&&0<=ue(m.to,h.from))return!0;ue(h.from,m.from)<0?h=(c=l.next(m.from)).value:m=(v=d.next(h.from)).value}return!1}function ca(a){var o=_i(a)?null:{s:0,n:a};return{next:function(l){for(var c=0<arguments.length;o;)switch(o.s){case 0:if(o.s=1,c)for(;o.n.l&&ue(l,o.n.from)<0;)o={up:o,n:o.n.l,s:1};else for(;o.n.l;)o={up:o,n:o.n.l,s:1};case 1:if(o.s=2,!c||ue(l,o.n.to)<=0)return{value:o.n,done:!1};case 2:if(o.n.r){o.s=3,o={up:o,n:o.n.r,s:0};continue}case 3:o=o.up}return{done:!0}}}}function Ms(a){var o,l,c=(((o=a.r)===null||o===void 0?void 0:o.d)||0)-(((l=a.l)===null||l===void 0?void 0:l.d)||0),h=1<c?"r":c<-1?"l":"";h&&(o=h=="r"?"l":"r",l=n({},a),c=a[h],a.from=c.from,a.to=c.to,a[h]=c[h],l[h]=c[o],(a[o]=l).d=js(l)),a.d=js(a)}function js(l){var o=l.r,l=l.l;return(o?l?Math.max(o.d,l.d):o.d:l?l.d:0)+1}function fa(a,o){return u(o).forEach(function(l){a[l]?dn(a[l],o[l]):a[l]=function c(h){var d,v,m={};for(d in h)w(h,d)&&(v=h[d],m[d]=!v||typeof v!="object"||Ee.has(v.constructor)?v:c(v));return m}(o[l])}),a}function Si(a,o){return a.all||o.all||Object.keys(a).some(function(l){return o[l]&&ks(o[l],a[l])})}k(je.prototype,((Ve={add:function(a){return dn(this,a),this},addKey:function(a){return pn(this,a,a),this},addKeys:function(a){var o=this;return a.forEach(function(l){return pn(o,l,l)}),this},hasKey:function(a){var o=ca(this).next(a).value;return o&&ue(o.from,a)<=0&&0<=ue(o.to,a)}})[Et]=function(){return ca(this)},Ve));var Xt={},Ei={},Ci=!1;function ha(a){fa(Ei,a),Ci||(Ci=!0,setTimeout(function(){Ci=!1,$i(Ei,!(Ei={}))},0))}function $i(a,o){o===void 0&&(o=!1);var l=new Set;if(a.all)for(var c=0,h=Object.values(Xt);c<h.length;c++)Rs(v=h[c],a,l,o);else for(var d in a){var v,m=/^idb\:\/\/(.*)\/(.*)\//.exec(d);m&&(d=m[1],m=m[2],(v=Xt["idb://".concat(d,"/").concat(m)])&&Rs(v,a,l,o))}l.forEach(function(_){return _()})}function Rs(a,o,l,c){for(var h=[],d=0,v=Object.entries(a.queries.query);d<v.length;d++){for(var m=v[d],_=m[0],E=[],O=0,y=m[1];O<y.length;O++){var A=y[O];Si(o,A.obsSet)?A.subscribers.forEach(function(C){return l.add(C)}):c&&E.push(A)}c&&h.push([_,E])}if(c)for(var S=0,$=h;S<$.length;S++){var T=$[S],_=T[0],E=T[1];a.queries.query[_]=E}}function ih(a){var o=a._state,l=a._deps.indexedDB;if(o.isBeingOpened||a.idbdb)return o.dbReadyPromise.then(function(){return o.dbOpenError?$e(o.dbOpenError):a});o.isBeingOpened=!0,o.dbOpenError=null,o.openComplete=!1;var c=o.openCanceller,h=Math.round(10*a.verno),d=!1;function v(){if(o.openCanceller!==c)throw new Q.DatabaseClosed("db.open() was cancelled")}function m(){return new X(function(A,S){if(v(),!l)throw new Q.MissingAPI;var $=a.name,T=o.autoSchema||!h?l.open($):l.open($,h);if(!T)throw new Q.MissingAPI;T.onerror=ut(S),T.onblocked=_e(a._fireOnBlocked),T.onupgradeneeded=_e(function(C){var P;O=T.transaction,o.autoSchema&&!a._options.allowEmptyDB?(T.onerror=un,O.abort(),T.result.close(),(P=l.deleteDatabase($)).onsuccess=P.onerror=_e(function(){S(new Q.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(O.onerror=ut(S),C=C.oldVersion>Math.pow(2,62)?0:C.oldVersion,y=C<1,a.idbdb=T.result,d&&nh(a,O),rh(a,C/10,O,S))},S),T.onsuccess=_e(function(){O=null;var C,P,M,j,I,K=a.idbdb=T.result,q=re(K.objectStoreNames);if(0<q.length)try{var H=K.transaction((j=q).length===1?j[0]:j,"readonly");if(o.autoSchema)P=K,M=H,(C=a).verno=P.version/10,M=C._dbSchema=sa(0,P,M),C._storeNames=re(P.objectStoreNames,0),ia(C,[C._allTables],u(M),M);else if(la(a,a._dbSchema,H),((I=bi(sa(0,(I=a).idbdb,H),I._dbSchema)).add.length||I.change.some(function(G){return G.add.length||G.change.length}))&&!d)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),K.close(),h=K.version+1,d=!0,A(m());aa(a,H)}catch{}mr.push(a),K.onversionchange=_e(function(G){o.vcFired=!0,a.on("versionchange").fire(G)}),K.onclose=_e(function(G){a.on("close").fire(G)}),y&&(I=a._deps,H=$,K=I.indexedDB,I=I.IDBKeyRange,xi(K)||H===Qn||yi(K,I).put({name:H}).catch(he)),A()},S)}).catch(function(A){switch(A?.name){case"UnknownError":if(0<o.PR1398_maxLoop)return o.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),m();break;case"VersionError":if(0<h)return h=0,m()}return X.reject(A)})}var _,E=o.dbReadyResolve,O=null,y=!1;return X.race([c,(typeof navigator>"u"?X.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(A){function S(){return indexedDB.databases().finally(A)}_=setInterval(S,100),S()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(m)]).then(function(){return v(),o.onReadyBeingFired=[],X.resolve(wi(function(){return a.on.ready.fire(a.vip)})).then(function A(){if(0<o.onReadyBeingFired.length){var S=o.onReadyBeingFired.reduce(dr,he);return o.onReadyBeingFired=[],X.resolve(wi(function(){return S(a.vip)})).then(A)}})}).finally(function(){o.openCanceller===c&&(o.onReadyBeingFired=null,o.isBeingOpened=!1)}).catch(function(A){o.dbOpenError=A;try{O&&O.abort()}catch{}return c===o.openCanceller&&a._close(),$e(A)}).finally(function(){o.openComplete=!0,E()}).then(function(){var A;return y&&(A={},a.tables.forEach(function(S){S.schema.indexes.forEach(function($){$.name&&(A["idb://".concat(a.name,"/").concat(S.name,"/").concat($.name)]=new je(-1/0,[[[]]]))}),A["idb://".concat(a.name,"/").concat(S.name,"/")]=A["idb://".concat(a.name,"/").concat(S.name,"/:dels")]=new je(-1/0,[[[]]])}),kt(cn).fire(A),$i(A,!0)),a})}function Oi(a){function o(d){return a.next(d)}var l=h(o),c=h(function(d){return a.throw(d)});function h(d){return function(_){var m=d(_),_=m.value;return m.done?_:_&&typeof _.then=="function"?_.then(l,c):f(_)?Promise.all(_).then(l,c):l(_)}}return h(o)()}function pa(a,o,l){for(var c=f(a)?a.slice():[a],h=0;h<l;++h)c.push(o);return c}var oh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return n(n({},a),{table:function(o){var l=a.table(o),c=l.schema,h={},d=[];function v(y,A,S){var $=hn(y),T=h[$]=h[$]||[],C=y==null?0:typeof y=="string"?1:y.length,P=0<A,P=n(n({},S),{name:P?"".concat($,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:P,keyTail:A,keyLength:C,extractKey:gi(y),unique:!P&&S.unique});return T.push(P),P.isPrimaryKey||d.push(P),1<C&&v(C===2?y[0]:y.slice(0,C-1),A+1,S),T.sort(function(M,j){return M.keyTail-j.keyTail}),P}o=v(c.primaryKey.keyPath,0,c.primaryKey),h[":id"]=[o];for(var m=0,_=c.indexes;m<_.length;m++){var E=_[m];v(E.keyPath,0,E)}function O(y){var A,S=y.query.index;return S.isVirtual?n(n({},y),{query:{index:S.lowLevelIndex,range:(A=y.query.range,S=S.keyTail,{type:A.type===1?2:A.type,lower:pa(A.lower,A.lowerOpen?a.MAX_KEY:a.MIN_KEY,S),lowerOpen:!0,upper:pa(A.upper,A.upperOpen?a.MIN_KEY:a.MAX_KEY,S),upperOpen:!0})}}):y}return n(n({},l),{schema:n(n({},c),{primaryKey:o,indexes:d,getIndexByKeyPath:function(y){return(y=h[hn(y)])&&y[0]}}),count:function(y){return l.count(O(y))},query:function(y){return l.query(O(y))},openCursor:function(y){var A=y.query.index,S=A.keyTail,$=A.isVirtual,T=A.keyLength;return $?l.openCursor(O(y)).then(function(P){return P&&C(P)}):l.openCursor(y);function C(P){return Object.create(P,{continue:{value:function(M){M!=null?P.continue(pa(M,y.reverse?a.MAX_KEY:a.MIN_KEY,S)):y.unique?P.continue(P.key.slice(0,T).concat(y.reverse?a.MIN_KEY:a.MAX_KEY,S)):P.continue()}},continuePrimaryKey:{value:function(M,j){P.continuePrimaryKey(pa(M,a.MAX_KEY,S),j)}},primaryKey:{get:function(){return P.primaryKey}},key:{get:function(){var M=P.key;return T===1?M[0]:M.slice(0,T)}},value:{get:function(){return P.value}}})}}})}})}};function Ti(a,o,l,c){return l=l||{},c=c||"",u(a).forEach(function(h){var d,v,m;w(o,h)?(d=a[h],v=o[h],typeof d=="object"&&typeof v=="object"&&d&&v?(m=Kt(d))!==Kt(v)?l[c+h]=o[h]:m==="Object"?Ti(d,v,l,c+h+"."):d!==v&&(l[c+h]=o[h]):d!==v&&(l[c+h]=o[h])):l[c+h]=void 0}),u(o).forEach(function(h){w(a,h)||(l[c+h]=o[h])}),l}function Ai(a,o){return o.type==="delete"?o.keys:o.keys||o.values.map(a.extractKey)}var sh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return n(n({},a),{table:function(o){var l=a.table(o),c=l.schema.primaryKey;return n(n({},l),{mutate:function(h){var d=ee.trans,v=d.table(o).hook,m=v.deleting,_=v.creating,E=v.updating;switch(h.type){case"add":if(_.fire===he)break;return d._promise("readwrite",function(){return O(h)},!0);case"put":if(_.fire===he&&E.fire===he)break;return d._promise("readwrite",function(){return O(h)},!0);case"delete":if(m.fire===he)break;return d._promise("readwrite",function(){return O(h)},!0);case"deleteRange":if(m.fire===he)break;return d._promise("readwrite",function(){return function y(A,S,$){return l.query({trans:A,values:!1,query:{index:c,range:S},limit:$}).then(function(T){var C=T.result;return O({type:"delete",keys:C,trans:A}).then(function(P){return 0<P.numFailures?Promise.reject(P.failures[0]):C.length<$?{failures:[],numFailures:0,lastResult:void 0}:y(A,n(n({},S),{lower:C[C.length-1],lowerOpen:!0}),$)})})}(h.trans,h.range,1e4)},!0)}return l.mutate(h);function O(y){var A,S,$,T=ee.trans,C=y.keys||Ai(c,y);if(!C)throw new Error("Keys missing");return(y=y.type==="add"||y.type==="put"?n(n({},y),{keys:C}):n({},y)).type!=="delete"&&(y.values=i([],y.values)),y.keys&&(y.keys=i([],y.keys)),A=l,$=C,((S=y).type==="add"?Promise.resolve([]):A.getMany({trans:S.trans,keys:$,cache:"immutable"})).then(function(P){var M=C.map(function(j,I){var K,q,H,G=P[I],V={onerror:null,onsuccess:null};return y.type==="delete"?m.fire.call(V,j,G,T):y.type==="add"||G===void 0?(K=_.fire.call(V,j,y.values[I],T),j==null&&K!=null&&(y.keys[I]=j=K,c.outbound||ve(y.values[I],c.keyPath,j))):(K=Ti(G,y.values[I]),(q=E.fire.call(V,K,j,G,T))&&(H=y.values[I],Object.keys(q).forEach(function(z){w(H,z)?H[z]=q[z]:ve(H,z,q[z])}))),V});return l.mutate(y).then(function(j){for(var I=j.failures,K=j.results,q=j.numFailures,j=j.lastResult,H=0;H<C.length;++H){var G=(K||C)[H],V=M[H];G==null?V.onerror&&V.onerror(I[H]):V.onsuccess&&V.onsuccess(y.type==="put"&&P[H]?y.values[H]:G)}return{failures:I,results:K,numFailures:q,lastResult:j}}).catch(function(j){return M.forEach(function(I){return I.onerror&&I.onerror(j)}),Promise.reject(j)})})}}})}})}};function Fs(a,o,l){try{if(!o||o.keys.length<a.length)return null;for(var c=[],h=0,d=0;h<o.keys.length&&d<a.length;++h)ue(o.keys[h],a[d])===0&&(c.push(l?at(o.values[h]):o.values[h]),++d);return c.length===a.length?c:null}catch{return null}}var lh={stack:"dbcore",level:-1,create:function(a){return{table:function(o){var l=a.table(o);return n(n({},l),{getMany:function(c){if(!c.cache)return l.getMany(c);var h=Fs(c.keys,c.trans._cache,c.cache==="clone");return h?X.resolve(h):l.getMany(c).then(function(d){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?at(d):d},d})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),l.mutate(c)}})}}}};function Is(a,o){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!o.schema.primaryKey.outbound}function Ds(a,o){switch(a){case"query":return o.values&&!o.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var uh={stack:"dbcore",level:0,name:"Observability",create:function(a){var o=a.schema.name,l=new je(a.MIN_KEY,a.MAX_KEY);return n(n({},a),{transaction:function(c,h,d){if(ee.subscr&&h!=="readonly")throw new Q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ee.querier));return a.transaction(c,h,d)},table:function(c){var h=a.table(c),d=h.schema,v=d.primaryKey,y=d.indexes,m=v.extractKey,_=v.outbound,E=v.autoIncrement&&y.filter(function(S){return S.compound&&S.keyPath.includes(v.keyPath)}),O=n(n({},h),{mutate:function(S){function $(z){return z="idb://".concat(o,"/").concat(c,"/").concat(z),j[z]||(j[z]=new je)}var T,C,P,M=S.trans,j=S.mutatedParts||(S.mutatedParts={}),I=$(""),K=$(":dels"),q=S.type,V=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[Ai(v,S).filter(function(z){return z}),S.values]:[],H=V[0],G=V[1],V=S.trans._cache;return f(H)?(I.addKeys(H),(V=q==="delete"||H.length===G.length?Fs(H,V):null)||K.addKeys(H),(V||G)&&(T=$,C=V,P=G,d.indexes.forEach(function(z){var Z=T(z.name||"");function ie(se){return se!=null?z.extractKey(se):null}function oe(se){return z.multiEntry&&f(se)?se.forEach(function(He){return Z.addKey(He)}):Z.addKey(se)}(C||P).forEach(function(se,Re){var ae=C&&ie(C[Re]),Re=P&&ie(P[Re]);ue(ae,Re)!==0&&(ae!=null&&oe(ae),Re!=null&&oe(Re))})}))):H?(G={from:(G=H.lower)!==null&&G!==void 0?G:a.MIN_KEY,to:(G=H.upper)!==null&&G!==void 0?G:a.MAX_KEY},K.add(G),I.add(G)):(I.add(l),K.add(l),d.indexes.forEach(function(z){return $(z.name).add(l)})),h.mutate(S).then(function(z){return!H||S.type!=="add"&&S.type!=="put"||(I.addKeys(z.results),E&&E.forEach(function(Z){for(var ie=S.values.map(function(ae){return Z.extractKey(ae)}),oe=Z.keyPath.findIndex(function(ae){return ae===v.keyPath}),se=0,He=z.results.length;se<He;++se)ie[se][oe]=z.results[se];$(Z.name).addKeys(ie)})),M.mutatedParts=fa(M.mutatedParts||{},j),z})}}),y=function($){var T=$.query,$=T.index,T=T.range;return[$,new je(($=T.lower)!==null&&$!==void 0?$:a.MIN_KEY,(T=T.upper)!==null&&T!==void 0?T:a.MAX_KEY)]},A={get:function(S){return[v,new je(S.key)]},getMany:function(S){return[v,new je().addKeys(S.keys)]},count:y,query:y,openCursor:y};return u(A).forEach(function(S){O[S]=function($){var T=ee.subscr,C=!!T,P=Is(ee,h)&&Ds(S,$)?$.obsSet={}:T;if(C){var M=function(G){return G="idb://".concat(o,"/").concat(c,"/").concat(G),P[G]||(P[G]=new je)},j=M(""),I=M(":dels"),T=A[S]($),C=T[0],T=T[1];if((S==="query"&&C.isPrimaryKey&&!$.values?I:M(C.name||"")).add(T),!C.isPrimaryKey){if(S!=="count"){var K=S==="query"&&_&&$.values&&h.query(n(n({},$),{values:!1}));return h[S].apply(this,arguments).then(function(G){if(S==="query"){if(_&&$.values)return K.then(function(ie){return ie=ie.result,j.addKeys(ie),G});var V=$.values?G.result.map(m):G.result;($.values?j:I).addKeys(V)}else if(S==="openCursor"){var z=G,Z=$.values;return z&&Object.create(z,{key:{get:function(){return I.addKey(z.primaryKey),z.key}},primaryKey:{get:function(){var ie=z.primaryKey;return I.addKey(ie),ie}},value:{get:function(){return Z&&j.addKey(z.primaryKey),z.value}}})}return G})}I.add(l)}}return h[S].apply(this,arguments)}}),O}})}};function Ns(a,o,l){if(l.numFailures===0)return o;if(o.type==="deleteRange")return null;var c=o.keys?o.keys.length:"values"in o&&o.values?o.values.length:1;return l.numFailures===c?null:(o=n({},o),f(o.keys)&&(o.keys=o.keys.filter(function(h,d){return!(d in l.failures)})),"values"in o&&f(o.values)&&(o.values=o.values.filter(function(h,d){return!(d in l.failures)})),o)}function Pi(a,o){return l=a,((c=o).lower===void 0||(c.lowerOpen?0<ue(l,c.lower):0<=ue(l,c.lower)))&&(a=a,(o=o).upper===void 0||(o.upperOpen?ue(a,o.upper)<0:ue(a,o.upper)<=0));var l,c}function Bs(a,o,A,c,h,d){if(!A||A.length===0)return a;var v=o.query.index,m=v.multiEntry,_=o.query.range,E=c.schema.primaryKey.extractKey,O=v.extractKey,y=(v.lowLevelIndex||v).extractKey,A=A.reduce(function(S,$){var T=S,C=[];if($.type==="add"||$.type==="put")for(var P=new je,M=$.values.length-1;0<=M;--M){var j,I=$.values[M],K=E(I);P.hasKey(K)||(j=O(I),(m&&f(j)?j.some(function(z){return Pi(z,_)}):Pi(j,_))&&(P.addKey(K),C.push(I)))}switch($.type){case"add":var q=new je().addKeys(o.values?S.map(function(Z){return E(Z)}):S),T=S.concat(o.values?C.filter(function(Z){return Z=E(Z),!q.hasKey(Z)&&(q.addKey(Z),!0)}):C.map(function(Z){return E(Z)}).filter(function(Z){return!q.hasKey(Z)&&(q.addKey(Z),!0)}));break;case"put":var H=new je().addKeys($.values.map(function(Z){return E(Z)}));T=S.filter(function(Z){return!H.hasKey(o.values?E(Z):Z)}).concat(o.values?C:C.map(function(Z){return E(Z)}));break;case"delete":var G=new je().addKeys($.keys);T=S.filter(function(Z){return!G.hasKey(o.values?E(Z):Z)});break;case"deleteRange":var V=$.range;T=S.filter(function(Z){return!Pi(E(Z),V)})}return T},a);return A===a?a:(A.sort(function(S,$){return ue(y(S),y($))||ue(E(S),E($))}),o.limit&&o.limit<1/0&&(A.length>o.limit?A.length=o.limit:a.length===o.limit&&A.length<o.limit&&(h.dirty=!0)),d?Object.freeze(A):A)}function Ls(a,o){return ue(a.lower,o.lower)===0&&ue(a.upper,o.upper)===0&&!!a.lowerOpen==!!o.lowerOpen&&!!a.upperOpen==!!o.upperOpen}function ch(a,o){return function(l,c,h,d){if(l===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=ue(l,c))===0){if(h&&d)return 0;if(h)return 1;if(d)return-1}return c}(a.lower,o.lower,a.lowerOpen,o.lowerOpen)<=0&&0<=function(l,c,h,d){if(l===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=ue(l,c))===0){if(h&&d)return 0;if(h)return-1;if(d)return 1}return c}(a.upper,o.upper,a.upperOpen,o.upperOpen)}function fh(a,o,l,c){a.subscribers.add(l),c.addEventListener("abort",function(){var h,d;a.subscribers.delete(l),a.subscribers.size===0&&(h=a,d=o,setTimeout(function(){h.subscribers.size===0&&ne(d,h)},3e3))})}var hh={stack:"dbcore",level:0,name:"Cache",create:function(a){var o=a.schema.name;return n(n({},a),{transaction:function(l,c,h){var d,v,m=a.transaction(l,c,h);return c==="readwrite"&&(v=(d=new AbortController).signal,h=function(_){return function(){if(d.abort(),c==="readwrite"){for(var E=new Set,O=0,y=l;O<y.length;O++){var A=y[O],S=Xt["idb://".concat(o,"/").concat(A)];if(S){var $=a.table(A),T=S.optimisticOps.filter(function(Z){return Z.trans===m});if(m._explicit&&_&&m.mutatedParts)for(var C=0,P=Object.values(S.queries.query);C<P.length;C++)for(var M=0,j=(q=P[C]).slice();M<j.length;M++)Si((H=j[M]).obsSet,m.mutatedParts)&&(ne(q,H),H.subscribers.forEach(function(Z){return E.add(Z)}));else if(0<T.length){S.optimisticOps=S.optimisticOps.filter(function(Z){return Z.trans!==m});for(var I=0,K=Object.values(S.queries.query);I<K.length;I++)for(var q,H,G,V=0,z=(q=K[I]).slice();V<z.length;V++)(H=z[V]).res!=null&&m.mutatedParts&&(_&&!H.dirty?(G=Object.isFrozen(H.res),G=Bs(H.res,H.req,T,$,H,G),H.dirty?(ne(q,H),H.subscribers.forEach(function(Z){return E.add(Z)})):G!==H.res&&(H.res=G,H.promise=X.resolve({result:G}))):(H.dirty&&ne(q,H),H.subscribers.forEach(function(Z){return E.add(Z)})))}}}E.forEach(function(Z){return Z()})}}},m.addEventListener("abort",h(!1),{signal:v}),m.addEventListener("error",h(!1),{signal:v}),m.addEventListener("complete",h(!0),{signal:v})),m},table:function(l){var c=a.table(l),h=c.schema.primaryKey;return n(n({},c),{mutate:function(d){var v=ee.trans;if(h.outbound||v.db._options.cache==="disabled"||v.explicit||v.idbtrans.mode!=="readwrite")return c.mutate(d);var m=Xt["idb://".concat(o,"/").concat(l)];return m?(v=c.mutate(d),d.type!=="add"&&d.type!=="put"||!(50<=d.values.length||Ai(h,d).some(function(_){return _==null}))?(m.optimisticOps.push(d),d.mutatedParts&&ha(d.mutatedParts),v.then(function(_){0<_.numFailures&&(ne(m.optimisticOps,d),(_=Ns(0,d,_))&&m.optimisticOps.push(_),d.mutatedParts&&ha(d.mutatedParts))}),v.catch(function(){ne(m.optimisticOps,d),d.mutatedParts&&ha(d.mutatedParts)})):v.then(function(_){var E=Ns(0,n(n({},d),{values:d.values.map(function(O,y){var A;return _.failures[y]?O:(O=(A=h.keyPath)!==null&&A!==void 0&&A.includes(".")?at(O):n({},O),ve(O,h.keyPath,_.results[y]),O)})}),_);m.optimisticOps.push(E),queueMicrotask(function(){return d.mutatedParts&&ha(d.mutatedParts)})}),v):c.mutate(d)},query:function(d){if(!Is(ee,c)||!Ds("query",d))return c.query(d);var v=((E=ee.trans)===null||E===void 0?void 0:E.db._options.cache)==="immutable",y=ee,m=y.requery,_=y.signal,E=function($,T,C,P){var M=Xt["idb://".concat($,"/").concat(T)];if(!M)return[];if(!(T=M.queries[C]))return[null,!1,M,null];var j=T[(P.query?P.query.index.name:null)||""];if(!j)return[null,!1,M,null];switch(C){case"query":var I=j.find(function(K){return K.req.limit===P.limit&&K.req.values===P.values&&Ls(K.req.query.range,P.query.range)});return I?[I,!0,M,j]:[j.find(function(K){return("limit"in K.req?K.req.limit:1/0)>=P.limit&&(!P.values||K.req.values)&&ch(K.req.query.range,P.query.range)}),!1,M,j];case"count":return I=j.find(function(K){return Ls(K.req.query.range,P.query.range)}),[I,!!I,M,j]}}(o,l,"query",d),O=E[0],y=E[1],A=E[2],S=E[3];return O&&y?O.obsSet=d.obsSet:(y=c.query(d).then(function($){var T=$.result;if(O&&(O.res=T),v){for(var C=0,P=T.length;C<P;++C)Object.freeze(T[C]);Object.freeze(T)}else $.result=at(T);return $}).catch(function($){return S&&O&&ne(S,O),Promise.reject($)}),O={obsSet:d.obsSet,promise:y,subscribers:new Set,type:"query",req:d,dirty:!1},S?S.push(O):(S=[O],(A=A||(Xt["idb://".concat(o,"/").concat(l)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[d.query.index.name||""]=S)),fh(O,S,m,_),O.promise.then(function($){return{result:Bs($.result,d,A?.optimisticOps,c,O,v)}})}})}})}};function da(a,o){return new Proxy(a,{get:function(l,c,h){return c==="db"?o:Reflect.get(l,c,h)}})}var mt=(Oe.prototype.version=function(a){if(isNaN(a)||a<.1)throw new Q.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var o=this._versions,l=o.filter(function(c){return c._cfg.version===a})[0];return l||(l=new this.Version(a),o.push(l),o.sort(th),l.stores({}),this._state.autoSchema=!1,l)},Oe.prototype._whenReady=function(a){var o=this;return this.idbdb&&(this._state.openComplete||ee.letThrough||this._vip)?a():new X(function(l,c){if(o._state.openComplete)return c(new Q.DatabaseClosed(o._state.dbOpenError));if(!o._state.isBeingOpened){if(!o._state.autoOpen)return void c(new Q.DatabaseClosed);o.open().catch(he)}o._state.dbReadyPromise.then(l,c)}).then(a)},Oe.prototype.use=function(a){var o=a.stack,l=a.create,c=a.level,h=a.name;return h&&this.unuse({stack:o,name:h}),a=this._middlewares[o]||(this._middlewares[o]=[]),a.push({stack:o,create:l,level:c??10,name:h}),a.sort(function(d,v){return d.level-v.level}),this},Oe.prototype.unuse=function(a){var o=a.stack,l=a.name,c=a.create;return o&&this._middlewares[o]&&(this._middlewares[o]=this._middlewares[o].filter(function(h){return c?h.create!==c:!!l&&h.name!==l})),this},Oe.prototype.open=function(){var a=this;return Vt($t,function(){return ih(a)})},Oe.prototype._close=function(){var a=this._state,o=mr.indexOf(this);if(0<=o&&mr.splice(o,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new X(function(l){a.dbReadyResolve=l}),a.openCanceller=new X(function(l,c){a.cancelOpen=c}))},Oe.prototype.close=function(l){var o=(l===void 0?{disableAutoOpen:!0}:l).disableAutoOpen,l=this._state;o?(l.isBeingOpened&&l.cancelOpen(new Q.DatabaseClosed),this._close(),l.autoOpen=!1,l.dbOpenError=new Q.DatabaseClosed):(this._close(),l.autoOpen=this._options.autoOpen||l.isBeingOpened,l.openComplete=!1,l.dbOpenError=null)},Oe.prototype.delete=function(a){var o=this;a===void 0&&(a={disableAutoOpen:!0});var l=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new X(function(h,d){function v(){o.close(a);var m=o._deps.indexedDB.deleteDatabase(o.name);m.onsuccess=_e(function(){var _,E,O;_=o._deps,E=o.name,O=_.indexedDB,_=_.IDBKeyRange,xi(O)||E===Qn||yi(O,_).delete(E).catch(he),h()}),m.onerror=ut(d),m.onblocked=o._fireOnBlocked}if(l)throw new Q.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(v):v()})},Oe.prototype.backendDB=function(){return this.idbdb},Oe.prototype.isOpen=function(){return this.idbdb!==null},Oe.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},Oe.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Oe.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Oe.prototype,"tables",{get:function(){var a=this;return u(this._allTables).map(function(o){return a._allTables[o]})},enumerable:!1,configurable:!0}),Oe.prototype.transaction=function(){var a=(function(o,l,c){var h=arguments.length;if(h<2)throw new Q.InvalidArgument("Too few arguments");for(var d=new Array(h-1);--h;)d[h-1]=arguments[h];return c=d.pop(),[o,xe(d),c]}).apply(this,arguments);return this._transaction.apply(this,a)},Oe.prototype._transaction=function(a,o,l){var c=this,h=ee.trans;h&&h.db===this&&a.indexOf("!")===-1||(h=null);var d,v,m=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(v=o.map(function(E){if(E=E instanceof c.Table?E.name:E,typeof E!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return E}),a=="r"||a===si)d=si;else{if(a!="rw"&&a!=li)throw new Q.InvalidArgument("Invalid transaction mode: "+a);d=li}if(h){if(h.mode===si&&d===li){if(!m)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");h=null}h&&v.forEach(function(E){if(h&&h.storeNames.indexOf(E)===-1){if(!m)throw new Q.SubTransaction("Table "+E+" not included in parent transaction.");h=null}}),m&&h&&!h.active&&(h=null)}}catch(E){return h?h._promise(null,function(O,y){y(E)}):$e(E)}var _=(function E(O,y,A,S,$){return X.resolve().then(function(){var T=ee.transless||ee,C=O._createTransaction(y,A,O._dbSchema,S);if(C.explicit=!0,T={trans:C,transless:T},S)C.idbtrans=S.idbtrans;else try{C.create(),C.idbtrans._explicit=!0,O._state.PR1398_maxLoop=3}catch(j){return j.name===pr.InvalidState&&O.isOpen()&&0<--O._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),O.close({disableAutoOpen:!1}),O.open().then(function(){return E(O,y,A,null,$)})):$e(j)}var P,M=hr($);return M&&br(),T=X.follow(function(){var j;(P=$.call(C,C))&&(M?(j=Tt.bind(null,null),P.then(j,j)):typeof P.next=="function"&&typeof P.throw=="function"&&(P=Oi(P)))},T),(P&&typeof P.then=="function"?X.resolve(P).then(function(j){return C.active?j:$e(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):T.then(function(){return P})).then(function(j){return S&&C._resolve(),C._completion.then(function(){return j})}).catch(function(j){return C._reject(j),$e(j)})})}).bind(null,this,d,v,h,l);return h?h._promise(d,_,"lock"):ee.trans?Vt(ee.transless,function(){return c._whenReady(_)}):this._whenReady(_)},Oe.prototype.table=function(a){if(!w(this._allTables,a))throw new Q.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},Oe);function Oe(a,o){var l=this;this._middlewares={},this.verno=0;var c=Oe.dependencies;this._options=o=n({addons:Oe.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},o),this._deps={indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},c=o.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var h,d,v,m,_,E={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:o.autoOpen};E.dbReadyPromise=new X(function(y){E.dbReadyResolve=y}),E.openCanceller=new X(function(y,A){E.cancelOpen=A}),this._state=E,this.name=a,this.on=on(this,"populate","blocked","versionchange","close",{ready:[dr,he]}),this.on.ready.subscribe=de(this.on.ready.subscribe,function(y){return function(A,S){Oe.vip(function(){var $,T=l._state;T.openComplete?(T.dbOpenError||X.resolve().then(A),S&&y(A)):T.onReadyBeingFired?(T.onReadyBeingFired.push(A),S&&y(A)):(y(A),$=l,S||y(function C(){$.on.ready.unsubscribe(A),$.on.ready.unsubscribe(C)}))})}}),this.Collection=(h=this,sn(Wf.prototype,function(P,C){this.db=h;var S=bs,$=null;if(C)try{S=C()}catch(M){$=M}var T=P._ctx,C=T.table,P=C.hook.reading.fire;this._ctx={table:C,index:T.index,isPrimKey:!T.index||C.schema.primKey.keyPath&&T.index===C.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:T.or,valueMapper:P!==ot?P:null}})),this.Table=(d=this,sn(ws.prototype,function(y,A,S){this.db=d,this._tx=S,this.name=y,this.schema=A,this.hook=d._allTables[y]?d._allTables[y].hook:on(null,{creating:[Gn,he],reading:[Me,ot],updating:[qn,he],deleting:[zn,he]})})),this.Transaction=(v=this,sn(Zf.prototype,function(y,A,S,$,T){var C=this;this.db=v,this.mode=y,this.storeNames=A,this.schema=S,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=on(this,"complete","error","abort"),this.parent=T||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new X(function(P,M){C._resolve=P,C._reject=M}),this._completion.then(function(){C.active=!1,C.on.complete.fire()},function(P){var M=C.active;return C.active=!1,C.on.error.fire(P),C.parent?C.parent._reject(P):M&&C.idbtrans&&C.idbtrans.abort(),$e(P)})})),this.Version=(m=this,sn(ah.prototype,function(y){this.db=m,this._cfg={version:y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,sn($s.prototype,function(y,A,S){if(this.db=_,this._ctx={table:y,index:A===":id"?null:A,or:S},this._cmp=this._ascending=ue,this._descending=function($,T){return ue(T,$)},this._max=function($,T){return 0<ue($,T)?$:T},this._min=function($,T){return ue($,T)<0?$:T},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new Q.MissingAPI})),this.on("versionchange",function(y){0<y.newVersion?console.warn("Another connection wants to upgrade database '".concat(l.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(l.name,"'. Closing db now to resume the delete request.")),l.close({disableAutoOpen:!1})}),this.on("blocked",function(y){!y.newVersion||y.newVersion<y.oldVersion?console.warn("Dexie.delete('".concat(l.name,"') was blocked")):console.warn("Upgrade '".concat(l.name,"' blocked by other connection holding version ").concat(y.oldVersion/10))}),this._maxKey=fn(o.IDBKeyRange),this._createTransaction=function(y,A,S,$){return new l.Transaction(y,A,S,l._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(y){l.on("blocked").fire(y),mr.filter(function(A){return A.name===l.name&&A!==l&&!A._state.vcFired}).map(function(A){return A.on("versionchange").fire(y)})},this.use(lh),this.use(hh),this.use(uh),this.use(oh),this.use(sh);var O=new Proxy(this,{get:function(y,A,S){if(A==="_vip")return!0;if(A==="table")return function(T){return da(l.table(T),O)};var $=Reflect.get(y,A,S);return $ instanceof ws?da($,O):A==="tables"?$.map(function(T){return da(T,O)}):A==="_createTransaction"?function(){return da($.apply(this,arguments),O)}:$}});this.vip=O,c.forEach(function(y){return y(l)})}var ga,Ve=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ph=(ki.prototype.subscribe=function(a,o,l){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:o,complete:l})},ki.prototype[Ve]=function(){return this},ki);function ki(a){this._subscribe=a}try{ga={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{ga={indexedDB:null,IDBKeyRange:null}}function Ks(a){var o,l=!1,c=new ph(function(h){var d=hr(a),v,m=!1,_={},E={},O={get closed(){return m},unsubscribe:function(){m||(m=!0,v&&v.abort(),y&&kt.storagemutated.unsubscribe(S))}};h.start&&h.start(O);var y=!1,A=function(){return oi($)},S=function(T){fa(_,T),Si(E,_)&&A()},$=function(){var T,C,P;!m&&ga.indexedDB&&(_={},T={},v&&v.abort(),v=new AbortController,P=function(M){var j=gr();try{d&&br();var I=Ot(a,M);return I=d?I.finally(Tt):I}finally{j&&vr()}}(C={subscr:T,signal:v.signal,requery:A,querier:a,trans:null}),Promise.resolve(P).then(function(M){l=!0,o=M,m||C.signal.aborted||(_={},function(j){for(var I in j)if(w(j,I))return;return 1}(E=T)||y||(kt(cn,S),y=!0),oi(function(){return!m&&h.next&&h.next(M)}))},function(M){l=!1,["DatabaseClosedError","AbortError"].includes(M?.name)||m||oi(function(){m||h.error&&h.error(M)})}))};return setTimeout(A,0),O});return c.hasValue=function(){return l},c.getValue=function(){return o},c}var Zt=mt;function Mi(a){var o=Mt;try{Mt=!0,kt.storagemutated.fire(a),$i(a,!0)}finally{Mt=o}}k(Zt,n(n({},Je),{delete:function(a){return new Zt(a,{addons:[]}).delete()},exists:function(a){return new Zt(a,{addons:[]}).open().then(function(o){return o.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return o=Zt.dependencies,l=o.indexedDB,o=o.IDBKeyRange,(xi(l)?Promise.resolve(l.databases()).then(function(c){return c.map(function(h){return h.name}).filter(function(h){return h!==Qn})}):yi(l,o).toCollection().primaryKeys()).then(a)}catch{return $e(new Q.MissingAPI)}var o,l},defineClass:function(){return function(a){p(this,a)}},ignoreTransaction:function(a){return ee.trans?Vt(ee.transless,a):a()},vip:wi,async:function(a){return function(){try{var o=Oi(a.apply(this,arguments));return o&&typeof o.then=="function"?o:X.resolve(o)}catch(l){return $e(l)}}},spawn:function(a,o,l){try{var c=Oi(a.apply(l,o||[]));return c&&typeof c.then=="function"?c:X.resolve(c)}catch(h){return $e(h)}},currentTransaction:{get:function(){return ee.trans||null}},waitFor:function(a,o){return o=X.resolve(typeof a=="function"?Zt.ignoreTransaction(a):a).timeout(o||6e4),ee.trans?ee.trans.waitFor(o):o},Promise:X,debug:{get:function(){return Le},set:function(a){zt(a)}},derive:B,extend:p,props:k,override:de,Events:on,on:kt,liveQuery:Ks,extendObservabilitySet:fa,getByKeyPath:le,setByKeyPath:ve,delByKeyPath:function(a,o){typeof o=="string"?ve(a,o,void 0):"length"in o&&[].map.call(o,function(l){ve(a,l,void 0)})},shallowClone:Xe,deepClone:at,getObjectDiff:Ti,cmp:ue,asap:Ce,minKey:-1/0,addons:[],connections:mr,errnames:pr,dependencies:ga,cache:Xt,semVer:"4.0.10",version:"4.0.10".split(".").map(function(a){return parseInt(a)}).reduce(function(a,o,l){return a+o/Math.pow(10,2*l)})})),Zt.maxKey=fn(Zt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(kt(cn,function(a){Mt||(a=new CustomEvent(hi,{detail:a}),Mt=!0,dispatchEvent(a),Mt=!1)}),addEventListener(hi,function(a){a=a.detail,Mt||Mi(a)}));var wr,Mt=!1,Hs=function(){};return typeof BroadcastChannel<"u"&&((Hs=function(){(wr=new BroadcastChannel(hi)).onmessage=function(a){return a.data&&Mi(a.data)}})(),typeof wr.unref=="function"&&wr.unref(),kt(cn,function(a){Mt||wr.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!mt.disableBfCache&&a.persisted){Le&&console.debug("Dexie: handling persisted pagehide"),wr?.close();for(var o=0,l=mr;o<l.length;o++)l[o].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!mt.disableBfCache&&a.persisted&&(Le&&console.debug("Dexie: handling persisted pageshow"),Hs(),Mi({all:new je(-1/0,[[]])}))})),X.rejectionMapper=function(a,o){return!a||a instanceof it||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Gt[a.name]?a:(o=new Gt[a.name](o||a.message,a),"stack"in a&&N(o,"stack",{get:function(){return this.inner.stack}}),o)},zt(Le),n(mt,Object.freeze({__proto__:null,Dexie:mt,liveQuery:Ks,Entity:ms,cmp:ue,PropModSymbol:bt,PropModification:ln,replacePrefix:function(a,o){return new ln({replacePrefix:[a,o]})},add:function(a){return new ln({add:a})},remove:function(a){return new ln({remove:a})},default:mt,RangeSet:je,mergeRanges:dn,rangesOverlap:ks}),{default:mt}),mt})})(yc);var id=yc.exports;const to=Ku(id),tl=Symbol.for("Dexie"),ro=globalThis[tl]||(globalThis[tl]=to);if(to.semVer!==ro.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${to.semVer} and ${ro.semVer}`);class od extends ro{constructor(t){super(t),this.version(1).stores({features:$n.SCHEMA_DEFINITION}),this.features.mapToClass($n)}features}const Ft=class Ft{constructor(t){this.dataProjection=new Lh({code:`EPSG:${t}`}),this.geoJSON=new ec({dataProjection:this.dataProjection})}toGeometry(t,r){if(t!=null)try{return this.geoJSON.readGeometry(t,{featureProjection:r})}catch(n){const i=this.deserializeCircle(t,r);if(i!=null)return i;throw n}else return}toGeometryString(t,r){return Ft.isCircle(t)?this.serializeCircle(t,r):t!=null?this.geoJSON.writeGeometry(t,{featureProjection:r}):void 0}getTransformedEnvelope(t,r){const n=t?.getExtent();if(n!=null)return this.toTransformedEnvelope(n,r)}toTransformedEnvelope(t,r){const n=Kh(t,r,this.dataProjection);return Ft.toEnvelope(n)}serializeCircle(t,r){const n=t.clone().transform(r,this.dataProjection);return JSON.stringify({type:Ft.CIRCLE,center:n.getCenter(),radius:n.getRadius()})}deserializeCircle(t,r){try{const{type:n,center:i,radius:s}=JSON.parse(t);return n===Ft.CIRCLE?new np(i,s).transform(this.dataProjection,r):void 0}catch{return}}static toEnvelope(t){return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}}static isCircle(t){return t?.getType()===Ft.CIRCLE}geoJSON;dataProjection};gn(Ft,"CIRCLE","Circle");let no=Ft;function sd(e,t){return e.minX<=t.maxX&&e.maxX>=t.minX&&e.minY<=t.maxY&&e.maxY>=t.minY}class ld{constructor(t,{wkid:r}){this.db=new od(t),this.serializer=new no(r)}queryFeaturesInExtent(t,r){const n=this.serializer.toTransformedEnvelope(t,r);return this.db.features.filter(i=>{const s=ad(i);return s!=null&&sd(s,n)}).toArray(i=>i.map(s=>this.toFeature(s,r)))}addFeature(t,r){const n=this.toEntity(t,r);return this.db.features.add(n)}updateFeature(t,r){const n=this.toEntity(t,r);return this.db.features.put(n)}deleteFeature(t){const r=this.extractId(t);return this.db.features.delete(r)}toFeature(t,r){const n=new Hh({...t.attributes,geometry:this.serializer.toGeometry(t.geometryString,r)});return n.setId(t.id),n}toEntity(t,r){const n=t.getGeometry();return new $n({id:t.getId(),attributes:this.getAttributes(t),geometryString:this.serializer.toGeometryString(n,r),envelope:this.serializer.getTransformedEnvelope(n,r)})}extractId(t){const{id:r}=new $n({id:t.getId(),attributes:t.getProperties()});return r}getAttributes(t){const r=t.getProperties(),n=t.getGeometryName();return{...r,[n]:void 0}}db;serializer}function Hi(e){if(e!=null)return xc[e]}function ud(e){return xc[e]??=new ld(e,cd)}const xc={},cd={wkid:25832};class fd extends Yu{constructor(t){super({format:new ec,strategy:Gh,loader:async(r,n,i,s,u)=>{try{const f=await this.store.queryFeaturesInExtent(r,i);this.addFeatures(f),s?.(f)}catch(f){console.error("Error reading features for extent",r,f),u?.()}}}),this.store=t}}const Hr=class Hr{async getMapConfig(){return{...Hr.MAP_SETTINGS,layers:[this.createOSMLayer(),...this.createIDBLayers()]}}get mapId(){return wc}createOSMLayer(){return new Vs({title:"OpenStreetMap",olLayer:new zh({source:new qh,properties:{title:"OSM"}}),isBaseLayer:!0})}createIDBLayers(){return Hr.LAYER_CONFIG.map(({id:t,title:r,style:n})=>{const i=ud(t);return new Vs({id:t,title:r,visible:!0,olLayer:new yo({source:new fd(i),style:n,updateWhileAnimating:!0,updateWhileInteracting:!0,properties:{id:t,title:r}})})})}};gn(Hr,"MAP_SETTINGS",{initialView:{kind:"position",center:{x:847541,y:6793584},zoom:14},projection:"EPSG:3857"}),gn(Hr,"LAYER_CONFIG",[{id:"waldschaeden",title:"Waldschäden",style:new _r({image:new Xu({fill:new wn({color:"red"}),stroke:new Sr({color:"black",width:1}),radius:10})})},{id:"waldwege",title:"Waldwege",style:new _r({stroke:new Sr({color:"blue",width:3})})},{id:"schutzgebiete",title:"Schutzgebiete",style(t){const r=t.get("farbe");return new _r({fill:new wn({color:r!=null?`${r}aa`:"#808080aa"}),stroke:new Sr({color:"black",width:1})})}},{id:"bodenproben",title:"Bodenproben",style:new _r({fill:new wn({color:"#ffa500aa"}),stroke:new Sr({color:"black",width:1})})},{id:"aufforstungsflaechen",title:"Aufforstungsflächen",style:new _r({fill:new wn({color:"#00aa00aa"}),stroke:new Sr({color:"black",width:1})})}]);let ao=Hr;const wc="main",hd={"editing-app":{name:"editing-app",services:{MainMapProvider:{name:"MainMapProvider",clazz:ao,provides:[{name:"map.MapConfigProvider",qualifier:void 0}],references:{}}},ui:{references:[]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/react-utils":{name:"@open-pioneer/react-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/notifier":{name:"@open-pioneer/notifier",services:{NotificationServiceImpl:{name:"NotificationServiceImpl",clazz:ap,provides:[{name:"notifier.NotificationService",qualifier:"notifier.NotificationService"}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/map":{name:"@open-pioneer/map",services:{MapRegistryImpl:{name:"MapRegistryImpl",clazz:Uh,provides:[{name:"map.MapRegistry",qualifier:void 0}],references:{providers:{name:"map.MapConfigProvider",qualifier:void 0,all:!0},httpService:{name:"http.HttpService",qualifier:void 0,all:!1}}}},ui:{references:[{name:"map.MapRegistry",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/coordinate-viewer":{name:"@open-pioneer/coordinate-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-ui-components":{name:"@open-pioneer/map-ui-components",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-bar":{name:"@open-pioneer/scale-bar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-viewer":{name:"@open-pioneer/scale-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/http":{name:"@open-pioneer/http",services:{HttpServiceImpl:{name:"HttpServiceImpl",clazz:Vh,provides:[{name:"http.HttpService",qualifier:"http.HttpService"}],references:{interceptors:{name:"http.Interceptor",qualifier:void 0,all:!0}}}},ui:{references:[]},properties:{}},"new-editing":{name:"new-editing",services:{},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/reactivity":{name:"@open-pioneer/reactivity",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}}},pd=':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}.map-container .ol-viewport .ol-attribution{bottom:var(--map-padding-bottom);right:var(--map-padding-right)}.scale-bar .ol-scale-bar{margin-bottom:8px;margin-right:8px}.scale-bar .ol-scale-bar,.scale-bar .ol-scale-line{position:relative;bottom:0;left:0;background:none}.scale-bar .ol-scale-bar .ol-scale-bar-inner,.scale-bar .ol-scale-bar .ol-scale-line-inner,.scale-bar .ol-scale-line .ol-scale-bar-inner,.scale-bar .ol-scale-line .ol-scale-line-inner{color:var(--chakra-white);border-color:var(--chakra-white)}',dd=["en","de"];function gd(e){switch(e){case"en":return Ys(()=>import("./BybsLrOSGnQH.js"),[],import.meta.url).then(t=>t.default);case"de":return Ys(()=>import("./B9rhH62HOWvS.js"),[],import.meta.url).then(t=>t.default)}throw new Error(`Unsupported locale: '${e}'`)}const vd=Sh(pd),bd=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:gd,locales:dd,packages:hd,styles:vd},Symbol.toStringTag,{value:"Module"})),md="editing-app",yd=Zu.bind(void 0,md),_c="new-editing",xd=Wh.bind(void 0,_c),qr=Zu.bind(void 0,_c);function wd(e){return An({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.28 9.28a.75.75 0 0 0-1.06-1.06l-5.97 5.97-2.47-2.47a.75.75 0 0 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l6.5-6.5Z"},child:[]},{tag:"path",attr:{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"},child:[]}]})(e)}function _d(e){return An({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.036 7.976a.75.75 0 0 0-1.06 1.06L10.939 12l-2.963 2.963a.75.75 0 1 0 1.06 1.06L12 13.06l2.963 2.964a.75.75 0 0 0 1.061-1.06L13.061 12l2.963-2.964a.75.75 0 1 0-1.06-1.06L12 10.939 9.036 7.976Z"},child:[]},{tag:"path",attr:{d:"M12 1c6.075 0 11 4.925 11 11s-4.925 11-11 11S1 18.075 1 12 5.925 1 12 1ZM2.5 12a9.5 9.5 0 0 0 9.5 9.5 9.5 9.5 0 0 0 9.5-9.5A9.5 9.5 0 0 0 12 2.5 9.5 9.5 0 0 0 2.5 12Z"},child:[]}]})(e)}function Sd(e){return An({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7v6h-6"},child:[]},{tag:"path",attr:{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"},child:[]}]})(e)}function Ed(e){return An({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 7v6h6"},child:[]},{tag:"path",attr:{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"},child:[]}]})(e)}function Cd({canFinish:e,canAbort:t,canUndo:r,canRedo:n,onFinish:i,onAbort:s,onUndo:u,onRedo:f}){const{formatMessage:p}=qr(),g=D.useMemo(()=>({finishButton:p({id:"actionSelector.finishButtonAriaLabel"}),abortButton:p({id:"actionSelector.abortButtonAriaLabel"}),undoButton:p({id:"actionSelector.undoButtonAriaLabel"}),redoButton:p({id:"actionSelector.redoButtonAriaLabel"})}),[p]);return R.jsxs(tc,{justify:"right",gap:3,children:[R.jsx(ma,{"aria-label":g.finishButton,icon:R.jsx(wd,{size:25}),isDisabled:!e,onClick:i}),R.jsx(ma,{"aria-label":g.abortButton,icon:R.jsx(_d,{size:25}),isDisabled:!t,onClick:s}),R.jsx(ma,{"aria-label":g.undoButton,icon:R.jsx(Ed,{size:25}),isDisabled:!r,onClick:u}),R.jsx(ma,{"aria-label":g.redoButton,icon:R.jsx(Sd,{size:25}),isDisabled:!n,onClick:f})]})}function $d(e){return An({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"},child:[]}]})(e)}function Od({isActive:e,onClick:t}){const{formatMessage:r}=qr();return R.jsx(nr,{variant:"outline",width:"100%",leftIcon:R.jsx($d,{}),bg:e?"gray.400":"white",_hover:{bg:e?"#aebbcb":"gray.100"},_active:{bg:"gray.500"},onClick:t,children:r({id:"actionSelector.selectButtonTitle"})})}function Td({template:e,isSelected:t,onClick:r}){const n=D.useCallback(()=>{r(e)},[e,r]);return R.jsx(Sp,{height:"45px",cursor:"pointer",bg:t?"trails.400":"white",_hover:{bg:t?"trails.300":"trails.100"},_active:{bg:"trails.500"},onClick:n,children:R.jsx(Ep,{children:R.jsxs(tc,{spacing:"4",children:[R.jsx(Ad,{template:e}),R.jsx(Op,{children:e.name})]})})})}function Ad({template:e}){if(e.icon===void 0)switch(e.geometryType){case"Polygon":return R.jsx(mp,{size:20});case"Circle":return R.jsx(bp,{size:20});case"LineString":return R.jsx(vp,{size:20});case"Point":return R.jsx(gp,{size:20});case"MultiPoint":return R.jsx(dp,{size:20});default:return}else return e.icon??void 0}function Pd({templates:e,selectedTemplate:t,onClick:r}){return R.jsx(Qp,{children:R.jsx(Cp,{variant:"simple",size:"sm",children:R.jsx($p,{children:e.map(n=>R.jsx(Td,{template:n,isSelected:t===n,onClick:r},n.id))})})})}function kd({templates:e,showActionBar:t,onActionChange:r,...n}){const[i,s]=D.useState(!1),[u,f]=D.useState(),{formatMessage:p}=qr(),g=D.useCallback(()=>{s(w=>!w),f(void 0),r(i?void 0:"select")},[i,r]),x=D.useCallback(w=>{f(k=>k!==w?w:void 0),s(!1),r(u!==w?w:void 0)},[u,r]);return R.jsxs(Gr,{direction:"column",height:"full",rowGap:3,align:"stretch",children:[R.jsx(eo,{size:"sm",children:p({id:"actionSelector.editFeatureHeading"})}),R.jsx(Od,{isActive:i,onClick:g}),R.jsx(eo,{size:"sm",mt:3,children:p({id:"actionSelector.createFeatureHeading"})}),R.jsx(zr,{flex:1,overflowY:"auto",mb:2,children:R.jsx(Pd,{templates:e,selectedTemplate:u,onClick:x})}),t&&Md(u)&&R.jsx(Cd,{...n})]})}function Md(e){return e!=null&&jd.includes(e.geometryType)}const jd=["Polygon","LineString"];function Rd({canSave:e,showDeleteButton:t,onSave:r,onDelete:n,onCancel:i}){const[s,u]=D.useState(!1),f=D.useCallback(async()=>{try{u(!0),await r()}finally{u(!1)}},[r]),{formatMessage:p}=qr(),{saveButtonTitle:g,cancelButtonTitle:x,deleteButtonAriaLabel:w}=D.useMemo(()=>({saveButtonTitle:p({id:"propertyEditor.saveButtonTitle"}),cancelButtonTitle:p({id:"propertyEditor.cancelButtonTitle"}),deleteButtonAriaLabel:p({id:"propertyEditor.deleteButtonAriaLabel"})}),[p]);return R.jsxs(Gr,{flexDirection:"row",columnGap:2,children:[t&&R.jsx(nr,{width:65,variant:"outline",colorScheme:"red","aria-label":w,isDisabled:s,onClick:n,children:R.jsx(yp,{})}),R.jsx(_p,{}),R.jsx(nr,{width:110,isDisabled:!e,isLoading:s,loadingText:g,onClick:f,children:g}),R.jsx(nr,{width:110,variant:"outline",isDisabled:s,onClick:i,children:x})]})}function Fd({isOpen:e,onDelete:t,onCancel:r}){const[n,i]=D.useState(!1),s=D.useRef(null),{formatMessage:u}=qr(),f=D.useCallback(()=>{},[]),p=D.useCallback(async()=>{try{i(!0),await t()}finally{i(!1)}},[t]),{title:g,message:x,deleteButtonTitle:w,cancelButtonTitle:k}=D.useMemo(()=>({title:u({id:"deleteConfirmationDialog.title"}),message:u({id:"deleteConfirmationDialog.message"}),deleteButtonTitle:u({id:"deleteConfirmationDialog.deleteButtonTitle"}),cancelButtonTitle:u({id:"deleteConfirmationDialog.cancelButtonTitle"})}),[u]);return R.jsx(Eh,{isOpen:e,onClose:f,leastDestructiveRef:s,children:R.jsx(fc,{children:R.jsxs(Ch,{children:[R.jsx(uc,{fontSize:"large",fontWeight:"bold",children:g}),R.jsx(sc,{pt:0,children:x}),R.jsxs(lc,{pt:5,children:[R.jsx(nr,{mr:3,colorScheme:"red",isLoading:n,loadingText:w,onClick:p,children:w}),R.jsx(nr,{width:110,variant:"outline",ref:s,onClick:r,children:k})]})]})})})}const Sc=D.createContext(void 0);function Pn(){const e=D.useContext(Sc);if(e!=null)return e;throw new Error("No property form context available")}function Id(e){const{properties:t}=Pn();return t[e]}function Dd({children:e,onSave:t,onDelete:r,onCancel:n}){const{mode:i,isValid:s,feature:u,properties:f}=Pn(),{isOpen:p,onOpen:g,onClose:x}=Vu(),w=D.useCallback(async()=>{u.setProperties(f),await t()},[u,f,t]),k=D.useCallback(async()=>{await r(),x()},[x,r]);return R.jsxs(R.Fragment,{children:[R.jsxs(Wu,{height:"full",spacing:5,align:"stretch",children:[R.jsx(zr,{flex:1,overflowY:"auto",children:e}),R.jsx(Rd,{canSave:s,showDeleteButton:i==="update",onSave:w,onDelete:g,onCancel:n})]}),R.jsx(Fd,{isOpen:p,onDelete:k,onCancel:x})]})}function Nd({children:e,editingStep:t}){const r=Bd(t);return R.jsx(Sc.Provider,{value:r,children:e})}function Bd(e){const[t,r]=D.useState(!1),[n,i]=D.useState(()=>({...e.feature.getProperties()})),s=D.useCallback((u,f)=>{i(p=>({...p,[u]:f}))},[]);return D.useMemo(()=>e.id==="create-modify"?{mode:"create",feature:e.feature,template:e.template,layer:void 0,properties:n,setProperty:s,setProperties:i,isValid:t,setValid:r}:{mode:"update",feature:e.feature,template:void 0,layer:e.olLayer,properties:n,setProperty:s,setProperties:i,isValid:t,setValid:r},[e,t,n,s])}function Ld({value:e,onNumberChange:t,placeholder:r=Hd,showSteppers:n=!0,min:i,max:s,step:u,precision:f,...p}){const[g,x]=D.useState(()=>Ec(e,f)),w=Kd(e,f,x),k=D.useCallback((N,B)=>{x(N),isNaN(B)?N===""&&(w(void 0),t?.(void 0)):(w(B),t?.(B))},[w,t]),F=D.useRef(null);return R.jsxs(hc,{...p,min:i,max:s,step:u,precision:f,value:g??"",onChange:k,children:[R.jsx(dc,{ref:F,placeholder:r}),n&&R.jsxs(pc,{children:[R.jsx(bc,{}),R.jsx(vc,{})]})]})}function Kd(e,t,r){const[n,i]=D.useState(e);return D.useEffect(()=>{e!==n&&(r(Ec(e,t)),i(e))},[e,t,n,r]),i}function Ec(e,t){return t!=null?e?.toFixed(t):e?.toString()}const Hd="—";var We={},kn={},Gd=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,Cc=Gd,zd=Cc,qd=typeof self=="object"&&self&&self.Object===Object&&self,Ud=zd||qd||Function("return this")(),dt=Ud,Vd=dt,Wd=Vd.Symbol,Mn=Wd,rl=Mn,$c=Object.prototype,Yd=$c.hasOwnProperty,Xd=$c.toString,bn=rl?rl.toStringTag:void 0;function Zd(e){var t=Yd.call(e,bn),r=e[bn];try{e[bn]=void 0;var n=!0}catch{}var i=Xd.call(e);return n&&(t?e[bn]=r:delete e[bn]),i}var Jd=Zd,Qd=Object.prototype,eg=Qd.toString;function tg(e){return eg.call(e)}var rg=tg,nl=Mn,ng=Jd,ag=rg,ig="[object Null]",og="[object Undefined]",al=nl?nl.toStringTag:void 0;function sg(e){return e==null?e===void 0?og:ig:al&&al in Object(e)?ng(e):ag(e)}var ir=sg,lg=Array.isArray,rt=lg;function ug(e){return e!=null&&typeof e=="object"}var wt=ug,cg=ir,fg=rt,hg=wt,pg="[object String]";function dg(e){return typeof e=="string"||!fg(e)&&hg(e)&&cg(e)==pg}var gg=dg;function vg(e){return function(t,r,n){for(var i=-1,s=Object(t),u=n(t),f=u.length;f--;){var p=u[e?f:++i];if(r(s[p],p,s)===!1)break}return t}}var bg=vg,mg=bg,yg=mg(),xg=yg;function wg(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _g=wg,Sg=ir,Eg=wt,Cg="[object Arguments]";function $g(e){return Eg(e)&&Sg(e)==Cg}var Og=$g,il=Og,Tg=wt,Oc=Object.prototype,Ag=Oc.hasOwnProperty,Pg=Oc.propertyIsEnumerable,kg=il(function(){return arguments}())?il:function(e){return Tg(e)&&Ag.call(e,"callee")&&!Pg.call(e,"callee")},Tc=kg,Ea={exports:{}};function Mg(){return!1}var jg=Mg;Ea.exports;(function(e,t){var r=dt,n=jg,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,u=s&&s.exports===i,f=u?r.Buffer:void 0,p=f?f.isBuffer:void 0,g=p||n;e.exports=g})(Ea,Ea.exports);var _o=Ea.exports,Rg=9007199254740991,Fg=/^(?:0|[1-9]\d*)$/;function Ig(e,t){var r=typeof e;return t=t??Rg,!!t&&(r=="number"||r!="symbol"&&Fg.test(e))&&e>-1&&e%1==0&&e<t}var Ac=Ig,Dg=9007199254740991;function Ng(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dg}var So=Ng,Bg=ir,Lg=So,Kg=wt,Hg="[object Arguments]",Gg="[object Array]",zg="[object Boolean]",qg="[object Date]",Ug="[object Error]",Vg="[object Function]",Wg="[object Map]",Yg="[object Number]",Xg="[object Object]",Zg="[object RegExp]",Jg="[object Set]",Qg="[object String]",e0="[object WeakMap]",t0="[object ArrayBuffer]",r0="[object DataView]",n0="[object Float32Array]",a0="[object Float64Array]",i0="[object Int8Array]",o0="[object Int16Array]",s0="[object Int32Array]",l0="[object Uint8Array]",u0="[object Uint8ClampedArray]",c0="[object Uint16Array]",f0="[object Uint32Array]",me={};me[n0]=me[a0]=me[i0]=me[o0]=me[s0]=me[l0]=me[u0]=me[c0]=me[f0]=!0;me[Hg]=me[Gg]=me[t0]=me[zg]=me[r0]=me[qg]=me[Ug]=me[Vg]=me[Wg]=me[Yg]=me[Xg]=me[Zg]=me[Jg]=me[Qg]=me[e0]=!1;function h0(e){return Kg(e)&&Lg(e.length)&&!!me[Bg(e)]}var p0=h0;function d0(e){return function(t){return e(t)}}var Eo=d0,Ca={exports:{}};Ca.exports;(function(e,t){var r=Cc,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,u=s&&r.process,f=function(){try{var p=i&&i.require&&i.require("util").types;return p||u&&u.binding&&u.binding("util")}catch{}}();e.exports=f})(Ca,Ca.exports);var Co=Ca.exports,g0=p0,v0=Eo,ol=Co,sl=ol&&ol.isTypedArray,b0=sl?v0(sl):g0,Pc=b0,m0=_g,y0=Tc,x0=rt,w0=_o,_0=Ac,S0=Pc,E0=Object.prototype,C0=E0.hasOwnProperty;function $0(e,t){var r=x0(e),n=!r&&y0(e),i=!r&&!n&&w0(e),s=!r&&!n&&!i&&S0(e),u=r||n||i||s,f=u?m0(e.length,String):[],p=f.length;for(var g in e)(t||C0.call(e,g))&&!(u&&(g=="length"||i&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||_0(g,p)))&&f.push(g);return f}var kc=$0,O0=Object.prototype;function T0(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||O0;return e===r}var $o=T0;function A0(e,t){return function(r){return e(t(r))}}var Mc=A0,P0=Mc,k0=P0(Object.keys,Object),M0=k0,j0=$o,R0=M0,F0=Object.prototype,I0=F0.hasOwnProperty;function D0(e){if(!j0(e))return R0(e);var t=[];for(var r in Object(e))I0.call(e,r)&&r!="constructor"&&t.push(r);return t}var N0=D0;function B0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ur=B0,L0=ir,K0=Ur,H0="[object AsyncFunction]",G0="[object Function]",z0="[object GeneratorFunction]",q0="[object Proxy]";function U0(e){if(!K0(e))return!1;var t=L0(e);return t==G0||t==z0||t==H0||t==q0}var jc=U0,V0=jc,W0=So;function Y0(e){return e!=null&&W0(e.length)&&!V0(e)}var Ia=Y0,X0=kc,Z0=N0,J0=Ia;function Q0(e){return J0(e)?X0(e):Z0(e)}var jn=Q0,ev=xg,tv=jn;function rv(e,t){return e&&ev(e,t,tv)}var Rc=rv;function nv(e){return e}var Fc=nv,av=Fc;function iv(e){return typeof e=="function"?e:av}var ov=iv,sv=Rc,lv=ov;function uv(e,t){return e&&sv(e,lv(t))}var Oo=uv,cv=Mc,fv=cv(Object.getPrototypeOf,Object),To=fv,hv=ir,pv=To,dv=wt,gv="[object Object]",vv=Function.prototype,bv=Object.prototype,Ic=vv.toString,mv=bv.hasOwnProperty,yv=Ic.call(Object);function xv(e){if(!dv(e)||hv(e)!=gv)return!1;var t=pv(e);if(t===null)return!0;var r=mv.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Ic.call(r)==yv}var wv=xv;function _v(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Dc=_v;function Sv(){this.__data__=[],this.size=0}var Ev=Sv;function Cv(e,t){return e===t||e!==e&&t!==t}var Ao=Cv,$v=Ao;function Ov(e,t){for(var r=e.length;r--;)if($v(e[r][0],t))return r;return-1}var Da=Ov,Tv=Da,Av=Array.prototype,Pv=Av.splice;function kv(e){var t=this.__data__,r=Tv(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Pv.call(t,r,1),--this.size,!0}var Mv=kv,jv=Da;function Rv(e){var t=this.__data__,r=jv(t,e);return r<0?void 0:t[r][1]}var Fv=Rv,Iv=Da;function Dv(e){return Iv(this.__data__,e)>-1}var Nv=Dv,Bv=Da;function Lv(e,t){var r=this.__data__,n=Bv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Kv=Lv,Hv=Ev,Gv=Mv,zv=Fv,qv=Nv,Uv=Kv;function Vr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vr.prototype.clear=Hv;Vr.prototype.delete=Gv;Vr.prototype.get=zv;Vr.prototype.has=qv;Vr.prototype.set=Uv;var Na=Vr,Vv=Na;function Wv(){this.__data__=new Vv,this.size=0}var Yv=Wv;function Xv(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Zv=Xv;function Jv(e){return this.__data__.get(e)}var Qv=Jv;function eb(e){return this.__data__.has(e)}var tb=eb,rb=dt,nb=rb["__core-js_shared__"],ab=nb,Gi=ab,ll=function(){var e=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ib(e){return!!ll&&ll in e}var ob=ib,sb=Function.prototype,lb=sb.toString;function ub(e){if(e!=null){try{return lb.call(e)}catch{}try{return e+""}catch{}}return""}var Nc=ub,cb=jc,fb=ob,hb=Ur,pb=Nc,db=/[\\^$.*+?()[\]{}|]/g,gb=/^\[object .+?Constructor\]$/,vb=Function.prototype,bb=Object.prototype,mb=vb.toString,yb=bb.hasOwnProperty,xb=RegExp("^"+mb.call(yb).replace(db,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wb(e){if(!hb(e)||fb(e))return!1;var t=cb(e)?xb:gb;return t.test(pb(e))}var _b=wb;function Sb(e,t){return e?.[t]}var Eb=Sb,Cb=_b,$b=Eb;function Ob(e,t){var r=$b(e,t);return Cb(r)?r:void 0}var or=Ob,Tb=or,Ab=dt,Pb=Tb(Ab,"Map"),Po=Pb,kb=or,Mb=kb(Object,"create"),Ba=Mb,ul=Ba;function jb(){this.__data__=ul?ul(null):{},this.size=0}var Rb=jb;function Fb(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ib=Fb,Db=Ba,Nb="__lodash_hash_undefined__",Bb=Object.prototype,Lb=Bb.hasOwnProperty;function Kb(e){var t=this.__data__;if(Db){var r=t[e];return r===Nb?void 0:r}return Lb.call(t,e)?t[e]:void 0}var Hb=Kb,Gb=Ba,zb=Object.prototype,qb=zb.hasOwnProperty;function Ub(e){var t=this.__data__;return Gb?t[e]!==void 0:qb.call(t,e)}var Vb=Ub,Wb=Ba,Yb="__lodash_hash_undefined__";function Xb(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Wb&&t===void 0?Yb:t,this}var Zb=Xb,Jb=Rb,Qb=Ib,em=Hb,tm=Vb,rm=Zb;function Wr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wr.prototype.clear=Jb;Wr.prototype.delete=Qb;Wr.prototype.get=em;Wr.prototype.has=tm;Wr.prototype.set=rm;var nm=Wr,cl=nm,am=Na,im=Po;function om(){this.size=0,this.__data__={hash:new cl,map:new(im||am),string:new cl}}var sm=om;function lm(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var um=lm,cm=um;function fm(e,t){var r=e.__data__;return cm(t)?r[typeof t=="string"?"string":"hash"]:r.map}var La=fm,hm=La;function pm(e){var t=hm(this,e).delete(e);return this.size-=t?1:0,t}var dm=pm,gm=La;function vm(e){return gm(this,e).get(e)}var bm=vm,mm=La;function ym(e){return mm(this,e).has(e)}var xm=ym,wm=La;function _m(e,t){var r=wm(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Sm=_m,Em=sm,Cm=dm,$m=bm,Om=xm,Tm=Sm;function Yr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yr.prototype.clear=Em;Yr.prototype.delete=Cm;Yr.prototype.get=$m;Yr.prototype.has=Om;Yr.prototype.set=Tm;var ko=Yr,Am=Na,Pm=Po,km=ko,Mm=200;function jm(e,t){var r=this.__data__;if(r instanceof Am){var n=r.__data__;if(!Pm||n.length<Mm-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new km(n)}return r.set(e,t),this.size=r.size,this}var Rm=jm,Fm=Na,Im=Yv,Dm=Zv,Nm=Qv,Bm=tb,Lm=Rm;function Xr(e){var t=this.__data__=new Fm(e);this.size=t.size}Xr.prototype.clear=Im;Xr.prototype.delete=Dm;Xr.prototype.get=Nm;Xr.prototype.has=Bm;Xr.prototype.set=Lm;var Mo=Xr,Km="__lodash_hash_undefined__";function Hm(e){return this.__data__.set(e,Km),this}var Gm=Hm;function zm(e){return this.__data__.has(e)}var qm=zm,Um=ko,Vm=Gm,Wm=qm;function $a(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Um;++t<r;)this.add(e[t])}$a.prototype.add=$a.prototype.push=Vm;$a.prototype.has=Wm;var Ym=$a;function Xm(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Zm=Xm;function Jm(e,t){return e.has(t)}var Qm=Jm,ey=Ym,ty=Zm,ry=Qm,ny=1,ay=2;function iy(e,t,r,n,i,s){var u=r&ny,f=e.length,p=t.length;if(f!=p&&!(u&&p>f))return!1;var g=s.get(e),x=s.get(t);if(g&&x)return g==t&&x==e;var w=-1,k=!0,F=r&ay?new ey:void 0;for(s.set(e,t),s.set(t,e);++w<f;){var N=e[w],B=t[w];if(n)var L=u?n(B,N,w,t,e,s):n(N,B,w,e,t,s);if(L!==void 0){if(L)continue;k=!1;break}if(F){if(!ty(t,function(Y,re){if(!ry(F,re)&&(N===Y||i(N,Y,r,n,s)))return F.push(re)})){k=!1;break}}else if(!(N===B||i(N,B,r,n,s))){k=!1;break}}return s.delete(e),s.delete(t),k}var Bc=iy,oy=dt,sy=oy.Uint8Array,Lc=sy;function ly(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var uy=ly;function cy(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var fy=cy,fl=Mn,hl=Lc,hy=Ao,py=Bc,dy=uy,gy=fy,vy=1,by=2,my="[object Boolean]",yy="[object Date]",xy="[object Error]",wy="[object Map]",_y="[object Number]",Sy="[object RegExp]",Ey="[object Set]",Cy="[object String]",$y="[object Symbol]",Oy="[object ArrayBuffer]",Ty="[object DataView]",pl=fl?fl.prototype:void 0,zi=pl?pl.valueOf:void 0;function Ay(e,t,r,n,i,s,u){switch(r){case Ty:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Oy:return!(e.byteLength!=t.byteLength||!s(new hl(e),new hl(t)));case my:case yy:case _y:return hy(+e,+t);case xy:return e.name==t.name&&e.message==t.message;case Sy:case Cy:return e==t+"";case wy:var f=dy;case Ey:var p=n&vy;if(f||(f=gy),e.size!=t.size&&!p)return!1;var g=u.get(e);if(g)return g==t;n|=by,u.set(e,t);var x=py(f(e),f(t),n,i,s,u);return u.delete(e),x;case $y:if(zi)return zi.call(e)==zi.call(t)}return!1}var Py=Ay;function ky(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Kc=ky,My=Kc,jy=rt;function Ry(e,t,r){var n=t(e);return jy(e)?n:My(n,r(e))}var Hc=Ry;function Fy(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var u=e[r];t(u,r,e)&&(s[i++]=u)}return s}var Iy=Fy;function Dy(){return[]}var Gc=Dy,Ny=Iy,By=Gc,Ly=Object.prototype,Ky=Ly.propertyIsEnumerable,dl=Object.getOwnPropertySymbols,Hy=dl?function(e){return e==null?[]:(e=Object(e),Ny(dl(e),function(t){return Ky.call(e,t)}))}:By,jo=Hy,Gy=Hc,zy=jo,qy=jn;function Uy(e){return Gy(e,qy,zy)}var zc=Uy,gl=zc,Vy=1,Wy=Object.prototype,Yy=Wy.hasOwnProperty;function Xy(e,t,r,n,i,s){var u=r&Vy,f=gl(e),p=f.length,g=gl(t),x=g.length;if(p!=x&&!u)return!1;for(var w=p;w--;){var k=f[w];if(!(u?k in t:Yy.call(t,k)))return!1}var F=s.get(e),N=s.get(t);if(F&&N)return F==t&&N==e;var B=!0;s.set(e,t),s.set(t,e);for(var L=u;++w<p;){k=f[w];var Y=e[k],re=t[k];if(n)var de=u?n(re,Y,k,t,e,s):n(Y,re,k,e,t,s);if(!(de===void 0?Y===re||i(Y,re,r,n,s):de)){B=!1;break}L||(L=k=="constructor")}if(B&&!L){var fe=e.constructor,Ce=t.constructor;fe!=Ce&&"constructor"in e&&"constructor"in t&&!(typeof fe=="function"&&fe instanceof fe&&typeof Ce=="function"&&Ce instanceof Ce)&&(B=!1)}return s.delete(e),s.delete(t),B}var Zy=Xy,Jy=or,Qy=dt,ex=Jy(Qy,"DataView"),tx=ex,rx=or,nx=dt,ax=rx(nx,"Promise"),ix=ax,ox=or,sx=dt,lx=ox(sx,"Set"),ux=lx,cx=or,fx=dt,hx=cx(fx,"WeakMap"),px=hx,io=tx,oo=Po,so=ix,lo=ux,uo=px,qc=ir,Zr=Nc,vl="[object Map]",dx="[object Object]",bl="[object Promise]",ml="[object Set]",yl="[object WeakMap]",xl="[object DataView]",gx=Zr(io),vx=Zr(oo),bx=Zr(so),mx=Zr(lo),yx=Zr(uo),tr=qc;(io&&tr(new io(new ArrayBuffer(1)))!=xl||oo&&tr(new oo)!=vl||so&&tr(so.resolve())!=bl||lo&&tr(new lo)!=ml||uo&&tr(new uo)!=yl)&&(tr=function(e){var t=qc(e),r=t==dx?e.constructor:void 0,n=r?Zr(r):"";if(n)switch(n){case gx:return xl;case vx:return vl;case bx:return bl;case mx:return ml;case yx:return yl}return t});var Ka=tr,qi=Mo,xx=Bc,wx=Py,_x=Zy,wl=Ka,_l=rt,Sl=_o,Sx=Pc,Ex=1,El="[object Arguments]",Cl="[object Array]",ya="[object Object]",Cx=Object.prototype,$l=Cx.hasOwnProperty;function $x(e,t,r,n,i,s){var u=_l(e),f=_l(t),p=u?Cl:wl(e),g=f?Cl:wl(t);p=p==El?ya:p,g=g==El?ya:g;var x=p==ya,w=g==ya,k=p==g;if(k&&Sl(e)){if(!Sl(t))return!1;u=!0,x=!1}if(k&&!x)return s||(s=new qi),u||Sx(e)?xx(e,t,r,n,i,s):wx(e,t,p,r,n,i,s);if(!(r&Ex)){var F=x&&$l.call(e,"__wrapped__"),N=w&&$l.call(t,"__wrapped__");if(F||N){var B=F?e.value():e,L=N?t.value():t;return s||(s=new qi),i(B,L,r,n,s)}}return k?(s||(s=new qi),_x(e,t,r,n,i,s)):!1}var Ox=$x,Tx=Ox,Ol=wt;function Uc(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ol(e)&&!Ol(t)?e!==e&&t!==t:Tx(e,t,r,n,Uc,i)}var Vc=Uc,Ax=Mo,Px=Vc,kx=1,Mx=2;function jx(e,t,r,n){var i=r.length,s=i,u=!n;if(e==null)return!s;for(e=Object(e);i--;){var f=r[i];if(u&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++i<s;){f=r[i];var p=f[0],g=e[p],x=f[1];if(u&&f[2]){if(g===void 0&&!(p in e))return!1}else{var w=new Ax;if(n)var k=n(g,x,p,e,t,w);if(!(k===void 0?Px(x,g,kx|Mx,n,w):k))return!1}}return!0}var Rx=jx,Fx=Ur;function Ix(e){return e===e&&!Fx(e)}var Wc=Ix,Dx=Wc,Nx=jn;function Bx(e){for(var t=Nx(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Dx(i)]}return t}var Lx=Bx;function Kx(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Yc=Kx,Hx=Rx,Gx=Lx,zx=Yc;function qx(e){var t=Gx(e);return t.length==1&&t[0][2]?zx(t[0][0],t[0][1]):function(r){return r===e||Hx(r,e,t)}}var Ux=qx,Vx=ir,Wx=wt,Yx="[object Symbol]";function Xx(e){return typeof e=="symbol"||Wx(e)&&Vx(e)==Yx}var Ro=Xx,Zx=rt,Jx=Ro,Qx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e1=/^\w*$/;function t1(e,t){if(Zx(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Jx(e)?!0:e1.test(e)||!Qx.test(e)||t!=null&&e in Object(t)}var Fo=t1,Xc=ko,r1="Expected a function";function Io(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(r1);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var u=e.apply(this,n);return r.cache=s.set(i,u)||s,u};return r.cache=new(Io.Cache||Xc),r}Io.Cache=Xc;var n1=Io,a1=n1,i1=500;function o1(e){var t=a1(e,function(n){return r.size===i1&&r.clear(),n}),r=t.cache;return t}var s1=o1,l1=s1,u1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c1=/\\(\\)?/g,f1=l1(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(u1,function(r,n,i,s){t.push(i?s.replace(c1,"$1"):n||r)}),t}),h1=f1,Tl=Mn,p1=Dc,d1=rt,g1=Ro,v1=1/0,Al=Tl?Tl.prototype:void 0,Pl=Al?Al.toString:void 0;function Zc(e){if(typeof e=="string")return e;if(d1(e))return p1(e,Zc)+"";if(g1(e))return Pl?Pl.call(e):"";var t=e+"";return t=="0"&&1/e==-v1?"-0":t}var b1=Zc,m1=b1;function y1(e){return e==null?"":m1(e)}var x1=y1,w1=rt,_1=Fo,S1=h1,E1=x1;function C1(e,t){return w1(e)?e:_1(e,t)?[e]:S1(E1(e))}var Jc=C1,$1=Ro,O1=1/0;function T1(e){if(typeof e=="string"||$1(e))return e;var t=e+"";return t=="0"&&1/e==-O1?"-0":t}var Ha=T1,A1=Jc,P1=Ha;function k1(e,t){t=A1(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[P1(t[r++])];return r&&r==n?e:void 0}var Qc=k1,M1=Qc;function j1(e,t,r){var n=e==null?void 0:M1(e,t);return n===void 0?r:n}var R1=j1;function F1(e,t){return e!=null&&t in Object(e)}var I1=F1,D1=Jc,N1=Tc,B1=rt,L1=Ac,K1=So,H1=Ha;function G1(e,t,r){t=D1(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var u=H1(t[n]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&K1(i)&&L1(u,i)&&(B1(e)||N1(e)))}var z1=G1,q1=I1,U1=z1;function V1(e,t){return e!=null&&U1(e,t,q1)}var W1=V1,Y1=Vc,X1=R1,Z1=W1,J1=Fo,Q1=Wc,ew=Yc,tw=Ha,rw=1,nw=2;function aw(e,t){return J1(e)&&Q1(t)?ew(tw(e),t):function(r){var n=X1(r,e);return n===void 0&&n===t?Z1(r,e):Y1(t,n,rw|nw)}}var iw=aw;function ow(e){return function(t){return t?.[e]}}var sw=ow,lw=Qc;function uw(e){return function(t){return lw(t,e)}}var cw=uw,fw=sw,hw=cw,pw=Fo,dw=Ha;function gw(e){return pw(e)?fw(dw(e)):hw(e)}var vw=gw,bw=Ux,mw=iw,yw=Fc,xw=rt,ww=vw;function _w(e){return typeof e=="function"?e:e==null?yw:typeof e=="object"?xw(e)?mw(e[0],e[1]):bw(e):ww(e)}var Sw=_w,Ew=Ia;function Cw(e,t){return function(r,n){if(r==null)return r;if(!Ew(r))return e(r,n);for(var i=r.length,s=t?i:-1,u=Object(r);(t?s--:++s<i)&&n(u[s],s,u)!==!1;);return r}}var $w=Cw,Ow=Rc,Tw=$w,Aw=Tw(Ow),Pw=Aw,kw=Pw,Mw=Ia;function jw(e,t){var r=-1,n=Mw(e)?Array(e.length):[];return kw(e,function(i,s,u){n[++r]=t(i,s,u)}),n}var Rw=jw,Fw=Dc,Iw=Sw,Dw=Rw,Nw=rt;function Bw(e,t){var r=Nw(e)?Fw:Dw;return r(e,Iw(t))}var Lw=Bw;Object.defineProperty(kn,"__esModule",{value:!0});kn.flattenNames=void 0;var Kw=gg,Hw=Ga(Kw),Gw=Oo,zw=Ga(Gw),qw=wv,Uw=Ga(qw),Vw=Lw,Ww=Ga(Vw);function Ga(e){return e&&e.__esModule?e:{default:e}}var Yw=kn.flattenNames=function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,Ww.default)(t,function(n){Array.isArray(n)?e(n).map(function(i){return r.push(i)}):(0,Uw.default)(n)?(0,zw.default)(n,function(i,s){i===!0&&r.push(s),r.push(s+"-"+i)}):(0,Hw.default)(n)&&r.push(n)}),r};kn.default=Yw;var Rn={};function Xw(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var Zw=Xw,Jw=or,Qw=function(){try{var e=Jw(Object,"defineProperty");return e({},"",{}),e}catch{}}(),e_=Qw,kl=e_;function t_(e,t,r){t=="__proto__"&&kl?kl(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ef=t_,r_=ef,n_=Ao,a_=Object.prototype,i_=a_.hasOwnProperty;function o_(e,t,r){var n=e[t];(!(i_.call(e,t)&&n_(n,r))||r===void 0&&!(t in e))&&r_(e,t,r)}var tf=o_,s_=tf,l_=ef;function u_(e,t,r,n){var i=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var f=t[s],p=n?n(r[f],e[f],f,r,e):void 0;p===void 0&&(p=e[f]),i?l_(r,f,p):s_(r,f,p)}return r}var za=u_,c_=za,f_=jn;function h_(e,t){return e&&c_(t,f_(t),e)}var p_=h_;function d_(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var g_=d_,v_=Ur,b_=$o,m_=g_,y_=Object.prototype,x_=y_.hasOwnProperty;function w_(e){if(!v_(e))return m_(e);var t=b_(e),r=[];for(var n in e)n=="constructor"&&(t||!x_.call(e,n))||r.push(n);return r}var __=w_,S_=kc,E_=__,C_=Ia;function $_(e){return C_(e)?S_(e,!0):E_(e)}var Do=$_,O_=za,T_=Do;function A_(e,t){return e&&O_(t,T_(t),e)}var P_=A_,Oa={exports:{}};Oa.exports;(function(e,t){var r=dt,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,u=s?r.Buffer:void 0,f=u?u.allocUnsafe:void 0;function p(g,x){if(x)return g.slice();var w=g.length,k=f?f(w):new g.constructor(w);return g.copy(k),k}e.exports=p})(Oa,Oa.exports);var k_=Oa.exports;function M_(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var j_=M_,R_=za,F_=jo;function I_(e,t){return R_(e,F_(e),t)}var D_=I_,N_=Kc,B_=To,L_=jo,K_=Gc,H_=Object.getOwnPropertySymbols,G_=H_?function(e){for(var t=[];e;)N_(t,L_(e)),e=B_(e);return t}:K_,rf=G_,z_=za,q_=rf;function U_(e,t){return z_(e,q_(e),t)}var V_=U_,W_=Hc,Y_=rf,X_=Do;function Z_(e){return W_(e,X_,Y_)}var J_=Z_,Q_=Object.prototype,eS=Q_.hasOwnProperty;function tS(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&eS.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var rS=tS,Ml=Lc;function nS(e){var t=new e.constructor(e.byteLength);return new Ml(t).set(new Ml(e)),t}var No=nS,aS=No;function iS(e,t){var r=t?aS(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var oS=iS,sS=/\w*$/;function lS(e){var t=new e.constructor(e.source,sS.exec(e));return t.lastIndex=e.lastIndex,t}var uS=lS,jl=Mn,Rl=jl?jl.prototype:void 0,Fl=Rl?Rl.valueOf:void 0;function cS(e){return Fl?Object(Fl.call(e)):{}}var fS=cS,hS=No;function pS(e,t){var r=t?hS(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var dS=pS,gS=No,vS=oS,bS=uS,mS=fS,yS=dS,xS="[object Boolean]",wS="[object Date]",_S="[object Map]",SS="[object Number]",ES="[object RegExp]",CS="[object Set]",$S="[object String]",OS="[object Symbol]",TS="[object ArrayBuffer]",AS="[object DataView]",PS="[object Float32Array]",kS="[object Float64Array]",MS="[object Int8Array]",jS="[object Int16Array]",RS="[object Int32Array]",FS="[object Uint8Array]",IS="[object Uint8ClampedArray]",DS="[object Uint16Array]",NS="[object Uint32Array]";function BS(e,t,r){var n=e.constructor;switch(t){case TS:return gS(e);case xS:case wS:return new n(+e);case AS:return vS(e,r);case PS:case kS:case MS:case jS:case RS:case FS:case IS:case DS:case NS:return yS(e,r);case _S:return new n;case SS:case $S:return new n(e);case ES:return bS(e);case CS:return new n;case OS:return mS(e)}}var LS=BS,KS=Ur,Il=Object.create,HS=function(){function e(){}return function(t){if(!KS(t))return{};if(Il)return Il(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),GS=HS,zS=GS,qS=To,US=$o;function VS(e){return typeof e.constructor=="function"&&!US(e)?zS(qS(e)):{}}var WS=VS,YS=Ka,XS=wt,ZS="[object Map]";function JS(e){return XS(e)&&YS(e)==ZS}var QS=JS,eE=QS,tE=Eo,Dl=Co,Nl=Dl&&Dl.isMap,rE=Nl?tE(Nl):eE,nE=rE,aE=Ka,iE=wt,oE="[object Set]";function sE(e){return iE(e)&&aE(e)==oE}var lE=sE,uE=lE,cE=Eo,Bl=Co,Ll=Bl&&Bl.isSet,fE=Ll?cE(Ll):uE,hE=fE,pE=Mo,dE=Zw,gE=tf,vE=p_,bE=P_,mE=k_,yE=j_,xE=D_,wE=V_,_E=zc,SE=J_,EE=Ka,CE=rS,$E=LS,OE=WS,TE=rt,AE=_o,PE=nE,kE=Ur,ME=hE,jE=jn,RE=Do,FE=1,IE=2,DE=4,nf="[object Arguments]",NE="[object Array]",BE="[object Boolean]",LE="[object Date]",KE="[object Error]",af="[object Function]",HE="[object GeneratorFunction]",GE="[object Map]",zE="[object Number]",of="[object Object]",qE="[object RegExp]",UE="[object Set]",VE="[object String]",WE="[object Symbol]",YE="[object WeakMap]",XE="[object ArrayBuffer]",ZE="[object DataView]",JE="[object Float32Array]",QE="[object Float64Array]",eC="[object Int8Array]",tC="[object Int16Array]",rC="[object Int32Array]",nC="[object Uint8Array]",aC="[object Uint8ClampedArray]",iC="[object Uint16Array]",oC="[object Uint32Array]",ge={};ge[nf]=ge[NE]=ge[XE]=ge[ZE]=ge[BE]=ge[LE]=ge[JE]=ge[QE]=ge[eC]=ge[tC]=ge[rC]=ge[GE]=ge[zE]=ge[of]=ge[qE]=ge[UE]=ge[VE]=ge[WE]=ge[nC]=ge[aC]=ge[iC]=ge[oC]=!0;ge[KE]=ge[af]=ge[YE]=!1;function Sa(e,t,r,n,i,s){var u,f=t&FE,p=t&IE,g=t&DE;if(r&&(u=i?r(e,n,i,s):r(e)),u!==void 0)return u;if(!kE(e))return e;var x=TE(e);if(x){if(u=CE(e),!f)return yE(e,u)}else{var w=EE(e),k=w==af||w==HE;if(AE(e))return mE(e,f);if(w==of||w==nf||k&&!i){if(u=p||k?{}:OE(e),!f)return p?wE(e,bE(u,e)):xE(e,vE(u,e))}else{if(!ge[w])return i?e:{};u=$E(e,w,f)}}s||(s=new pE);var F=s.get(e);if(F)return F;s.set(e,u),ME(e)?e.forEach(function(L){u.add(Sa(L,t,r,L,e,s))}):PE(e)&&e.forEach(function(L,Y){u.set(Y,Sa(L,t,r,Y,e,s))});var N=g?p?SE:_E:p?RE:jE,B=x?void 0:N(e);return dE(B||e,function(L,Y){B&&(Y=L,L=e[Y]),gE(u,Y,Sa(L,t,r,Y,e,s))}),u}var sC=Sa,lC=sC,uC=1,cC=4;function fC(e){return lC(e,uC|cC)}var hC=fC;Object.defineProperty(Rn,"__esModule",{value:!0});Rn.mergeClasses=void 0;var pC=Oo,dC=sf(pC),gC=hC,vC=sf(gC),bC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function sf(e){return e&&e.__esModule?e:{default:e}}var mC=Rn.mergeClasses=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.default&&(0,vC.default)(t.default)||{};return r.map(function(i){var s=t[i];return s&&(0,dC.default)(s,function(u,f){n[f]||(n[f]={}),n[f]=bC({},n[f],s[f])}),i}),n};Rn.default=mC;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.autoprefix=void 0;var yC=Oo,Kl=wC(yC),xC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function wC(e){return e&&e.__esModule?e:{default:e}}var _C={borderRadius:function(t){return{msBorderRadius:t,MozBorderRadius:t,OBorderRadius:t,WebkitBorderRadius:t,borderRadius:t}},boxShadow:function(t){return{msBoxShadow:t,MozBoxShadow:t,OBoxShadow:t,WebkitBoxShadow:t,boxShadow:t}},userSelect:function(t){return{WebkitTouchCallout:t,KhtmlUserSelect:t,MozUserSelect:t,msUserSelect:t,WebkitUserSelect:t,userSelect:t}},flex:function(t){return{WebkitBoxFlex:t,MozBoxFlex:t,WebkitFlex:t,msFlex:t,flex:t}},flexBasis:function(t){return{WebkitFlexBasis:t,flexBasis:t}},justifyContent:function(t){return{WebkitJustifyContent:t,justifyContent:t}},transition:function(t){return{msTransition:t,MozTransition:t,OTransition:t,WebkitTransition:t,transition:t}},transform:function(t){return{msTransform:t,MozTransform:t,OTransform:t,WebkitTransform:t,transform:t}},absolute:function(t){var r=t&&t.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(t,r){var n=r[t];return n||{extend:t}}},SC=Fn.autoprefix=function(t){var r={};return(0,Kl.default)(t,function(n,i){var s={};(0,Kl.default)(n,function(u,f){var p=_C[f];p?s=xC({},s,p(u)):s[f]=u}),r[i]=s}),r};Fn.default=SC;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.hover=void 0;var EC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC=D,Ui=$C(CC);function $C(e){return e&&e.__esModule?e:{default:e}}function OC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function TC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var AC=In.hover=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){TC(i,n);function i(){var s,u,f,p;OC(this,i);for(var g=arguments.length,x=Array(g),w=0;w<g;w++)x[w]=arguments[w];return p=(u=(f=Hl(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(x))),f),f.state={hover:!1},f.handleMouseOver=function(){return f.setState({hover:!0})},f.handleMouseOut=function(){return f.setState({hover:!1})},f.render=function(){return Ui.default.createElement(r,{onMouseOver:f.handleMouseOver,onMouseOut:f.handleMouseOut},Ui.default.createElement(t,EC({},f.props,f.state)))},u),Hl(f,p)}return i}(Ui.default.Component)};In.default=AC;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.active=void 0;var PC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC=D,Vi=MC(kC);function MC(e){return e&&e.__esModule?e:{default:e}}function jC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function RC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var FC=Dn.active=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){RC(i,n);function i(){var s,u,f,p;jC(this,i);for(var g=arguments.length,x=Array(g),w=0;w<g;w++)x[w]=arguments[w];return p=(u=(f=Gl(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(x))),f),f.state={active:!1},f.handleMouseDown=function(){return f.setState({active:!0})},f.handleMouseUp=function(){return f.setState({active:!1})},f.render=function(){return Vi.default.createElement(r,{onMouseDown:f.handleMouseDown,onMouseUp:f.handleMouseUp},Vi.default.createElement(t,PC({},f.props,f.state)))},u),Gl(f,p)}return i}(Vi.default.Component)};Dn.default=FC;var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});var IC=function(t,r){var n={},i=function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[u]=f};return t===0&&i("first-child"),t===r-1&&i("last-child"),(t===0||t%2===0)&&i("even"),Math.abs(t%2)===1&&i("odd"),i("nth-child",t),n};Bo.default=IC;Object.defineProperty(We,"__esModule",{value:!0});We.ReactCSS=We.loop=We.handleActive=Lo=We.handleHover=We.hover=void 0;var DC=kn,NC=Jr(DC),BC=Rn,LC=Jr(BC),KC=Fn,HC=Jr(KC),GC=In,lf=Jr(GC),zC=Dn,qC=Jr(zC),UC=Bo,VC=Jr(UC);function Jr(e){return e&&e.__esModule?e:{default:e}}We.hover=lf.default;var Lo=We.handleHover=lf.default;We.handleActive=qC.default;We.loop=VC.default;var WC=We.ReactCSS=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=(0,NC.default)(n),u=(0,LC.default)(t,s);return(0,HC.default)(u)},te=We.default=WC,YC=function(t,r,n,i,s){var u=s.clientWidth,f=s.clientHeight,p=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,g=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,x=p-(s.getBoundingClientRect().left+window.pageXOffset),w=g-(s.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var k=void 0;if(w<0?k=0:w>f?k=1:k=Math.round(w*100/f)/100,r.a!==k)return{h:r.h,s:r.s,l:r.l,a:k,source:"rgb"}}else{var F=void 0;if(x<0?F=0:x>u?F=1:F=Math.round(x*100/u)/100,i!==F)return{h:r.h,s:r.s,l:r.l,a:F,source:"rgb"}}return null},Wi={},XC=function(t,r,n,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=n*2,s.height=n*2;var u=s.getContext("2d");return u?(u.fillStyle=t,u.fillRect(0,0,s.width,s.height),u.fillStyle=r,u.fillRect(0,0,n,n),u.translate(n,n),u.fillRect(0,0,n,n),s.toDataURL()):null},ZC=function(t,r,n,i){var s=t+"-"+r+"-"+n+(i?"-server":"");if(Wi[s])return Wi[s];var u=XC(t,r,n,i);return Wi[s]=u,u},zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qr=function(t){var r=t.white,n=t.grey,i=t.size,s=t.renderers,u=t.borderRadius,f=t.boxShadow,p=t.children,g=te({default:{grid:{borderRadius:u,boxShadow:f,absolute:"0px 0px 0px 0px",background:"url("+ZC(r,n,i,s.canvas)+") center left"}}});return D.isValidElement(p)?b.cloneElement(p,zl({},p.props,{style:zl({},p.props.style,g.grid)})):b.createElement("div",{style:g.grid})};Qr.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var JC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function e2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ql(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function t2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ko=function(e){t2(t,e);function t(){var r,n,i,s;e2(this,t);for(var u=arguments.length,f=Array(u),p=0;p<u;p++)f[p]=arguments[p];return s=(n=(i=ql(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),i),i.handleChange=function(g){var x=YC(g,i.props.hsl,i.props.direction,i.props.a,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),ql(i,s)}return QC(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,s=te({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:JC({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return b.createElement("div",{style:s.alpha},b.createElement("div",{style:s.checkboard},b.createElement(Qr,{renderers:this.props.renderers})),b.createElement("div",{style:s.gradient}),b.createElement("div",{style:s.container,ref:function(f){return n.container=f},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.createElement("div",{style:s.pointer},this.props.pointer?b.createElement(this.props.pointer,this.props):b.createElement("div",{style:s.slider}))))}}]),t}(D.PureComponent||D.Component),r2=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function n2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i2(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function o2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s2=1,uf=38,l2=40,u2=[uf,l2],c2=function(t){return u2.indexOf(t)>-1},f2=function(t){return Number(String(t).replace(/%/g,""))},h2=1,ce=function(e){o2(t,e);function t(r){a2(this,t);var n=i2(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var s=f2(i.target.value);if(!isNaN(s)&&c2(i.keyCode)){var u=n.getArrowOffset(),f=i.keyCode===uf?s+u:s-u;n.setUpdatedValue(f,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var s=Math.round(n.props.value+i.movementX);s>=0&&s<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(s),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+h2++,n}return r2(t,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return n2({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||s2}},{key:"setUpdatedValue",value:function(n,i){var s=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(s,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=te({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return b.createElement("div",{style:i.wrap},b.createElement("input",{id:this.inputId,style:i.input,ref:function(u){return n.input=u},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?b.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(D.PureComponent||D.Component),p2=function(t,r,n,i){var s=i.clientWidth,u=i.clientHeight,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,p=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=f-(i.getBoundingClientRect().left+window.pageXOffset),x=p-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var w=void 0;if(x<0)w=359;else if(x>u)w=0;else{var k=-(x*100/u)+100;w=360*k/100}if(n.h!==w)return{h:w,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var F=void 0;if(g<0)F=0;else if(g>s)F=359;else{var N=g*100/s;F=360*N/100}if(n.h!==F)return{h:F,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},d2=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function g2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ul(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function v2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var en=function(e){v2(t,e);function t(){var r,n,i,s;g2(this,t);for(var u=arguments.length,f=Array(u),p=0;p<u;p++)f[p]=arguments[p];return s=(n=(i=Ul(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(f))),i),i.handleChange=function(g){var x=p2(g,i.props.direction,i.props.hsl,i.container);x&&typeof i.props.onChange=="function"&&i.props.onChange(x,g)},i.handleMouseDown=function(g){i.handleChange(g),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),Ul(i,s)}return d2(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,s=i===void 0?"horizontal":i,u=te({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return b.createElement("div",{style:u.hue},b.createElement("div",{className:"hue-"+s,style:u.container,ref:function(p){return n.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),b.createElement("div",{style:u.pointer},this.props.pointer?b.createElement(this.props.pointer,this.props):b.createElement("div",{style:u.slider}))))}}]),t}(D.PureComponent||D.Component);function b2(){this.__data__=[],this.size=0}function Nn(e,t){return e===t||e!==e&&t!==t}function qa(e,t){for(var r=e.length;r--;)if(Nn(e[r][0],t))return r;return-1}var m2=Array.prototype,y2=m2.splice;function x2(e){var t=this.__data__,r=qa(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():y2.call(t,r,1),--this.size,!0}function w2(e){var t=this.__data__,r=qa(t,e);return r<0?void 0:t[r][1]}function _2(e){return qa(this.__data__,e)>-1}function S2(e,t){var r=this.__data__,n=qa(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function _t(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_t.prototype.clear=b2;_t.prototype.delete=x2;_t.prototype.get=w2;_t.prototype.has=_2;_t.prototype.set=S2;function E2(){this.__data__=new _t,this.size=0}function C2(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function $2(e){return this.__data__.get(e)}function O2(e){return this.__data__.has(e)}var cf=typeof global=="object"&&global&&global.Object===Object&&global,T2=typeof self=="object"&&self&&self.Object===Object&&self,nt=cf||T2||Function("return this")(),It=nt.Symbol,ff=Object.prototype,A2=ff.hasOwnProperty,P2=ff.toString,mn=It?It.toStringTag:void 0;function k2(e){var t=A2.call(e,mn),r=e[mn];try{e[mn]=void 0;var n=!0}catch{}var i=P2.call(e);return n&&(t?e[mn]=r:delete e[mn]),i}var M2=Object.prototype,j2=M2.toString;function R2(e){return j2.call(e)}var F2="[object Null]",I2="[object Undefined]",Vl=It?It.toStringTag:void 0;function sr(e){return e==null?e===void 0?I2:F2:Vl&&Vl in Object(e)?k2(e):R2(e)}function Ye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var D2="[object AsyncFunction]",N2="[object Function]",B2="[object GeneratorFunction]",L2="[object Proxy]";function Ho(e){if(!Ye(e))return!1;var t=sr(e);return t==N2||t==B2||t==D2||t==L2}var Yi=nt["__core-js_shared__"],Wl=function(){var e=/[^.]+$/.exec(Yi&&Yi.keys&&Yi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function K2(e){return!!Wl&&Wl in e}var H2=Function.prototype,G2=H2.toString;function lr(e){if(e!=null){try{return G2.call(e)}catch{}try{return e+""}catch{}}return""}var z2=/[\\^$.*+?()[\]{}|]/g,q2=/^\[object .+?Constructor\]$/,U2=Function.prototype,V2=Object.prototype,W2=U2.toString,Y2=V2.hasOwnProperty,X2=RegExp("^"+W2.call(Y2).replace(z2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Z2(e){if(!Ye(e)||K2(e))return!1;var t=Ho(e)?X2:q2;return t.test(lr(e))}function J2(e,t){return e?.[t]}function ur(e,t){var r=J2(e,t);return Z2(r)?r:void 0}var On=ur(nt,"Map"),Tn=ur(Object,"create");function Q2(){this.__data__=Tn?Tn(null):{},this.size=0}function e$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var t$="__lodash_hash_undefined__",r$=Object.prototype,n$=r$.hasOwnProperty;function a$(e){var t=this.__data__;if(Tn){var r=t[e];return r===t$?void 0:r}return n$.call(t,e)?t[e]:void 0}var i$=Object.prototype,o$=i$.hasOwnProperty;function s$(e){var t=this.__data__;return Tn?t[e]!==void 0:o$.call(t,e)}var l$="__lodash_hash_undefined__";function u$(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tn&&t===void 0?l$:t,this}function ar(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ar.prototype.clear=Q2;ar.prototype.delete=e$;ar.prototype.get=a$;ar.prototype.has=s$;ar.prototype.set=u$;function c$(){this.size=0,this.__data__={hash:new ar,map:new(On||_t),string:new ar}}function f$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ua(e,t){var r=e.__data__;return f$(t)?r[typeof t=="string"?"string":"hash"]:r.map}function h$(e){var t=Ua(this,e).delete(e);return this.size-=t?1:0,t}function p$(e){return Ua(this,e).get(e)}function d$(e){return Ua(this,e).has(e)}function g$(e,t){var r=Ua(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function St(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}St.prototype.clear=c$;St.prototype.delete=h$;St.prototype.get=p$;St.prototype.has=d$;St.prototype.set=g$;var v$=200;function b$(e,t){var r=this.__data__;if(r instanceof _t){var n=r.__data__;if(!On||n.length<v$-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new St(n)}return r.set(e,t),this.size=r.size,this}function ht(e){var t=this.__data__=new _t(e);this.size=t.size}ht.prototype.clear=E2;ht.prototype.delete=C2;ht.prototype.get=$2;ht.prototype.has=O2;ht.prototype.set=b$;var Ta=function(){try{var e=ur(Object,"defineProperty");return e({},"",{}),e}catch{}}();function Go(e,t,r){t=="__proto__"&&Ta?Ta(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function co(e,t,r){(r!==void 0&&!Nn(e[t],r)||r===void 0&&!(t in e))&&Go(e,t,r)}function m$(e){return function(t,r,n){for(var i=-1,s=Object(t),u=n(t),f=u.length;f--;){var p=u[++i];if(r(s[p],p,s)===!1)break}return t}}var hf=m$(),pf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yl=pf&&typeof module=="object"&&module&&!module.nodeType&&module,y$=Yl&&Yl.exports===pf,Xl=y$?nt.Buffer:void 0;Xl&&Xl.allocUnsafe;function x$(e,t){return e.slice()}var Aa=nt.Uint8Array;function w$(e){var t=new e.constructor(e.byteLength);return new Aa(t).set(new Aa(e)),t}function _$(e,t){var r=w$(e.buffer);return new e.constructor(r,e.byteOffset,e.length)}function S$(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Zl=Object.create,E$=function(){function e(){}return function(t){if(!Ye(t))return{};if(Zl)return Zl(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function df(e,t){return function(r){return e(t(r))}}var gf=df(Object.getPrototypeOf,Object),C$=Object.prototype;function zo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||C$;return e===r}function $$(e){return typeof e.constructor=="function"&&!zo(e)?E$(gf(e)):{}}function Dt(e){return e!=null&&typeof e=="object"}var O$="[object Arguments]";function Jl(e){return Dt(e)&&sr(e)==O$}var vf=Object.prototype,T$=vf.hasOwnProperty,A$=vf.propertyIsEnumerable,Pa=Jl(function(){return arguments}())?Jl:function(e){return Dt(e)&&T$.call(e,"callee")&&!A$.call(e,"callee")},ze=Array.isArray,P$=9007199254740991;function qo(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=P$}function tn(e){return e!=null&&qo(e.length)&&!Ho(e)}function k$(e){return Dt(e)&&tn(e)}function M$(){return!1}var bf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ql=bf&&typeof module=="object"&&module&&!module.nodeType&&module,j$=Ql&&Ql.exports===bf,eu=j$?nt.Buffer:void 0,R$=eu?eu.isBuffer:void 0,ka=R$||M$,F$="[object Object]",I$=Function.prototype,D$=Object.prototype,mf=I$.toString,N$=D$.hasOwnProperty,B$=mf.call(Object);function L$(e){if(!Dt(e)||sr(e)!=F$)return!1;var t=gf(e);if(t===null)return!0;var r=N$.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&mf.call(r)==B$}var K$="[object Arguments]",H$="[object Array]",G$="[object Boolean]",z$="[object Date]",q$="[object Error]",U$="[object Function]",V$="[object Map]",W$="[object Number]",Y$="[object Object]",X$="[object RegExp]",Z$="[object Set]",J$="[object String]",Q$="[object WeakMap]",eO="[object ArrayBuffer]",tO="[object DataView]",rO="[object Float32Array]",nO="[object Float64Array]",aO="[object Int8Array]",iO="[object Int16Array]",oO="[object Int32Array]",sO="[object Uint8Array]",lO="[object Uint8ClampedArray]",uO="[object Uint16Array]",cO="[object Uint32Array]",ye={};ye[rO]=ye[nO]=ye[aO]=ye[iO]=ye[oO]=ye[sO]=ye[lO]=ye[uO]=ye[cO]=!0;ye[K$]=ye[H$]=ye[eO]=ye[G$]=ye[tO]=ye[z$]=ye[q$]=ye[U$]=ye[V$]=ye[W$]=ye[Y$]=ye[X$]=ye[Z$]=ye[J$]=ye[Q$]=!1;function fO(e){return Dt(e)&&qo(e.length)&&!!ye[sr(e)]}function hO(e){return function(t){return e(t)}}var yf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cn=yf&&typeof module=="object"&&module&&!module.nodeType&&module,pO=Cn&&Cn.exports===yf,Xi=pO&&cf.process,tu=function(){try{var e=Cn&&Cn.require&&Cn.require("util").types;return e||Xi&&Xi.binding&&Xi.binding("util")}catch{}}(),ru=tu&&tu.isTypedArray,Uo=ru?hO(ru):fO;function fo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var dO=Object.prototype,gO=dO.hasOwnProperty;function vO(e,t,r){var n=e[t];(!(gO.call(e,t)&&Nn(n,r))||r===void 0&&!(t in e))&&Go(e,t,r)}function bO(e,t,r,n){var i=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var f=t[s],p=void 0;p===void 0&&(p=e[f]),i?Go(r,f,p):vO(r,f,p)}return r}function mO(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var yO=9007199254740991,xO=/^(?:0|[1-9]\d*)$/;function Vo(e,t){var r=typeof e;return t=t??yO,!!t&&(r=="number"||r!="symbol"&&xO.test(e))&&e>-1&&e%1==0&&e<t}var wO=Object.prototype,_O=wO.hasOwnProperty;function xf(e,t){var r=ze(e),n=!r&&Pa(e),i=!r&&!n&&ka(e),s=!r&&!n&&!i&&Uo(e),u=r||n||i||s,f=u?mO(e.length,String):[],p=f.length;for(var g in e)(t||_O.call(e,g))&&!(u&&(g=="length"||i&&(g=="offset"||g=="parent")||s&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Vo(g,p)))&&f.push(g);return f}function SO(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var EO=Object.prototype,CO=EO.hasOwnProperty;function $O(e){if(!Ye(e))return SO(e);var t=zo(e),r=[];for(var n in e)n=="constructor"&&(t||!CO.call(e,n))||r.push(n);return r}function wf(e){return tn(e)?xf(e,!0):$O(e)}function OO(e){return bO(e,wf(e))}function TO(e,t,r,n,i,s,u){var f=fo(e,r),p=fo(t,r),g=u.get(p);if(g){co(e,r,g);return}var x=s?s(f,p,r+"",e,t,u):void 0,w=x===void 0;if(w){var k=ze(p),F=!k&&ka(p),N=!k&&!F&&Uo(p);x=p,k||F||N?ze(f)?x=f:k$(f)?x=S$(f):F?(w=!1,x=x$(p)):N?(w=!1,x=_$(p)):x=[]:L$(p)||Pa(p)?(x=f,Pa(f)?x=OO(f):(!Ye(f)||Ho(f))&&(x=$$(p))):w=!1}w&&(u.set(p,x),i(x,p,n,s,u),u.delete(p)),co(e,r,x)}function _f(e,t,r,n,i){e!==t&&hf(t,function(s,u){if(i||(i=new ht),Ye(s))TO(e,t,u,r,_f,n,i);else{var f=n?n(fo(e,u),s,u+"",e,t,i):void 0;f===void 0&&(f=s),co(e,u,f)}},wf)}function Va(e){return e}function AO(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var nu=Math.max;function PO(e,t,r){return t=nu(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,s=nu(n.length-t,0),u=Array(s);++i<s;)u[i]=n[t+i];i=-1;for(var f=Array(t+1);++i<t;)f[i]=n[i];return f[t]=r(u),AO(e,this,f)}}function kO(e){return function(){return e}}var MO=Ta?function(e,t){return Ta(e,"toString",{configurable:!0,enumerable:!1,value:kO(t),writable:!0})}:Va,jO=800,RO=16,FO=Date.now;function IO(e){var t=0,r=0;return function(){var n=FO(),i=RO-(n-r);if(r=n,i>0){if(++t>=jO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var DO=IO(MO);function NO(e,t){return DO(PO(e,t,Va),e+"")}function BO(e,t,r){if(!Ye(r))return!1;var n=typeof t;return(n=="number"?tn(r)&&Vo(t,r.length):n=="string"&&t in r)?Nn(r[t],e):!1}function LO(e){return NO(function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,u&&BO(r[0],r[1],u)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var f=r[n];f&&e(t,f,n,s)}return t})}var De=LO(function(e,t,r){_f(e,t,r)}),Bn=function(t){var r=t.zDepth,n=t.radius,i=t.background,s=t.children,u=t.styles,f=u===void 0?{}:u,p=te(De({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},f),{"zDepth-1":r===1});return b.createElement("div",{style:p.wrap},b.createElement("div",{style:p.bg}),b.createElement("div",{style:p.content},s))};Bn.propTypes={background:U.string,zDepth:U.oneOf([0,1,2,3,4,5]),radius:U.number,styles:U.object};Bn.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Zi=function(){return nt.Date.now()},KO=/\s/;function HO(e){for(var t=e.length;t--&&KO.test(e.charAt(t)););return t}var GO=/^\s+/;function zO(e){return e&&e.slice(0,HO(e)+1).replace(GO,"")}var qO="[object Symbol]";function Wa(e){return typeof e=="symbol"||Dt(e)&&sr(e)==qO}var au=NaN,UO=/^[-+]0x[0-9a-f]+$/i,VO=/^0b[01]+$/i,WO=/^0o[0-7]+$/i,YO=parseInt;function iu(e){if(typeof e=="number")return e;if(Wa(e))return au;if(Ye(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ye(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=zO(e);var r=VO.test(e);return r||WO.test(e)?YO(e.slice(2),r?2:8):UO.test(e)?au:+e}var XO="Expected a function",ZO=Math.max,JO=Math.min;function Sf(e,t,r){var n,i,s,u,f,p,g=0,x=!1,w=!1,k=!0;if(typeof e!="function")throw new TypeError(XO);t=iu(t)||0,Ye(r)&&(x=!!r.leading,w="maxWait"in r,s=w?ZO(iu(r.maxWait)||0,t):s,k="trailing"in r?!!r.trailing:k);function F(le){var ve=n,Xe=i;return n=i=void 0,g=le,u=e.apply(Xe,ve),u}function N(le){return g=le,f=setTimeout(Y,t),x?F(le):u}function B(le){var ve=le-p,Xe=le-g,Bt=t-ve;return w?JO(Bt,s-Xe):Bt}function L(le){var ve=le-p,Xe=le-g;return p===void 0||ve>=t||ve<0||w&&Xe>=s}function Y(){var le=Zi();if(L(le))return re(le);f=setTimeout(Y,B(le))}function re(le){return f=void 0,k&&n?F(le):(n=i=void 0,u)}function de(){f!==void 0&&clearTimeout(f),g=0,n=p=i=f=void 0}function fe(){return f===void 0?u:re(Zi())}function Ce(){var le=Zi(),ve=L(le);if(n=arguments,i=this,p=le,ve){if(f===void 0)return N(p);if(w)return clearTimeout(f),f=setTimeout(Y,t),F(p)}return f===void 0&&(f=setTimeout(Y,t)),u}return Ce.cancel=de,Ce.flush=fe,Ce}var QO="Expected a function";function eT(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(QO);return Ye(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Sf(e,t,{leading:n,maxWait:t,trailing:i})}var tT=function(t,r,n){var i=n.getBoundingClientRect(),s=i.width,u=i.height,f=typeof t.pageX=="number"?t.pageX:t.touches[0].pageX,p=typeof t.pageY=="number"?t.pageY:t.touches[0].pageY,g=f-(n.getBoundingClientRect().left+window.pageXOffset),x=p-(n.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>s&&(g=s),x<0?x=0:x>u&&(x=u);var w=g/s,k=1-x/u;return{h:r.h,s:w,v:k,a:r.a,source:"hsv"}},rT=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function nT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ya=function(e){iT(t,e);function t(r){nT(this,t);var n=aT(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,tT(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var s=n.getContainerRenderWindow();s.addEventListener("mousemove",n.handleChange),s.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=eT(function(i,s,u){i(s,u)},50),n}return rT(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},s=i.color,u=i.white,f=i.black,p=i.pointer,g=i.circle,x=te({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:u,black:f,pointer:p,circle:g}},{custom:!!this.props.style});return b.createElement("div",{style:x.color,ref:function(k){return n.container=k},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),b.createElement("div",{style:x.white,className:"saturation-white"},b.createElement("div",{style:x.black,className:"saturation-black"}),b.createElement("div",{style:x.pointer},this.props.pointer?b.createElement(this.props.pointer,this.props):b.createElement("div",{style:x.circle}))))}}]),t}(D.PureComponent||D.Component);function oT(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var sT=df(Object.keys,Object),lT=Object.prototype,uT=lT.hasOwnProperty;function cT(e){if(!zo(e))return sT(e);var t=[];for(var r in Object(e))uT.call(e,r)&&r!="constructor"&&t.push(r);return t}function Wo(e){return tn(e)?xf(e):cT(e)}function fT(e,t){return e&&hf(e,t,Wo)}function hT(e,t){return function(r,n){if(r==null)return r;if(!tn(r))return e(r,n);for(var i=r.length,s=-1,u=Object(r);++s<i&&n(u[s],s,u)!==!1;);return r}}var Ef=hT(fT);function pT(e){return typeof e=="function"?e:Va}function dT(e,t){var r=ze(e)?oT:Ef;return r(e,pT(t))}function Ma(e){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(e)}var gT=/^\s+/,vT=/\s+$/;function J(e,t){if(e=e||"",t=t||{},e instanceof J)return e;if(!(this instanceof J))return new J(e,t);var r=bT(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}J.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),r,n,i,s,u,f;return r=t.r/255,n=t.g/255,i=t.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),i<=.03928?f=i/12.92:f=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*u+.0722*f},setAlpha:function(t){return this._a=Cf(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=su(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=su(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=ou(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=ou(this._r,this._g,this._b),r=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return lu(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return wT(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Se(this._r,255)*100)+"%",g:Math.round(Se(this._g,255)*100)+"%",b:Math.round(Se(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Se(this._r,255)*100)+"%, "+Math.round(Se(this._g,255)*100)+"%, "+Math.round(Se(this._b,255)*100)+"%)":"rgba("+Math.round(Se(this._r,255)*100)+"%, "+Math.round(Se(this._g,255)*100)+"%, "+Math.round(Se(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:jT[lu(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var r="#"+uu(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=J(t);n="#"+uu(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(t){var r=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return J(this.toString())},_applyModification:function(t,r){var n=t.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(CT,arguments)},brighten:function(){return this._applyModification($T,arguments)},darken:function(){return this._applyModification(OT,arguments)},desaturate:function(){return this._applyModification(_T,arguments)},saturate:function(){return this._applyModification(ST,arguments)},greyscale:function(){return this._applyModification(ET,arguments)},spin:function(){return this._applyModification(TT,arguments)},_applyCombination:function(t,r){return t.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(kT,arguments)},complement:function(){return this._applyCombination(AT,arguments)},monochromatic:function(){return this._applyCombination(MT,arguments)},splitcomplement:function(){return this._applyCombination(PT,arguments)},triad:function(){return this._applyCombination(cu,[3])},tetrad:function(){return this._applyCombination(cu,[4])}};J.fromRatio=function(e,t){if(Ma(e)=="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?r[n]=e[n]:r[n]=_n(e[n]));e=r}return J(e,t)};function bT(e){var t={r:0,g:0,b:0},r=1,n=null,i=null,s=null,u=!1,f=!1;return typeof e=="string"&&(e=DT(e)),Ma(e)=="object"&&(yt(e.r)&&yt(e.g)&&yt(e.b)?(t=mT(e.r,e.g,e.b),u=!0,f=String(e.r).substr(-1)==="%"?"prgb":"rgb"):yt(e.h)&&yt(e.s)&&yt(e.v)?(n=_n(e.s),i=_n(e.v),t=xT(e.h,n,i),u=!0,f="hsv"):yt(e.h)&&yt(e.s)&&yt(e.l)&&(n=_n(e.s),s=_n(e.l),t=yT(e.h,n,s),u=!0,f="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=Cf(r),{ok:u,format:e.format||f,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}function mT(e,t,r){return{r:Se(e,255)*255,g:Se(t,255)*255,b:Se(r,255)*255}}function ou(e,t,r){e=Se(e,255),t=Se(t,255),r=Se(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),s,u,f=(n+i)/2;if(n==i)s=u=0;else{var p=n-i;switch(u=f>.5?p/(2-n-i):p/(n+i),n){case e:s=(t-r)/p+(t<r?6:0);break;case t:s=(r-e)/p+2;break;case r:s=(e-t)/p+4;break}s/=6}return{h:s,s:u,l:f}}function yT(e,t,r){var n,i,s;e=Se(e,360),t=Se(t,100),r=Se(r,100);function u(g,x,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?g+(x-g)*6*w:w<1/2?x:w<2/3?g+(x-g)*(2/3-w)*6:g}if(t===0)n=i=s=r;else{var f=r<.5?r*(1+t):r+t-r*t,p=2*r-f;n=u(p,f,e+1/3),i=u(p,f,e),s=u(p,f,e-1/3)}return{r:n*255,g:i*255,b:s*255}}function su(e,t,r){e=Se(e,255),t=Se(t,255),r=Se(r,255);var n=Math.max(e,t,r),i=Math.min(e,t,r),s,u,f=n,p=n-i;if(u=n===0?0:p/n,n==i)s=0;else{switch(n){case e:s=(t-r)/p+(t<r?6:0);break;case t:s=(r-e)/p+2;break;case r:s=(e-t)/p+4;break}s/=6}return{h:s,s:u,v:f}}function xT(e,t,r){e=Se(e,360)*6,t=Se(t,100),r=Se(r,100);var n=Math.floor(e),i=e-n,s=r*(1-t),u=r*(1-i*t),f=r*(1-(1-i)*t),p=n%6,g=[r,u,s,s,f,r][p],x=[f,r,r,u,s,s][p],w=[s,s,f,r,r,u][p];return{r:g*255,g:x*255,b:w*255}}function lu(e,t,r,n){var i=[et(Math.round(e).toString(16)),et(Math.round(t).toString(16)),et(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function wT(e,t,r,n,i){var s=[et(Math.round(e).toString(16)),et(Math.round(t).toString(16)),et(Math.round(r).toString(16)),et($f(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function uu(e,t,r,n){var i=[et($f(n)),et(Math.round(e).toString(16)),et(Math.round(t).toString(16)),et(Math.round(r).toString(16))];return i.join("")}J.equals=function(e,t){return!e||!t?!1:J(e).toRgbString()==J(t).toRgbString()};J.random=function(){return J.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _T(e,t){t=t===0?0:t||10;var r=J(e).toHsl();return r.s-=t/100,r.s=Xa(r.s),J(r)}function ST(e,t){t=t===0?0:t||10;var r=J(e).toHsl();return r.s+=t/100,r.s=Xa(r.s),J(r)}function ET(e){return J(e).desaturate(100)}function CT(e,t){t=t===0?0:t||10;var r=J(e).toHsl();return r.l+=t/100,r.l=Xa(r.l),J(r)}function $T(e,t){t=t===0?0:t||10;var r=J(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(t/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(t/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(t/100)))),J(r)}function OT(e,t){t=t===0?0:t||10;var r=J(e).toHsl();return r.l-=t/100,r.l=Xa(r.l),J(r)}function TT(e,t){var r=J(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,J(r)}function AT(e){var t=J(e).toHsl();return t.h=(t.h+180)%360,J(t)}function cu(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=J(e).toHsl(),n=[J(e)],i=360/t,s=1;s<t;s++)n.push(J({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function PT(e){var t=J(e).toHsl(),r=t.h;return[J(e),J({h:(r+72)%360,s:t.s,l:t.l}),J({h:(r+216)%360,s:t.s,l:t.l})]}function kT(e,t,r){t=t||6,r=r||30;var n=J(e).toHsl(),i=360/r,s=[J(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,s.push(J(n));return s}function MT(e,t){t=t||6;for(var r=J(e).toHsv(),n=r.h,i=r.s,s=r.v,u=[],f=1/t;t--;)u.push(J({h:n,s:i,v:s})),s=(s+f)%1;return u}J.mix=function(e,t,r){r=r===0?0:r||50;var n=J(e).toRgb(),i=J(t).toRgb(),s=r/100,u={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return J(u)};J.readability=function(e,t){var r=J(e),n=J(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};J.isReadable=function(e,t,r){var n=J.readability(e,t),i,s;switch(s=!1,i=NT(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};J.mostReadable=function(e,t,r){var n=null,i=0,s,u,f,p;r=r||{},u=r.includeFallbackColors,f=r.level,p=r.size;for(var g=0;g<t.length;g++)s=J.readability(e,t[g]),s>i&&(i=s,n=J(t[g]));return J.isReadable(e,n,{level:f,size:p})||!u?n:(r.includeFallbackColors=!1,J.mostReadable(e,["#fff","#000"],r))};var ho=J.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},jT=J.hexNames=RT(ho);function RT(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function Cf(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Se(e,t){FT(e)&&(e="100%");var r=IT(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Xa(e){return Math.min(1,Math.max(0,e))}function Ge(e){return parseInt(e,16)}function FT(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function IT(e){return typeof e=="string"&&e.indexOf("%")!=-1}function et(e){return e.length==1?"0"+e:""+e}function _n(e){return e<=1&&(e=e*100+"%"),e}function $f(e){return Math.round(parseFloat(e)*255).toString(16)}function fu(e){return Ge(e)/255}var Qe=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",r="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function yt(e){return!!Qe.CSS_UNIT.exec(e)}function DT(e){e=e.replace(gT,"").replace(vT,"").toLowerCase();var t=!1;if(ho[e])e=ho[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Qe.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Qe.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Qe.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Qe.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Qe.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Qe.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Qe.hex8.exec(e))?{r:Ge(r[1]),g:Ge(r[2]),b:Ge(r[3]),a:fu(r[4]),format:t?"name":"hex8"}:(r=Qe.hex6.exec(e))?{r:Ge(r[1]),g:Ge(r[2]),b:Ge(r[3]),format:t?"name":"hex"}:(r=Qe.hex4.exec(e))?{r:Ge(r[1]+""+r[1]),g:Ge(r[2]+""+r[2]),b:Ge(r[3]+""+r[3]),a:fu(r[4]+""+r[4]),format:t?"name":"hex8"}:(r=Qe.hex3.exec(e))?{r:Ge(r[1]+""+r[1]),g:Ge(r[2]+""+r[2]),b:Ge(r[3]+""+r[3]),format:t?"name":"hex"}:!1}function NT(e){var t,r;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:t,size:r}}var hu=function(t){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return dT(r,function(s){if(t[s]&&(n+=1,isNaN(t[s])||(i+=1),s==="s"||s==="l")){var u=/^\d+%$/;u.test(t[s])&&(i+=1)}}),n===i?t:!1},Sn=function(t,r){var n=t.hex?J(t.hex):J(t),i=n.toHsl(),s=n.toHsv(),u=n.toRgb(),f=n.toHex();i.s===0&&(i.h=r||0,s.h=r||0);var p=f==="000000"&&u.a===0;return{hsl:i,hex:p?"transparent":"#"+f,rgb:u,hsv:s,oldHue:t.h||r||i.h,source:t.source}},Nt=function(t){if(t==="transparent")return!0;var r=String(t).charAt(0)==="#"?1:0;return t.length!==4+r&&t.length<7+r&&J(t).isValid()},Yo=function(t){if(!t)return"#fff";var r=Sn(t);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Ji=function(t,r){var n=t.replace("°","");return J(r+" ("+n+")")._ok},yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BT=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function LT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ne=function(t){var r=function(n){HT(i,n);function i(s){LT(this,i);var u=KT(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return u.handleChange=function(f,p){var g=hu(f);if(g){var x=Sn(f,f.h||u.state.oldHue);u.setState(x),u.props.onChangeComplete&&u.debounce(u.props.onChangeComplete,x,p),u.props.onChange&&u.props.onChange(x,p)}},u.handleSwatchHover=function(f,p){var g=hu(f);if(g){var x=Sn(f,f.h||u.state.oldHue);u.props.onSwatchHover&&u.props.onSwatchHover(x,p)}},u.state=yn({},Sn(s.color,0)),u.debounce=Sf(function(f,p,g){f(p,g)},100),u}return BT(i,[{key:"render",value:function(){var u={};return this.props.onSwatchHover&&(u.onSwatchHover=this.handleSwatchHover),b.createElement(t,yn({},this.props,this.state,{onChange:this.handleChange},u))}}],[{key:"getDerivedStateFromProps",value:function(u,f){return yn({},Sn(u.color,f.oldHue))}}]),i}(D.PureComponent||D.Component);return r.propTypes=yn({},t.propTypes),r.defaultProps=yn({},t.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},GT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function qT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function UT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var VT=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){UT(i,n);function i(){var s,u,f,p;qT(this,i);for(var g=arguments.length,x=Array(g),w=0;w<g;w++)x[w]=arguments[w];return p=(u=(f=pu(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(x))),f),f.state={focus:!1},f.handleFocus=function(){return f.setState({focus:!0})},f.handleBlur=function(){return f.setState({focus:!1})},u),pu(f,p)}return zT(i,[{key:"render",value:function(){return b.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},b.createElement(t,GT({},this.props,this.state)))}}]),i}(b.Component)},du=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WT=13,YT=function(t){var r=t.color,n=t.style,i=t.onClick,s=i===void 0?function(){}:i,u=t.onHover,f=t.title,p=f===void 0?r:f,g=t.children,x=t.focus,w=t.focusStyle,k=w===void 0?{}:w,F=r==="transparent",N=te({default:{swatch:du({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,x?k:{})}}),B=function(fe){return s(r,fe)},L=function(fe){return fe.keyCode===WT&&s(r,fe)},Y=function(fe){return u(r,fe)},re={};return u&&(re.onMouseOver=Y),b.createElement("div",du({style:N.swatch,onClick:B,title:p,tabIndex:0,onKeyDown:L},re),g,F&&b.createElement(Qr,{borderRadius:N.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const cr=VT(YT);var XT=function(t){var r=t.direction,n=te({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return b.createElement("div",{style:n.picker})},ZT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of=function(t){var r=t.rgb,n=t.hsl,i=t.width,s=t.height,u=t.onChange,f=t.direction,p=t.style,g=t.renderers,x=t.pointer,w=t.className,k=w===void 0?"":w,F=te({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:p}}});return b.createElement("div",{style:F.picker,className:"alpha-picker "+k},b.createElement(Ko,ZT({},F.alpha,{rgb:r,hsl:n,pointer:x,renderers:g,onChange:u,direction:f})))};Of.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:XT};Ne(Of);function Tf(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var JT="__lodash_hash_undefined__";function QT(e){return this.__data__.set(e,JT),this}function eA(e){return this.__data__.has(e)}function ja(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new St;++t<r;)this.add(e[t])}ja.prototype.add=ja.prototype.push=QT;ja.prototype.has=eA;function tA(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function rA(e,t){return e.has(t)}var nA=1,aA=2;function Af(e,t,r,n,i,s){var u=r&nA,f=e.length,p=t.length;if(f!=p&&!(u&&p>f))return!1;var g=s.get(e),x=s.get(t);if(g&&x)return g==t&&x==e;var w=-1,k=!0,F=r&aA?new ja:void 0;for(s.set(e,t),s.set(t,e);++w<f;){var N=e[w],B=t[w];if(n)var L=u?n(B,N,w,t,e,s):n(N,B,w,e,t,s);if(L!==void 0){if(L)continue;k=!1;break}if(F){if(!tA(t,function(Y,re){if(!rA(F,re)&&(N===Y||i(N,Y,r,n,s)))return F.push(re)})){k=!1;break}}else if(!(N===B||i(N,B,r,n,s))){k=!1;break}}return s.delete(e),s.delete(t),k}function iA(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function oA(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var sA=1,lA=2,uA="[object Boolean]",cA="[object Date]",fA="[object Error]",hA="[object Map]",pA="[object Number]",dA="[object RegExp]",gA="[object Set]",vA="[object String]",bA="[object Symbol]",mA="[object ArrayBuffer]",yA="[object DataView]",gu=It?It.prototype:void 0,Qi=gu?gu.valueOf:void 0;function xA(e,t,r,n,i,s,u){switch(r){case yA:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mA:return!(e.byteLength!=t.byteLength||!s(new Aa(e),new Aa(t)));case uA:case cA:case pA:return Nn(+e,+t);case fA:return e.name==t.name&&e.message==t.message;case dA:case vA:return e==t+"";case hA:var f=iA;case gA:var p=n&sA;if(f||(f=oA),e.size!=t.size&&!p)return!1;var g=u.get(e);if(g)return g==t;n|=lA,u.set(e,t);var x=Af(f(e),f(t),n,i,s,u);return u.delete(e),x;case bA:if(Qi)return Qi.call(e)==Qi.call(t)}return!1}function wA(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function _A(e,t,r){var n=t(e);return ze(e)?n:wA(n,r(e))}function SA(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var u=e[r];t(u,r,e)&&(s[i++]=u)}return s}function EA(){return[]}var CA=Object.prototype,$A=CA.propertyIsEnumerable,vu=Object.getOwnPropertySymbols,OA=vu?function(e){return e==null?[]:(e=Object(e),SA(vu(e),function(t){return $A.call(e,t)}))}:EA;function bu(e){return _A(e,Wo,OA)}var TA=1,AA=Object.prototype,PA=AA.hasOwnProperty;function kA(e,t,r,n,i,s){var u=r&TA,f=bu(e),p=f.length,g=bu(t),x=g.length;if(p!=x&&!u)return!1;for(var w=p;w--;){var k=f[w];if(!(u?k in t:PA.call(t,k)))return!1}var F=s.get(e),N=s.get(t);if(F&&N)return F==t&&N==e;var B=!0;s.set(e,t),s.set(t,e);for(var L=u;++w<p;){k=f[w];var Y=e[k],re=t[k];if(n)var de=u?n(re,Y,k,t,e,s):n(Y,re,k,e,t,s);if(!(de===void 0?Y===re||i(Y,re,r,n,s):de)){B=!1;break}L||(L=k=="constructor")}if(B&&!L){var fe=e.constructor,Ce=t.constructor;fe!=Ce&&"constructor"in e&&"constructor"in t&&!(typeof fe=="function"&&fe instanceof fe&&typeof Ce=="function"&&Ce instanceof Ce)&&(B=!1)}return s.delete(e),s.delete(t),B}var po=ur(nt,"DataView"),go=ur(nt,"Promise"),vo=ur(nt,"Set"),bo=ur(nt,"WeakMap"),mu="[object Map]",MA="[object Object]",yu="[object Promise]",xu="[object Set]",wu="[object WeakMap]",_u="[object DataView]",jA=lr(po),RA=lr(On),FA=lr(go),IA=lr(vo),DA=lr(bo),Rt=sr;(po&&Rt(new po(new ArrayBuffer(1)))!=_u||On&&Rt(new On)!=mu||go&&Rt(go.resolve())!=yu||vo&&Rt(new vo)!=xu||bo&&Rt(new bo)!=wu)&&(Rt=function(e){var t=sr(e),r=t==MA?e.constructor:void 0,n=r?lr(r):"";if(n)switch(n){case jA:return _u;case RA:return mu;case FA:return yu;case IA:return xu;case DA:return wu}return t});var NA=1,Su="[object Arguments]",Eu="[object Array]",xa="[object Object]",BA=Object.prototype,Cu=BA.hasOwnProperty;function LA(e,t,r,n,i,s){var u=ze(e),f=ze(t),p=u?Eu:Rt(e),g=f?Eu:Rt(t);p=p==Su?xa:p,g=g==Su?xa:g;var x=p==xa,w=g==xa,k=p==g;if(k&&ka(e)){if(!ka(t))return!1;u=!0,x=!1}if(k&&!x)return s||(s=new ht),u||Uo(e)?Af(e,t,r,n,i,s):xA(e,t,p,r,n,i,s);if(!(r&NA)){var F=x&&Cu.call(e,"__wrapped__"),N=w&&Cu.call(t,"__wrapped__");if(F||N){var B=F?e.value():e,L=N?t.value():t;return s||(s=new ht),i(B,L,r,n,s)}}return k?(s||(s=new ht),kA(e,t,r,n,i,s)):!1}function Xo(e,t,r,n,i){return e===t?!0:e==null||t==null||!Dt(e)&&!Dt(t)?e!==e&&t!==t:LA(e,t,r,n,Xo,i)}var KA=1,HA=2;function GA(e,t,r,n){var i=r.length,s=i;if(e==null)return!s;for(e=Object(e);i--;){var u=r[i];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){u=r[i];var f=u[0],p=e[f],g=u[1];if(u[2]){if(p===void 0&&!(f in e))return!1}else{var x=new ht,w;if(!(w===void 0?Xo(g,p,KA|HA,n,x):w))return!1}}return!0}function Pf(e){return e===e&&!Ye(e)}function zA(e){for(var t=Wo(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Pf(i)]}return t}function kf(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function qA(e){var t=zA(e);return t.length==1&&t[0][2]?kf(t[0][0],t[0][1]):function(r){return r===e||GA(r,e,t)}}var UA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VA=/^\w*$/;function Zo(e,t){if(ze(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Wa(e)?!0:VA.test(e)||!UA.test(e)||t!=null&&e in Object(t)}var WA="Expected a function";function Jo(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(WA);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var u=e.apply(this,n);return r.cache=s.set(i,u)||s,u};return r.cache=new(Jo.Cache||St),r}Jo.Cache=St;var YA=500;function XA(e){var t=Jo(e,function(n){return r.size===YA&&r.clear(),n}),r=t.cache;return t}var ZA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JA=/\\(\\)?/g,QA=XA(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ZA,function(r,n,i,s){t.push(i?s.replace(JA,"$1"):n||r)}),t}),eP=1/0,$u=It?It.prototype:void 0,Ou=$u?$u.toString:void 0;function Mf(e){if(typeof e=="string")return e;if(ze(e))return Tf(e,Mf)+"";if(Wa(e))return Ou?Ou.call(e):"";var t=e+"";return t=="0"&&1/e==-eP?"-0":t}function tP(e){return e==null?"":Mf(e)}function jf(e,t){return ze(e)?e:Zo(e,t)?[e]:QA(tP(e))}var rP=1/0;function Za(e){if(typeof e=="string"||Wa(e))return e;var t=e+"";return t=="0"&&1/e==-rP?"-0":t}function Rf(e,t){t=jf(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Za(t[r++])];return r&&r==n?e:void 0}function nP(e,t,r){var n=e==null?void 0:Rf(e,t);return n===void 0?r:n}function aP(e,t){return e!=null&&t in Object(e)}function iP(e,t,r){t=jf(t,e);for(var n=-1,i=t.length,s=!1;++n<i;){var u=Za(t[n]);if(!(s=e!=null&&r(e,u)))break;e=e[u]}return s||++n!=i?s:(i=e==null?0:e.length,!!i&&qo(i)&&Vo(u,i)&&(ze(e)||Pa(e)))}function oP(e,t){return e!=null&&iP(e,t,aP)}var sP=1,lP=2;function uP(e,t){return Zo(e)&&Pf(t)?kf(Za(e),t):function(r){var n=nP(r,e);return n===void 0&&n===t?oP(r,e):Xo(t,n,sP|lP)}}function cP(e){return function(t){return t?.[e]}}function fP(e){return function(t){return Rf(t,e)}}function hP(e){return Zo(e)?cP(Za(e)):fP(e)}function pP(e){return typeof e=="function"?e:e==null?Va:typeof e=="object"?ze(e)?uP(e[0],e[1]):qA(e):hP(e)}function dP(e,t){var r=-1,n=tn(e)?Array(e.length):[];return Ef(e,function(i,s,u){n[++r]=t(i,s,u)}),n}function fr(e,t){var r=ze(e)?Tf:dP;return r(e,pP(t))}var gP=function(t){var r=t.colors,n=t.onClick,i=t.onSwatchHover,s=te({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return b.createElement("div",{style:s.swatches},fr(r,function(u){return b.createElement(cr,{key:u,color:u,style:s.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+u}})}),b.createElement("div",{style:s.clear}))},Qo=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,s=t.colors,u=t.width,f=t.triangle,p=t.styles,g=p===void 0?{}:p,x=t.className,w=x===void 0?"":x,k=i==="transparent",F=function(L,Y){Nt(L)&&r({hex:L,source:"hex"},Y)},N=te(De({default:{card:{width:u,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:Yo(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},g),{"hide-triangle":f==="hide"});return b.createElement("div",{style:N.card,className:"block-picker "+w},b.createElement("div",{style:N.triangle}),b.createElement("div",{style:N.head},k&&b.createElement(Qr,{borderRadius:"6px 6px 0 0"}),b.createElement("div",{style:N.label},i)),b.createElement("div",{style:N.body},b.createElement(gP,{colors:s,onClick:F,onSwatchHover:n}),b.createElement(ce,{style:{input:N.input},value:i,onChange:F})))};Qo.propTypes={width:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.string),triangle:U.oneOf(["top","hide"]),styles:U.object};Qo.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ne(Qo);var Er={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Cr={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},$r={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Or={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Tr={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Ar={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Pr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},kr={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Mr={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},En={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},jr={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Rr={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Fr={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Ir={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Dr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Nr={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Br={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Lr={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},vP=function(t){var r=t.color,n=t.onClick,i=t.onSwatchHover,s=t.hover,u=t.active,f=t.circleSize,p=f===void 0?28:f,g=t.circleSpacing,x=g===void 0?14:g,w=te({default:{swatch:{width:p,height:p,marginRight:x,marginBottom:x,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(p/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:s,active:u});return b.createElement("div",{style:w.swatch},b.createElement(cr,{style:w.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:w.Swatch.boxShadow+", 0 0 5px "+r}}))};const bP=Lo(vP);var Ff=function(t){var r=t.width,n=r===void 0?252:r,i=t.onChange,s=t.onSwatchHover,u=t.colors,f=u===void 0?[Er[500],Cr[500],$r[500],Or[500],Tr[500],Ar[500],Pr[500],kr[500],Mr[500],En[500],jr[500],Rr[500],Fr[500],Ir[500],Dr[500],Nr[500],Br[500],Lr[500]]:u,p=t.hex,g=t.circleSize,x=g===void 0?28:g,w=t.styles,k=w===void 0?{}:w,F=t.circleSpacing,N=F===void 0?14:F,B=t.className,L=B===void 0?"":B,Y=te(De({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-N,marginBottom:-N}}},k)),re=function(fe,Ce){return i({hex:fe,source:"hex"},Ce)};return b.createElement("div",{style:Y.card,className:"circle-picker "+L},fr(f,function(de){return b.createElement(bP,{key:de,color:de,onClick:re,onSwatchHover:s,active:p===de.toLowerCase(),circleSize:x,circleSpacing:N})}))};Ff.propTypes={width:U.oneOfType([U.string,U.number]),circleSize:U.number,circleSpacing:U.number,styles:U.object};const mP=Ne(Ff);function Tu(e){return e===void 0}var If={};Object.defineProperty(If,"__esModule",{value:!0});var Au=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yP=D,Pu=xP(yP);function xP(e){return e&&e.__esModule?e:{default:e}}function wP(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var wa=24,_P=If.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?wa:n,s=e.height,u=s===void 0?wa:s,f=e.style,p=f===void 0?{}:f,g=wP(e,["fill","width","height","style"]);return Pu.default.createElement("svg",Au({viewBox:"0 0 "+wa+" "+wa,style:Au({fill:r,width:i,height:u},p)},g),Pu.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},SP=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function EP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function $P(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Df=function(e){$P(t,e);function t(r){EP(this,t);var n=CP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,s){i.hex?Nt(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(Tu(i.s)?n.props.hsl.s:i.s),l:Number(Tu(i.l)?n.props.hsl.l:i.l),source:"hsl"},s))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return SP(t,[{key:"render",value:function(){var n=this,i=te({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=b.createElement("div",{style:i.fields,className:"flexbox-fix"},b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=b.createElement("div",{style:i.fields,className:"flexbox-fix"},b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),b.createElement("div",{style:i.alpha},b.createElement(ce,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=b.createElement("div",{style:i.fields,className:"flexbox-fix"},b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),b.createElement("div",{style:i.field},b.createElement(ce,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),b.createElement("div",{style:i.alpha},b.createElement(ce,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),b.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,b.createElement("div",{style:i.toggle},b.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(f){return n.icon=f}},b.createElement(_P,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),t}(b.Component);Df.defaultProps={view:"hex"};var ku=function(){var t=te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.createElement("div",{style:t.picker})},OP=function(){var t=te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return b.createElement("div",{style:t.picker})},es=function(t){var r=t.width,n=t.onChange,i=t.disableAlpha,s=t.rgb,u=t.hsl,f=t.hsv,p=t.hex,g=t.renderers,x=t.styles,w=x===void 0?{}:x,k=t.className,F=k===void 0?"":k,N=t.defaultView,B=te(De({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},w),{disableAlpha:i});return b.createElement("div",{style:B.picker,className:"chrome-picker "+F},b.createElement("div",{style:B.saturation},b.createElement(Ya,{style:B.Saturation,hsl:u,hsv:f,pointer:OP,onChange:n})),b.createElement("div",{style:B.body},b.createElement("div",{style:B.controls,className:"flexbox-fix"},b.createElement("div",{style:B.color},b.createElement("div",{style:B.swatch},b.createElement("div",{style:B.active}),b.createElement(Qr,{renderers:g}))),b.createElement("div",{style:B.toggles},b.createElement("div",{style:B.hue},b.createElement(en,{style:B.Hue,hsl:u,pointer:ku,onChange:n})),b.createElement("div",{style:B.alpha},b.createElement(Ko,{style:B.Alpha,rgb:s,hsl:u,pointer:ku,renderers:g,onChange:n})))),b.createElement(Df,{rgb:s,hsl:u,hex:p,view:N,onChange:n,disableAlpha:i})))};es.propTypes={width:U.oneOfType([U.string,U.number]),disableAlpha:U.bool,styles:U.object,defaultView:U.oneOf(["hex","rgb","hsl"])};es.defaultProps={width:225,disableAlpha:!1,styles:{}};Ne(es);var TP=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,s=t.onSwatchHover,u=t.active,f=te({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:Yo(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:u,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return b.createElement(cr,{style:f.color,color:r,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},b.createElement("div",{style:f.dot}))},AP=function(t){var r=t.hex,n=t.rgb,i=t.onChange,s=te({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),u=function(p,g){p.r||p.g||p.b?i({r:p.r||n.r,g:p.g||n.g,b:p.b||n.b,source:"rgb"},g):i({hex:p.hex,source:"hex"},g)};return b.createElement("div",{style:s.fields,className:"flexbox-fix"},b.createElement("div",{style:s.active}),b.createElement(ce,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),b.createElement(ce,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u}),b.createElement(ce,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u}),b.createElement(ce,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u}))},ts=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.colors,s=t.hex,u=t.rgb,f=t.styles,p=f===void 0?{}:f,g=t.className,x=g===void 0?"":g,w=te(De({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},p)),k=function(N,B){N.hex?Nt(N.hex)&&r({hex:N.hex,source:"hex"},B):r(N,B)};return b.createElement(Bn,{style:w.Compact,styles:p},b.createElement("div",{style:w.compact,className:"compact-picker "+x},b.createElement("div",null,fr(i,function(F){return b.createElement(TP,{key:F,color:F,active:F.toLowerCase()===s,onClick:k,onSwatchHover:n})}),b.createElement("div",{style:w.clear})),b.createElement(AP,{hex:s,rgb:u,onChange:k})))};ts.propTypes={colors:U.arrayOf(U.string),styles:U.object};ts.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ne(ts);var PP=function(t){var r=t.hover,n=t.color,i=t.onClick,s=t.onSwatchHover,u={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},f=te({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:u}},{hover:r});return b.createElement("div",{style:f.swatch},b.createElement(cr,{color:n,onClick:i,onHover:s,focusStyle:u}))};const kP=Lo(PP);var rs=function(t){var r=t.width,n=t.colors,i=t.onChange,s=t.onSwatchHover,u=t.triangle,f=t.styles,p=f===void 0?{}:f,g=t.className,x=g===void 0?"":g,w=te(De({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},p),{"hide-triangle":u==="hide","top-left-triangle":u==="top-left","top-right-triangle":u==="top-right","bottom-left-triangle":u==="bottom-left","bottom-right-triangle":u==="bottom-right"}),k=function(N,B){return i({hex:N,source:"hex"},B)};return b.createElement("div",{style:w.card,className:"github-picker "+x},b.createElement("div",{style:w.triangleShadow}),b.createElement("div",{style:w.triangle}),fr(n,function(F){return b.createElement(kP,{color:F,key:F,onClick:k,onSwatchHover:s})}))};rs.propTypes={width:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.string),triangle:U.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:U.object};rs.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ne(rs);var MP=function(t){var r=t.direction,n=te({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return b.createElement("div",{style:n.picker})},jP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns=function(t){var r=t.width,n=t.height,i=t.onChange,s=t.hsl,u=t.direction,f=t.pointer,p=t.styles,g=p===void 0?{}:p,x=t.className,w=x===void 0?"":x,k=te(De({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},g)),F=function(B){return i({a:1,h:B.h,l:.5,s:1})};return b.createElement("div",{style:k.picker,className:"hue-picker "+w},b.createElement(en,jP({},k.hue,{hsl:s,pointer:f,onChange:F,direction:u})))};ns.propTypes={styles:U.object};ns.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:MP,styles:{}};Ne(ns);var RP=function(t){var r=t.onChange,n=t.hex,i=t.rgb,s=t.styles,u=s===void 0?{}:s,f=t.className,p=f===void 0?"":f,g=te(De({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},u)),x=function(k,F){k.hex?Nt(k.hex)&&r({hex:k.hex,source:"hex"},F):(k.r||k.g||k.b)&&r({r:k.r||i.r,g:k.g||i.g,b:k.b||i.b,source:"rgb"},F)};return b.createElement(Bn,{styles:u},b.createElement("div",{style:g.material,className:"material-picker "+p},b.createElement(ce,{style:{wrap:g.HEXwrap,input:g.HEXinput,label:g.HEXlabel},label:"hex",value:n,onChange:x}),b.createElement("div",{style:g.split,className:"flexbox-fix"},b.createElement("div",{style:g.third},b.createElement(ce,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"r",value:i.r,onChange:x})),b.createElement("div",{style:g.third},b.createElement(ce,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"g",value:i.g,onChange:x})),b.createElement("div",{style:g.third},b.createElement(ce,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"b",value:i.b,onChange:x})))))};Ne(RP);var FP=function(t){var r=t.onChange,n=t.rgb,i=t.hsv,s=t.hex,u=te({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),f=function(g,x){g["#"]?Nt(g["#"])&&r({hex:g["#"],source:"hex"},x):g.r||g.g||g.b?r({r:g.r||n.r,g:g.g||n.g,b:g.b||n.b,source:"rgb"},x):(g.h||g.s||g.v)&&r({h:g.h||i.h,s:g.s||i.s,v:g.v||i.v,source:"hsv"},x)};return b.createElement("div",{style:u.fields},b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"h",value:Math.round(i.h),onChange:f}),b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:f}),b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:f}),b.createElement("div",{style:u.divider}),b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:n.r,onChange:f}),b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:n.g,onChange:f}),b.createElement(ce,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:n.b,onChange:f}),b.createElement("div",{style:u.divider}),b.createElement(ce,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"#",value:s.replace("#",""),onChange:f}),b.createElement("div",{style:u.fieldSymbols},b.createElement("div",{style:u.symbol},"°"),b.createElement("div",{style:u.symbol},"%"),b.createElement("div",{style:u.symbol},"%")))},IP=function(t){var r=t.hsl,n=te({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return b.createElement("div",{style:n.picker})},DP=function(){var t=te({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return b.createElement("div",{style:t.pointer},b.createElement("div",{style:t.left},b.createElement("div",{style:t.leftInside})),b.createElement("div",{style:t.right},b.createElement("div",{style:t.rightInside})))},Mu=function(t){var r=t.onClick,n=t.label,i=t.children,s=t.active,u=te({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return b.createElement("div",{style:u.button,onClick:r},n||i)},NP=function(t){var r=t.rgb,n=t.currentColor,i=te({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return b.createElement("div",null,b.createElement("div",{style:i.label},"new"),b.createElement("div",{style:i.swatches},b.createElement("div",{style:i.new}),b.createElement("div",{style:i.current})),b.createElement("div",{style:i.label},"current"))},BP=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function LP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KP(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function HP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var as=function(e){HP(t,e);function t(r){LP(this,t);var n=KP(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:r.hex},n}return BP(t,[{key:"render",value:function(){var n=this.props,i=n.styles,s=i===void 0?{}:i,u=n.className,f=u===void 0?"":u,p=te(De({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return b.createElement("div",{style:p.picker,className:"photoshop-picker "+f},b.createElement("div",{style:p.head},this.props.header),b.createElement("div",{style:p.body,className:"flexbox-fix"},b.createElement("div",{style:p.saturation},b.createElement(Ya,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:IP,onChange:this.props.onChange})),b.createElement("div",{style:p.hue},b.createElement(en,{direction:"vertical",hsl:this.props.hsl,pointer:DP,onChange:this.props.onChange})),b.createElement("div",{style:p.controls},b.createElement("div",{style:p.top,className:"flexbox-fix"},b.createElement("div",{style:p.previews},b.createElement(NP,{rgb:this.props.rgb,currentColor:this.state.currentColor})),b.createElement("div",{style:p.actions},b.createElement(Mu,{label:"OK",onClick:this.props.onAccept,active:!0}),b.createElement(Mu,{label:"Cancel",onClick:this.props.onCancel}),b.createElement(FP,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(b.Component);as.propTypes={header:U.string,styles:U.object};as.defaultProps={header:"Color Picker",styles:{}};Ne(as);var GP=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,s=t.hex,u=t.disableAlpha,f=te({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),p=function(x,w){x.hex?Nt(x.hex)&&r({hex:x.hex,source:"hex"},w):x.r||x.g||x.b?r({r:x.r||n.r,g:x.g||n.g,b:x.b||n.b,a:n.a,source:"rgb"},w):x.a&&(x.a<0?x.a=0:x.a>100&&(x.a=100),x.a/=100,r({h:i.h,s:i.s,l:i.l,a:x.a,source:"rgb"},w))};return b.createElement("div",{style:f.fields,className:"flexbox-fix"},b.createElement("div",{style:f.double},b.createElement(ce,{style:{input:f.input,label:f.label},label:"hex",value:s.replace("#",""),onChange:p})),b.createElement("div",{style:f.single},b.createElement(ce,{style:{input:f.input,label:f.label},label:"r",value:n.r,onChange:p,dragLabel:"true",dragMax:"255"})),b.createElement("div",{style:f.single},b.createElement(ce,{style:{input:f.input,label:f.label},label:"g",value:n.g,onChange:p,dragLabel:"true",dragMax:"255"})),b.createElement("div",{style:f.single},b.createElement(ce,{style:{input:f.input,label:f.label},label:"b",value:n.b,onChange:p,dragLabel:"true",dragMax:"255"})),b.createElement("div",{style:f.alpha},b.createElement(ce,{style:{input:f.input,label:f.label},label:"a",value:Math.round(n.a*100),onChange:p,dragLabel:"true",dragMax:"100"})))},zP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf=function(t){var r=t.colors,n=t.onClick,i=n===void 0?function(){}:n,s=t.onSwatchHover,u=te({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),f=function(g,x){i({hex:g,source:"hex"},x)};return b.createElement("div",{style:u.colors,className:"flexbox-fix"},r.map(function(p){var g=typeof p=="string"?{color:p}:p,x=""+g.color+(g.title||"");return b.createElement("div",{key:x,style:u.swatchWrap},b.createElement(cr,zP({},g,{style:u.swatch,onClick:f,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+g.color}})))}))};Nf.propTypes={colors:U.arrayOf(U.oneOfType([U.string,U.shape({color:U.string,title:U.string})])).isRequired};var qP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is=function(t){var r=t.width,n=t.rgb,i=t.hex,s=t.hsv,u=t.hsl,f=t.onChange,p=t.onSwatchHover,g=t.disableAlpha,x=t.presetColors,w=t.renderers,k=t.styles,F=k===void 0?{}:k,N=t.className,B=N===void 0?"":N,L=te(De({default:qP({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},F),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},F),{disableAlpha:g});return b.createElement("div",{style:L.picker,className:"sketch-picker "+B},b.createElement("div",{style:L.saturation},b.createElement(Ya,{style:L.Saturation,hsl:u,hsv:s,onChange:f})),b.createElement("div",{style:L.controls,className:"flexbox-fix"},b.createElement("div",{style:L.sliders},b.createElement("div",{style:L.hue},b.createElement(en,{style:L.Hue,hsl:u,onChange:f})),b.createElement("div",{style:L.alpha},b.createElement(Ko,{style:L.Alpha,rgb:n,hsl:u,renderers:w,onChange:f}))),b.createElement("div",{style:L.color},b.createElement(Qr,null),b.createElement("div",{style:L.activeColor}))),b.createElement(GP,{rgb:n,hsl:u,hex:i,onChange:f,disableAlpha:g}),b.createElement(Nf,{colors:x,onClick:f,onSwatchHover:p}))};is.propTypes={disableAlpha:U.bool,width:U.oneOfType([U.string,U.number]),styles:U.object};is.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Ne(is);var xn=function(t){var r=t.hsl,n=t.offset,i=t.onClick,s=i===void 0?function(){}:i,u=t.active,f=t.first,p=t.last,g=te({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:u,first:f,last:p}),x=function(k){return s({h:r.h,s:.5,l:n,source:"hsl"},k)};return b.createElement("div",{style:g.swatch,onClick:x})},UP=function(t){var r=t.onClick,n=t.hsl,i=te({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return b.createElement("div",{style:i.swatches},b.createElement("div",{style:i.swatch},b.createElement(xn,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<s&&Math.abs(n.s-.5)<s,onClick:r,first:!0})),b.createElement("div",{style:i.swatch},b.createElement(xn,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<s&&Math.abs(n.s-.5)<s,onClick:r})),b.createElement("div",{style:i.swatch},b.createElement(xn,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<s&&Math.abs(n.s-.5)<s,onClick:r})),b.createElement("div",{style:i.swatch},b.createElement(xn,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<s&&Math.abs(n.s-.5)<s,onClick:r})),b.createElement("div",{style:i.swatch},b.createElement(xn,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<s&&Math.abs(n.s-.5)<s,onClick:r,last:!0})),b.createElement("div",{style:i.clear}))},VP=function(){var t=te({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.createElement("div",{style:t.picker})},os=function(t){var r=t.hsl,n=t.onChange,i=t.pointer,s=t.styles,u=s===void 0?{}:s,f=t.className,p=f===void 0?"":f,g=te(De({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},u));return b.createElement("div",{style:g.wrap||{},className:"slider-picker "+p},b.createElement("div",{style:g.hue},b.createElement(en,{style:g.Hue,hsl:r,pointer:i,onChange:n})),b.createElement("div",{style:g.swatches},b.createElement(UP,{hsl:r,onClick:n})))};os.propTypes={styles:U.object};os.defaultProps={pointer:VP,styles:{}};Ne(os);var Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});var ju=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WP=D,Ru=YP(WP);function YP(e){return e&&e.__esModule?e:{default:e}}function XP(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var _a=24,ZP=Bf.default=function(e){var t=e.fill,r=t===void 0?"currentColor":t,n=e.width,i=n===void 0?_a:n,s=e.height,u=s===void 0?_a:s,f=e.style,p=f===void 0?{}:f,g=XP(e,["fill","width","height","style"]);return Ru.default.createElement("svg",ju({viewBox:"0 0 "+_a+" "+_a,style:ju({fill:r,width:i,height:u},p)},g),Ru.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},JP=function(t){var r=t.color,n=t.onClick,i=n===void 0?function(){}:n,s=t.onSwatchHover,u=t.first,f=t.last,p=t.active,g=te({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:Yo(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:u,last:f,active:p,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return b.createElement(cr,{color:r,style:g.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+r}},b.createElement("div",{style:g.check},b.createElement(ZP,null)))},QP=function(t){var r=t.onClick,n=t.onSwatchHover,i=t.group,s=t.active,u=te({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return b.createElement("div",{style:u.group},fr(i,function(f,p){return b.createElement(JP,{key:f,color:f,active:f.toLowerCase()===s,first:p===0,last:p===i.length-1,onClick:r,onSwatchHover:n})}))},ss=function(t){var r=t.width,n=t.height,i=t.onChange,s=t.onSwatchHover,u=t.colors,f=t.hex,p=t.styles,g=p===void 0?{}:p,x=t.className,w=x===void 0?"":x,k=te(De({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},g)),F=function(B,L){return i({hex:B,source:"hex"},L)};return b.createElement("div",{style:k.picker,className:"swatches-picker "+w},b.createElement(Bn,null,b.createElement("div",{style:k.overflow},b.createElement("div",{style:k.body},fr(u,function(N){return b.createElement(QP,{key:N.toString(),group:N,active:f,onClick:F,onSwatchHover:s})}),b.createElement("div",{style:k.clear})))))};ss.propTypes={width:U.oneOfType([U.string,U.number]),height:U.oneOfType([U.string,U.number]),colors:U.arrayOf(U.arrayOf(U.string)),styles:U.object};ss.defaultProps={width:320,height:240,colors:[[Er[900],Er[700],Er[500],Er[300],Er[100]],[Cr[900],Cr[700],Cr[500],Cr[300],Cr[100]],[$r[900],$r[700],$r[500],$r[300],$r[100]],[Or[900],Or[700],Or[500],Or[300],Or[100]],[Tr[900],Tr[700],Tr[500],Tr[300],Tr[100]],[Ar[900],Ar[700],Ar[500],Ar[300],Ar[100]],[Pr[900],Pr[700],Pr[500],Pr[300],Pr[100]],[kr[900],kr[700],kr[500],kr[300],kr[100]],[Mr[900],Mr[700],Mr[500],Mr[300],Mr[100]],["#194D33",En[700],En[500],En[300],En[100]],[jr[900],jr[700],jr[500],jr[300],jr[100]],[Rr[900],Rr[700],Rr[500],Rr[300],Rr[100]],[Fr[900],Fr[700],Fr[500],Fr[300],Fr[100]],[Ir[900],Ir[700],Ir[500],Ir[300],Ir[100]],[Dr[900],Dr[700],Dr[500],Dr[300],Dr[100]],[Nr[900],Nr[700],Nr[500],Nr[300],Nr[100]],[Br[900],Br[700],Br[500],Br[300],Br[100]],[Lr[900],Lr[700],Lr[500],Lr[300],Lr[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ne(ss);var ls=function(t){var r=t.onChange,n=t.onSwatchHover,i=t.hex,s=t.colors,u=t.width,f=t.triangle,p=t.styles,g=p===void 0?{}:p,x=t.className,w=x===void 0?"":x,k=te(De({default:{card:{width:u,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},g),{"hide-triangle":f==="hide","top-left-triangle":f==="top-left","top-right-triangle":f==="top-right"}),F=function(B,L){Nt(B)&&r({hex:B,source:"hex"},L)};return b.createElement("div",{style:k.card,className:"twitter-picker "+w},b.createElement("div",{style:k.triangleShadow}),b.createElement("div",{style:k.triangle}),b.createElement("div",{style:k.body},fr(s,function(N,B){return b.createElement(cr,{key:B,color:N,hex:N,style:k.swatch,onClick:F,onHover:n,focusStyle:{boxShadow:"0 0 4px "+N}})}),b.createElement("div",{style:k.hash},"#"),b.createElement(ce,{label:null,style:{input:k.input},value:i.replace("#",""),onChange:F}),b.createElement("div",{style:k.clear})))};ls.propTypes={width:U.oneOfType([U.string,U.number]),triangle:U.oneOf(["hide","top-left","top-right"]),colors:U.arrayOf(U.string),styles:U.object};ls.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ne(ls);var us=function(t){var r=te({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(t.hsl.h)+", "+Math.round(t.hsl.s*100)+"%, "+Math.round(t.hsl.l*100)+"%)"}}});return b.createElement("div",{style:r.picker})};us.propTypes={hsl:U.shape({h:U.number,s:U.number,l:U.number,a:U.number})};us.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var cs=function(t){var r=te({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(t.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return b.createElement("div",{style:r.picker})};cs.propTypes={hsl:U.shape({h:U.number,s:U.number,l:U.number,a:U.number})};cs.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var e5=function(t){var r=t.onChange,n=t.rgb,i=t.hsl,s=t.hex,u=t.hsv,f=function(F,N){if(F.hex)Nt(F.hex)&&r({hex:F.hex,source:"hex"},N);else if(F.rgb){var B=F.rgb.split(",");Ji(F.rgb,"rgb")&&r({r:B[0],g:B[1],b:B[2],a:1,source:"rgb"},N)}else if(F.hsv){var L=F.hsv.split(",");Ji(F.hsv,"hsv")&&(L[2]=L[2].replace("%",""),L[1]=L[1].replace("%",""),L[0]=L[0].replace("°",""),L[1]==1?L[1]=.01:L[2]==1&&(L[2]=.01),r({h:Number(L[0]),s:Number(L[1]),v:Number(L[2]),source:"hsv"},N))}else if(F.hsl){var Y=F.hsl.split(",");Ji(F.hsl,"hsl")&&(Y[2]=Y[2].replace("%",""),Y[1]=Y[1].replace("%",""),Y[0]=Y[0].replace("°",""),w[1]==1?w[1]=.01:w[2]==1&&(w[2]=.01),r({h:Number(Y[0]),s:Number(Y[1]),v:Number(Y[2]),source:"hsl"},N))}},p=te({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),g=n.r+", "+n.g+", "+n.b,x=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",w=Math.round(u.h)+"°, "+Math.round(u.s*100)+"%, "+Math.round(u.v*100)+"%";return b.createElement("div",{style:p.wrap,className:"flexbox-fix"},b.createElement("div",{style:p.fields},b.createElement("div",{style:p.double},b.createElement(ce,{style:{input:p.input,label:p.label},label:"hex",value:s,onChange:f})),b.createElement("div",{style:p.column},b.createElement("div",{style:p.single},b.createElement(ce,{style:{input:p.input2,label:p.label2},label:"rgb",value:g,onChange:f})),b.createElement("div",{style:p.single},b.createElement(ce,{style:{input:p.input2,label:p.label2},label:"hsv",value:w,onChange:f})),b.createElement("div",{style:p.single},b.createElement(ce,{style:{input:p.input2,label:p.label2},label:"hsl",value:x,onChange:f})))))},fs=function(t){var r=t.width,n=t.onChange,i=t.rgb,s=t.hsl,u=t.hsv,f=t.hex,p=t.header,g=t.styles,x=g===void 0?{}:g,w=t.className,k=w===void 0?"":w,F=te(De({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},x));return b.createElement("div",{style:F.picker,className:"google-picker "+k},b.createElement("div",{style:F.head},p),b.createElement("div",{style:F.swatch}),b.createElement("div",{style:F.saturation},b.createElement(Ya,{hsl:s,hsv:u,pointer:us,onChange:n})),b.createElement("div",{style:F.body},b.createElement("div",{style:F.controls,className:"flexbox-fix"},b.createElement("div",{style:F.hue},b.createElement(en,{style:F.Hue,hsl:s,radius:"4px",pointer:cs,onChange:n}))),b.createElement(e5,{rgb:i,hsl:s,hex:f,hsv:u,onChange:n})))};fs.propTypes={width:U.oneOfType([U.string,U.number]),styles:U.object,header:U.string};fs.defaultProps={width:652,styles:{},header:"Color picker"};Ne(fs);function t5({hexColor:e,colors:t,onChange:r}){const{isOpen:n,onOpen:i,onClose:s}=Vu(),u=D.useCallback(f=>{r(f.hex),s()},[r,s]);return R.jsxs(Qh,{placement:"right-start",isOpen:n,onOpen:i,onClose:s,children:[R.jsx(ep,{children:R.jsx(nr,{variant:"outline",padding:"5px",children:R.jsx(zr,{backgroundColor:e,height:"100%",width:"100%",margin:"5px"})})}),R.jsx(tp,{width:200,children:R.jsx(zr,{margin:"5px",padding:"5px",children:R.jsx(mP,{width:"full",color:e,colors:t,circleSize:32,circleSpacing:16,onChangeComplete:u})})})]})}function r5({fieldInput:e}){const{setProperty:t}=Pn(),{fieldName:r}=e,n=Id(r),i=D.useCallback(f=>{f.target.value!==""?e.inputType==="select"&&e.valueType==="number"?t(r,parseFloat(f.target.value)):t(r,f.target.value):t(r,void 0)},[e,r,t]),s=D.useCallback(f=>{t(r,f)},[r,t]),u=D.useCallback(f=>{t(r,f.target.checked)},[r,t]);switch(e.inputType){case"textField":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(Xs,{type:"text",placeholder:e.placeholder??e.label,value:n?.toString()??"",onChange:i})]});case"textArea":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(mc,{placeholder:e.placeholder??e.label,value:n?.toString(),onChange:i})]});case"number":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(Ld,{value:n,onNumberChange:s,placeholder:e.placeholder??Fu,min:e.min,max:e.max,precision:e.precision,step:e.step,showSteppers:e.showSteppers})]});case"checkBox":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(Pp,{isChecked:!!n,onChange:u,children:e.checkBoxLabel??e.label})]});case"select":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(sp,{placeholder:Fu,value:n,onChange:i,children:e.options?.map(f=>R.jsx("option",{value:f.value,children:f.label},f.value))})]});case"date":return R.jsxs(Qt,{isRequired:e.required,children:[R.jsx(er,{children:e.label}),R.jsx(Xs,{type:"date",placeholder:e.placeholder??e.label,value:n?.toString(),onChange:i})]});case"color":return R.jsxs(Qt,{children:[R.jsx(er,{children:e.label}),R.jsx(t5,{hexColor:n?.toString(),onChange:s})]})}}const Fu="—";function n5({fieldInputsProvider:e}){const t=a5(e);return i5(t),R.jsx(Wu,{spacing:4,align:"stretch",children:t.map((r,n)=>R.jsx(r5,{fieldInput:r},n))})}function a5(e){const{feature:t,mode:r,template:n,layer:i}=Pn();return D.useMemo(()=>r==="create"?e?.getFieldInputsForNewFeature?.(t,n)??n.fieldInputs??[]:e?.getFieldInputsForExistingFeature?.(t,i)??[],[t,r,n,i,e])}function i5(e){const{properties:t,setValid:r}=Pn();D.useEffect(()=>{const n=e.every(({required:i,fieldName:s})=>!i||t[s]!=null);r(n)},[e,t,r])}function o5(e){const[t,r]=D.useState({id:"none"});return D.useEffect(()=>{e?.(t)},[t,e]),[t,r]}function s5(e,t,r){const n=Lf(e,t);return D.useCallback(i=>{i==null?r({id:"none"}):r(i==="select"?{id:"update-select",olLayers:n}:{id:"create-draw",template:i})},[n,r])}function l5(e,t){const r=Lf(e,t??[]);return D.useMemo(()=>{const n=r.filter(i=>i instanceof yo);return Kf(n,i=>i.getSource())},[r])}function Lf(e,t){return D.useMemo(()=>Kf(t,r=>{const n=e?.layers.getLayerById(r);return n?.type==="simple"&&n.olLayer instanceof Ju?n.olLayer:null}),[t,e])}function Kf(e,t){return e.flatMap(r=>{const n=t(r);return n!=null?[n]:[]})}function u5(e,t,r,n){const i=D.useMemo(()=>e?.getView().getProjection(),[e]),s=c5();return D.useMemo(()=>({async onSave(){if(t.id==="create-modify"){const{feature:u,template:f}=t;try{await r.addFeature(u,f,i),s("create",!0),n({id:"none"})}catch(p){s("create",!1,p),console.error("Error creating feature",u,p)}}else if(t.id==="update-modify"){const{feature:u,olLayer:f}=t;try{await r.updateFeature(u,f,i),s("update",!0),n({id:"none"})}catch(p){s("update",!1,p),console.error("Error updating feature",u,p)}finally{f?.getSource()?.refresh()}}},async onDelete(){if(t.id==="update-modify"){const{feature:u,olLayer:f}=t;try{await r.deleteFeature(u,f,i),s("delete",!0),n({id:"none"})}catch(p){s("delete",!1,p),console.error("Error deleting feature",u,p)}finally{f?.getSource()?.refresh()}}},onCancel(){n({id:"none"})}}),[t,r,i,s,n])}function c5(){const e=xd("notifier.NotificationService"),{formatMessage:t}=qr();return D.useCallback((r,n,i)=>{n?e.success({title:t({id:Iu(r,!0)}),displayDuration:f5}):e.error({title:t({id:Iu(r,!1)}),message:i?.toString()})},[t,e])}function Iu(e,t){switch(e){case"create":return t?"notifier.creationSuccess":"notifier.creationFailure";case"update":return t?"notifier.updateSuccess":"notifier.updateFailure";case"delete":return t?"notifier.deletionSuccess":"notifier.deletionFailure"}}const f5=1500;function Hf({map:e,snappingSources:t,snapOptions:r}){const n=t.map(i=>new nd({source:i,...r}));for(const i of n)e.addInteraction(i);return()=>{for(const i of n)e.removeInteraction(i)}}function h5(e){const t=g5(),r=n=>{const i=e.find(s=>d5(n,s,t));i!=null&&(n.preventDefault(),i.action())};return document.addEventListener("keydown",r),r}function p5(e){document.removeEventListener("keydown",e)}function d5(e,t,r){const n=e.key.toLowerCase()===t.key.toLowerCase()&&e.altKey===(t.altKey??!1)&&e.shiftKey===(t.shiftKey??!1);return r?n&&e.metaKey===(t.ctrlKey??!1)&&e.ctrlKey===(t.metaKey??!1):n&&e.ctrlKey===(t.ctrlKey??!1)&&e.metaKey===(t.metaKey??!1)}function g5(){const e=v5();return e!=null?/(Mac|iPhone|iPod|iPad)/i.test(e):!1}function v5(){const e=navigator.userAgentData?.platform;return e??navigator.platform}function b5(e){const t=m5(e),r=y5(e),n=Hf(e);return()=>{t(),r(),n()}}function m5({map:e,geometryType:t,drawOptions:r,tracker:n,actionHandler:i,completionHandler:s}){const u=new Yu,f=new yo({source:u}),p=new ip({source:u,type:t,...r}),g=[p.on("drawstart",({feature:w})=>n.trackCapabilities(w)),p.on("drawabort",()=>n.untrackCapabilities()),p.once("drawend",({feature:w})=>s(w,f))];i.onFinishDrawing=()=>p.finishDrawing(),i.onAbortDrawing=()=>p.abortDrawing(),i.onUndo=()=>p.removeLastPoint(),i.onRedo=w=>p.appendCoordinates([w]),e.addLayer(f),e.addInteraction(p);const x=Du(e,!1);return()=>{xo(g),n.untrackCapabilities(),i.onFinishDrawing=void 0,i.onAbortDrawing=void 0,i.onUndo=void 0,i.onRedo=void 0,e.removeInteraction(p),e.removeLayer(f),Du(e,x??!0)}}function y5({actions:e}){const t=h5([{key:"Enter",action:e.finishDrawing},{key:"Escape",action:e.abortDrawing},{key:"Z",ctrlKey:!0,action:e.undo},{key:"Z",ctrlKey:!0,shiftKey:!0,action:e.redo},{key:"Y",ctrlKey:!0,action:e.redo}]);return()=>{p5(t)}}function Du(e,t){const r=e.getInteractions().getArray().find(i=>i instanceof Yh),n=r?.getActive();return r?.setActive(t),n}function x5({map:e,layers:t,selectOptions:r,completionHandler:n}){const i=new lp({layers:t,hitTolerance:_5,...r}),s=i.once("select",({selected:u})=>{const f=u[0];if(f!=null){const p=w5(i,f);n(f,p)}});return e.addInteraction(i),()=>{xo(s),e.removeInteraction(i)}}function w5(e,t){const{featureLayerAssociation_:r}=e,{ol_uid:n}=t;return n!=null?r?.[n]:void 0}const _5=22;function Nu(e){const t=S5(e),r=E5(e),n=Hf({map:e.mapModel.olMap,...e});return()=>{t(),r(),n()}}function S5({mapModel:e,feature:t,drawLayer:r,modifyOptions:n}){const i=new Xh([t]),s=new up({features:i,...n}),u=e.olMap;r!=null&&u.addLayer(r),u.addInteraction(s);const f=t.getGeometry()?.clone();return()=>{r!=null&&u.removeLayer(r),u.removeInteraction(s),t.setGeometry(f)}}function E5({mapModel:e,feature:t,highlightFeature:r,highlightOptions:n}){let i;const s=t.getGeometry();if(r&&s!=null){const u=C5(n);i=e.highlight([s],u)}return()=>{i?.destroy()}}function C5(e){return{...e,highlightStyle:{Point:$5,...e?.highlightStyle}}}const $5=new _r({image:new Xu({stroke:new Sr({color:"cyan",width:4}),fill:new wn({color:"rgba(224,255,255,0.35)"}),radius:12})});class O5{addEdit(t){this.undoStack.push(t),this.redoStack=[]}undo(){const t=this.undoStack.pop();return t!=null&&this.redoStack.push(t),t}redo(){const t=this.redoStack.pop();return t!=null&&this.undoStack.push(t),t}reset(){this.undoStack=[],this.redoStack=[]}get canUndo(){return this.undoStack.length>=1}get canRedo(){return this.redoStack.length>=1}undoStack=[];redoStack=[]}function T5(e,t){return Ja(e)?t>=3:Qa(e)?t>=4:null}function A5(e,t){return Ja(e)||Qa(e)?t>=1:null}function P5(e){return Ja(e)?e.getCoordinates().length:Qa(e)?e.getFlatCoordinates().length/2-1:null}function k5(e){if(Ja(e)){const t=e.getLastCoordinate();return t.length>=2?t:null}else if(Qa(e)){const t=e.getLinearRing(0)?.getCoordinates();return t?.[t.length-2]??null}else return null}function Ja(e){return e.getType()==="LineString"}function Qa(e){return e.getType()==="Polygon"}function M5(){const e=D.useMemo(()=>new O5,[]),t=D.useRef(!1),r=D.useRef(),n=D.useRef(),[i,s]=D.useState(Bu),u=D.useMemo(()=>({}),[]),f=D.useMemo(()=>({trackCapabilities(g){this.untrackCapabilities();const x=g.getGeometry();x!=null&&(this.handleGeometryChange(x),n.current=x.on("change",({target:w})=>{this.handleGeometryChange(w)}))},untrackCapabilities(){n.current!=null&&(xo(n.current),n.current=void 0),r.current=void 0,e.reset(),s(Bu)},handleGeometryChange(g){const x=P5(g);x!=null&&x!==r.current&&(this.recordChange(g,x),r.current=x,s({canUndo:e.canUndo,canRedo:e.canRedo,canFinishDrawing:T5(g,x)??!1,canAbortDrawing:A5(g,x)??!1}))},recordChange(g,x){if(t.current)t.current=!1;else if(r.current==null||r.current<x){const w=k5(g);w!=null&&e.addEdit(w)}}}),[e]),p=D.useMemo(()=>({undo(){u.onUndo!=null&&(e.undo(),t.current=!0,u.onUndo())},redo(){if(u.onRedo!=null){const g=e.redo();g!=null&&(t.current=!0,u.onRedo(g))}},finishDrawing(){u.onFinishDrawing?.()},abortDrawing(){u.onAbortDrawing?.()}}),[u,e]);return D.useMemo(()=>({actions:p,capabilities:i,tracker:f,actionHandler:u}),[p,i,f,u])}const Bu={canUndo:!1,canRedo:!1,canFinishDrawing:!1,canAbortDrawing:!1};function j5({mapModel:e,editingStep:t,setEditingStep:r,snappingSources:n=[],...i}){const{actions:s,capabilities:u,tracker:f,actionHandler:p}=M5(),{selectOptions:g,modifyOptions:x,snapOptions:w,highlightNewFeatures:k=!0,highlightExistingFeatures:F=!0,highlightOptions:N}=i;return D.useEffect(()=>{if(e!=null)switch(t.id){case"none":return;case"create-draw":return b5({map:e.olMap,geometryType:t.template.geometryType,drawOptions:t.template.drawOptions,actions:s,tracker:f,actionHandler:p,snappingSources:n,snapOptions:w,completionHandler(B,L){const Y=t.template;B.setProperties(Y.prototype??{}),r({id:"create-modify",feature:B,template:Y,drawOlLayer:L})}});case"update-select":return x5({map:e.olMap,layers:t.olLayers,selectOptions:g,completionHandler(B,L){r({id:"update-modify",feature:B,olLayer:L})}});case"create-modify":return Nu({mapModel:e,feature:t.feature,drawLayer:t.drawOlLayer,snappingSources:n,snapOptions:w,modifyOptions:x,highlightFeature:k,highlightOptions:N});case"update-modify":return Nu({mapModel:e,feature:t.feature,snappingSources:n,snapOptions:w,modifyOptions:x,highlightFeature:F,highlightOptions:N})}else return},[p,s,t,F,k,N,e,x,g,r,w,n,f]),D.useMemo(()=>({actions:s,capabilities:u}),[s,u])}function R5({templates:e,editableLayerIds:t,editingHandler:r,showActionBar:n=!0,fieldInputsProvider:i,snappableLayerIds:s=t,onEditingStepChange:u,children:f,map:p,mapId:g,...x}){const[w,k]=o5(u),{map:F}=Qu({map:p,mapId:g}),N=s5(F,t,k),B=l5(F,s),{actions:L,capabilities:Y}=j5({mapModel:F,editingStep:w,setEditingStep:k,snappingSources:B,...x}),{onSave:re,onDelete:de,onCancel:fe}=u5(F?.olMap,w,r,k);switch(w.id){case"none":case"create-draw":case"update-select":return R.jsx(kd,{templates:e,showActionBar:n,onActionChange:N,canFinish:Y.canFinishDrawing,canAbort:Y.canAbortDrawing,canUndo:Y.canUndo,canRedo:Y.canRedo,onFinish:L.finishDrawing,onAbort:L.abortDrawing,onUndo:L.undo,onRedo:L.redo});case"create-modify":case"update-modify":return R.jsx(Nd,{editingStep:w,children:R.jsx(Dd,{onSave:re,onDelete:de,onCancel:fe,children:f??R.jsx(n5,{fieldInputsProvider:i})})})}}const Lu=[{id:"waldschaeden",name:"Waldschaden",geometryType:"Point",prototype:{saniert:!1},fieldInputs:[{label:"Baumart",fieldName:"baumart",inputType:"textField",required:!0},{label:"Schadursache",fieldName:"schadursache",inputType:"select",required:!0,valueType:"number",options:[{label:"abiotische Ursache",value:1},{label:"Bakterienerkrankung",value:2},{label:"Insektenbefall",value:3},{label:"Pilzbefall",value:4},{label:"Wildverbiss",value:5}]},{label:"Schadmenge",fieldName:"schadmenge",inputType:"number",required:!0,min:1,precision:0,step:1,showSteppers:!0},{label:"Schadumfang [%]",fieldName:"schadumfang",inputType:"number",min:0,max:100,precision:1,showSteppers:!1},{label:"Sanierungszustand",fieldName:"saniert",inputType:"checkBox",checkBoxLabel:"Saniert"}]},{id:"waldwege",name:"Waldweg",geometryType:"LineString",fieldInputs:[{label:"Wegtyp",fieldName:"wegtyp",inputType:"select",required:!0,valueType:"number",options:[{label:"Abfuhrweg",value:1},{label:"Forstbetriebsweg",value:2},{label:"Maschinenweg",value:3},{label:"Rückegasse",value:4},{label:"Seiltrasse",value:5}]},{label:"Befahrbarkeit",fieldName:"befahrbarkeit",inputType:"select",valueType:"string",options:[{label:"gut",value:"gut"},{label:"mittel",value:"mittel"},{label:"schlecht",value:"schlecht"}]},{label:"Wegbreite [m]",fieldName:"wegbreite",inputType:"number",min:0,precision:2,step:1,showSteppers:!0}]},{id:"schutzgebiete",name:"Schutzgebiet",geometryType:"Polygon",prototype:{farbe:"#2196f3"},fieldInputs:[{label:"Schutzgebietsart",fieldName:"schutzgebietsart",inputType:"select",required:!0,valueType:"number",options:[{label:"Bannwald",value:1},{label:"Biosphärenreservat",value:2},{label:"Biotop",value:3},{label:"Erholungswald",value:4},{label:"FFH-Gebiet",value:5},{label:"Landschaftsschutzgebiet",value:6},{label:"Naturdenkmal",value:7},{label:"Nationalpark",value:8},{label:"Naturschutzgebiet",value:9},{label:"Vogelschutzgebiet",value:10},{label:"Wasserschutzgebiet",value:11},{label:"Wildnisentwicklungsgebiet",value:12}]},{label:"Farbe",fieldName:"farbe",inputType:"color",required:!0}]},{id:"bodenproben",name:"Bodenprobe",geometryType:"Circle",fieldInputs:[{label:"Art der Bodenprobe",fieldName:"art",inputType:"select",required:!0,valueType:"number",options:[{label:"pH-Wert",value:1},{label:"Nährstoffgehalt",value:2},{label:"Bodenfeuchte",value:3},{label:"Bodentemperatur",value:4},{label:"Organische Substanz",value:5}]},{label:"Probenahmedatum",fieldName:"datum",inputType:"date",required:!0},{label:"Bemerkung",fieldName:"bemerkung",inputType:"textArea"}]},{id:"aufforstungsflaechen",name:"Aufforstungsfläche",geometryType:"Circle",icon:xp({size:20}),prototype:{aufforstungsjahr:new Date().getFullYear()},drawOptions:{geometryFunction:op(4)},fieldInputs:[{label:"Waldtyp",fieldName:"waldtyp",inputType:"select",required:!0,valueType:"string",options:[{label:"Laubwald",value:"laubwald"},{label:"Nadelwald",value:"nadelwald"},{label:"Mischwald",value:"mischwald"}]},{label:"Pflanzendichte [#/ha]",fieldName:"pflanzendichte",inputType:"number",min:0,precision:0},{label:"Aufforstungsjahr",fieldName:"aufforstungsjahr",inputType:"number",min:1900,max:2100,precision:0}]}];function F5({isActive:e}){const t=I5(),r=D5(Lu),[n,i]=N5();if(e)return R.jsx(zr,{width:330,height:570,padding:4,backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",boxShadow:"lg",children:R.jsxs(Gr,{direction:"column",height:"full",children:[R.jsx(eo,{size:"md",mb:4,children:n}),R.jsx(zr,{flex:1,overflowY:"auto",children:R.jsx(R5,{templates:Lu,editableLayerIds:L5,fieldInputsProvider:r,editingHandler:t,onEditingStepChange:i})})]})})}function I5(){const e=B5(),t=D.useCallback(()=>new Promise(r=>setTimeout(r,300)),[]);return D.useMemo(()=>({async addFeature(r,n,i){const s=Hi(n.id);if(s!=null)await t(),await s.addFeature(r,i),e(n.id);else throw new Error(`No such store with ID ${n.id}`)},async updateFeature(r,n,i){const s=n?.get("id"),u=Hi(s);if(u!=null)await t(),await u.updateFeature(r,i);else throw new Error(`No such store with ID ${s}`)},async deleteFeature(r,n){const i=n?.get("id"),s=Hi(i);if(s!=null)await t(),await s.deleteFeature(r);else throw new Error(`No such store with ID ${i}`)}}),[t,e])}function D5(e){return D.useMemo(()=>({getFieldInputsForExistingFeature(t,r){const n=r?.get("id");if(n!=null)return e.find(({id:i})=>i===n)?.fieldInputs}}),[e])}function N5(){const[e,t]=D.useState(),{formatMessage:r}=yd(),n=D.useMemo(()=>r({id:"editingTitle"}),[r]),i=D.useCallback(s=>{if(s.id==="create-modify")t(s.template.name);else if(s.id==="update-modify"){const u=s.olLayer?.get("title");t(u)}else t(void 0)},[]);return[e??n,i]}function B5(){const{map:e}=Qu();return D.useCallback(t=>{const r=e?.layers.getLayerById(t);r?.type==="simple"&&r.olLayer instanceof Ju&&r?.olLayer.getSource().refresh()},[e?.layers])}const L5=["waldschaeden","waldwege","schutzgebiete","bodenproben","aufforstungsflaechen"];function K5(){const[e,t]=D.useState(!0),r=D.useCallback(()=>{t(n=>!n)},[]);return R.jsxs(Gr,{direction:"column",height:"full",overflow:"hidden",children:[R.jsxs(Zh,{mapId:wc,children:[R.jsx(Gr,{direction:"column",flex:1,children:R.jsxs(Jh,{children:[R.jsx(Ws,{position:"top-right",horizontalGap:10,verticalGap:10,children:R.jsx(F5,{isActive:e})}),R.jsx(Ws,{position:"bottom-right",horizontalGap:10,verticalGap:30,children:R.jsx(rp,{label:"Editing",icon:R.jsx(wp,{}),isActive:e,onClick:r})})]})}),R.jsxs(Gr,{direction:"row",gap:3,alignItems:"center",justifyContent:"center",children:[R.jsx(cp,{precision:0}),R.jsx(fp,{}),R.jsx(hp,{})]})]}),R.jsx(pp,{position:"bottom-right"})]})}const H5=new URLSearchParams(window.location.search),G5=H5.get("lang")||void 0,z5=$h({component:K5,appMetadata:bd,config:{locale:G5}});customElements.define("editing-app",z5);
