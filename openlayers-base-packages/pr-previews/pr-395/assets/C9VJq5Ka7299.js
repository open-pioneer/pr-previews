import{ac as J,ad as fe,ae as me,af as be,r as u,J as se,ab as j,aa as pe,a9 as he,k as Q,P as U,t as oe,M as Ee,N as xe,Q as q,u as Ce,o as Ie,R as ye,j as V,w as Me,l as Y,g as ge}from"./B60Dx_GOYdnk.js";function De(e){return re(e)?.defaultView??window}function re(e){return J(e)?e.ownerDocument:document}function ve(e){return re(e).activeElement}const ue=e=>e.hasAttribute("tabindex"),Oe=e=>ue(e)&&e.tabIndex===-1;function ce(e){if(!J(e)||fe(e)||me(e))return!1;const{localName:t}=e;if(["input","select","textarea","button"].indexOf(t)>=0)return!0;const s={a:()=>e.hasAttribute("href"),audio:()=>e.hasAttribute("controls"),video:()=>e.hasAttribute("controls")};return t in s?s[t]():be(e)?!0:ue(e)}function ke(e){return e?J(e)&&ce(e)&&!Oe(e):!1}const we=["input:not(:disabled):not([disabled])","select:not(:disabled):not([disabled])","textarea:not(:disabled):not([disabled])","embed","iframe","object","a[href]","area[href]","button:not(:disabled):not([disabled])","[tabindex]","audio[controls]","video[controls]","*[tabindex]:not([aria-disabled])","*[contenteditable]"],Pe=we.join(),Ne=e=>e.offsetWidth>0&&e.offsetHeight>0;function Se(e){const t=Array.from(e.querySelectorAll(Pe));return t.unshift(e),t.filter(n=>ce(n)&&Ne(n))}function Te(e){const{wasSelected:t,enabled:n,isSelected:s,mode:r="unmount"}=e;return!!(!n||s||r==="keepMounted"&&t)}function Fe(e){const{isOpen:t,ref:n}=e,[s,r]=u.useState(t),[o,c]=u.useState(!1);return u.useEffect(()=>{o||(r(t),c(!0))},[t,o,s]),se(()=>n.current,"animationend",()=>{r(t)}),{present:!(t?!1:!s),onComplete(){const d=De(n.current),f=new d.CustomEvent("animationend",{bubbles:!0});n.current?.dispatchEvent(f)}}}function Le(e){const t=e.current;if(!t)return!1;const n=ve(t);return!n||t.contains(n)?!1:!!ke(n)}function Re(e,t){const{shouldFocus:n,visible:s,focusRef:r}=t,o=n&&!s;j(()=>{if(!o||Le(e))return;const c=r?.current||e.current;let i;if(c)return i=requestAnimationFrame(()=>{c.focus({preventScroll:!0})}),()=>{cancelAnimationFrame(i)}},[o,e,r])}const Ae={preventScroll:!0,shouldFocus:!1};function mt(e,t=Ae){const{focusRef:n,preventScroll:s,shouldFocus:r,visible:o}=t,c=_e(e)?e.current:e,i=r&&o,d=u.useRef(i),f=u.useRef(o);pe(()=>{!f.current&&o&&(d.current=i),f.current=o},[o,i]);const l=u.useCallback(()=>{if(!(!o||!c||!d.current)&&(d.current=!1,!c.contains(document.activeElement)))if(n?.current)requestAnimationFrame(()=>{n.current?.focus({preventScroll:s})});else{const m=Se(c);m.length>0&&requestAnimationFrame(()=>{m[0].focus({preventScroll:s})})}},[o,s,c,n]);j(()=>{l()},[l]),se(c,"transitionend",l)}function _e(e){return"current"in e}function Ue(e,t){const n=u.useId();return u.useMemo(()=>e||[t,n].filter(Boolean).join("-"),[e,t,n])}function Ke(e,...t){const n=Ue(e);return u.useMemo(()=>t.map(s=>`${s}-${n}`),[n,t])}function Ve(e){const{ref:t,handler:n,enabled:s=!0}=e,r=he(n),c=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;u.useEffect(()=>{if(!s)return;const i=m=>{$(m,t)&&(c.isPointerDown=!0)},d=m=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&n&&$(m,t)&&(c.isPointerDown=!1,r(m))},f=m=>{c.ignoreEmulatedMouseEvents=!0,n&&c.isPointerDown&&$(m,t)&&(c.isPointerDown=!1,r(m))},l=ae(t.current);return l.addEventListener("mousedown",i,!0),l.addEventListener("mouseup",d,!0),l.addEventListener("touchstart",i,!0),l.addEventListener("touchend",f,!0),()=>{l.removeEventListener("mousedown",i,!0),l.removeEventListener("mouseup",d,!0),l.removeEventListener("touchstart",i,!0),l.removeEventListener("touchend",f,!0)}},[n,t,r,c,s])}function $(e,t){const n=e.target;return n&&!ae(n).contains(n)?!1:!t.current?.contains(e.composedPath?.()[0]??n)}function ae(e){return e?.ownerDocument??document}function Z(e){return e.sort((t,n)=>{const s=t.compareDocumentPosition(n);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const je=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function ee(e,t,n){let s=e+1;return n&&s>=t&&(s=0),s}function te(e,t,n){let s=e-1;return n&&s<0&&(s=t),s}const z=typeof window<"u"?u.useLayoutEffect:u.useEffect,ne=e=>e;var Be=Object.defineProperty,He=(e,t,n)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t,n)=>(He(e,typeof t!="symbol"?t+"":t,n),n);class $e{constructor(){E(this,"descendants",new Map),E(this,"register",t=>{if(t!=null)return je(t)?this.registerNode(t):n=>{this.registerNode(n,t)}}),E(this,"unregister",t=>{this.descendants.delete(t);const n=Z(Array.from(this.descendants.keys()));this.assignIndex(n)}),E(this,"destroy",()=>{this.descendants.clear()}),E(this,"assignIndex",t=>{this.descendants.forEach(n=>{const s=t.indexOf(n.node);n.index=s,n.node.dataset.index=n.index.toString()})}),E(this,"count",()=>this.descendants.size),E(this,"enabledCount",()=>this.enabledValues().length),E(this,"values",()=>Array.from(this.descendants.values()).sort((n,s)=>n.index-s.index)),E(this,"enabledValues",()=>this.values().filter(t=>!t.disabled)),E(this,"item",t=>{if(this.count()!==0)return this.values()[t]}),E(this,"enabledItem",t=>{if(this.enabledCount()!==0)return this.enabledValues()[t]}),E(this,"first",()=>this.item(0)),E(this,"firstEnabled",()=>this.enabledItem(0)),E(this,"last",()=>this.item(this.descendants.size-1)),E(this,"lastEnabled",()=>{const t=this.enabledValues().length-1;return this.enabledItem(t)}),E(this,"indexOf",t=>t?this.descendants.get(t)?.index??-1:-1),E(this,"enabledIndexOf",t=>t==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(t))),E(this,"next",(t,n=!0)=>{const s=ee(t,this.count(),n);return this.item(s)}),E(this,"nextEnabled",(t,n=!0)=>{const s=this.item(t);if(!s)return;const r=this.enabledIndexOf(s.node),o=ee(r,this.enabledCount(),n);return this.enabledItem(o)}),E(this,"prev",(t,n=!0)=>{const s=te(t,this.count()-1,n);return this.item(s)}),E(this,"prevEnabled",(t,n=!0)=>{const s=this.item(t);if(!s)return;const r=this.enabledIndexOf(s.node),o=te(r,this.enabledCount()-1,n);return this.enabledItem(o)}),E(this,"registerNode",(t,n)=>{if(!t||this.descendants.has(t))return;const s=Array.from(this.descendants.keys()).concat(t),r=Z(s);n?.disabled&&(n.disabled=!!n.disabled);const o={node:t,index:-1,...n};this.descendants.set(t,o),this.assignIndex(r)})}}function ze(){const[e,t]=Q({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});return[e,t,()=>{const r=u.useRef(new $e);return z(()=>()=>r.current.destroy()),r.current},r=>{const o=t(),[c,i]=u.useState(-1),d=u.useRef(null);z(()=>()=>{d.current&&o.unregister(d.current)},[]),z(()=>{if(!d.current)return;const l=Number(d.current.dataset.index);c!=l&&!Number.isNaN(l)&&i(l)});const f=ne(r?o.register(r):o.register);return{descendants:o,index:c,enabledIndex:o.enabledIndexOf(d.current),register:U(f,d)}}]}function We(e,t,n,s){if(t==null)return s;if(!s)return e.find(c=>n(c).toLowerCase().startsWith(t.toLowerCase()));const r=e.filter(o=>n(o).toLowerCase().startsWith(t.toLowerCase()));if(r.length>0){let o;return r.includes(s)?(o=r.indexOf(s)+1,o===r.length&&(o=0),r[o]):(o=e.indexOf(r[0]),e[o])}return s}function qe(e){const{key:t}=e;return t.length===1||t.length>1&&/[^a-zA-Z0-9]/.test(t)}function Ge(e={}){const{timeout:t=300,preventDefault:n=()=>!0}=e,[s,r]=u.useState([]),o=u.useRef(),c=()=>{o.current&&(clearTimeout(o.current),o.current=null)},i=()=>{c(),o.current=setTimeout(()=>{r([]),o.current=null},t)};u.useEffect(()=>c,[]);function d(f){return l=>{if(l.key==="Backspace"){const m=[...s];m.pop(),r(m);return}if(qe(l)){const m=s.concat(l.key);n(l)&&(l.preventDefault(),l.stopPropagation()),r(m),f(m.join("")),i()}}}return d}function Je(){const e=u.useRef(new Map),t=e.current,n=u.useCallback((r,o,c,i)=>{e.current.set(c,{type:o,el:r,options:i}),r.addEventListener(o,c,i)},[]),s=u.useCallback((r,o,c,i)=>{r.removeEventListener(o,c,i),e.current.delete(c)},[]);return u.useEffect(()=>()=>{t.forEach((r,o)=>{s(r.el,r.type,o,r.options)})},[s,t]),{add:n,remove:s}}function W(e){const t=e.composedPath?.()?.[0]??e.target,{tagName:n,isContentEditable:s}=t;return n!=="INPUT"&&n!=="TEXTAREA"&&s!==!0}function Qe(e={}){const{ref:t,isDisabled:n,isFocusable:s,clickOnEnter:r=!0,clickOnSpace:o=!0,onMouseDown:c,onMouseUp:i,onClick:d,onKeyDown:f,onKeyUp:l,tabIndex:m,onMouseOver:O,onMouseLeave:x,...T}=e,[M,I]=u.useState(!0),[v,b]=u.useState(!1),p=Je(),N=a=>{a&&a.tagName!=="BUTTON"&&I(!1)},g=M?m:m||0,S=n&&!s,C=u.useCallback(a=>{if(n){a.stopPropagation(),a.preventDefault();return}a.currentTarget.focus(),d?.(a)},[n,d]),h=u.useCallback(a=>{v&&W(a)&&(a.preventDefault(),a.stopPropagation(),b(!1),p.remove(document,"keyup",h,!1))},[v,p]),D=u.useCallback(a=>{if(f?.(a),n||a.defaultPrevented||a.metaKey||!W(a.nativeEvent)||M)return;const A=r&&a.key==="Enter";o&&a.key===" "&&(a.preventDefault(),b(!0)),A&&(a.preventDefault(),a.currentTarget.click()),p.add(document,"keyup",h,!1)},[n,M,f,r,o,p,h]),L=u.useCallback(a=>{if(l?.(a),n||a.defaultPrevented||a.metaKey||!W(a.nativeEvent)||M)return;o&&a.key===" "&&(a.preventDefault(),b(!1),a.currentTarget.click())},[o,M,n,l]),F=u.useCallback(a=>{a.button===0&&(b(!1),p.remove(document,"mouseup",F,!1))},[p]),R=u.useCallback(a=>{if(a.button!==0)return;if(n){a.stopPropagation(),a.preventDefault();return}M||b(!0),a.currentTarget.focus({preventScroll:!0}),p.add(document,"mouseup",F,!1),c?.(a)},[n,M,c,p,F]),k=u.useCallback(a=>{a.button===0&&(M||b(!1),i?.(a))},[i,M]),y=u.useCallback(a=>{if(n){a.preventDefault();return}O?.(a)},[n,O]),H=u.useCallback(a=>{v&&(a.preventDefault(),b(!1)),x?.(a)},[v,x]),K=U(t,N);return M?{...T,ref:K,type:"button","aria-disabled":S?void 0:n,disabled:S,onClick:C,onMouseDown:c,onMouseUp:i,onKeyUp:l,onKeyDown:f,onMouseOver:O,onMouseLeave:x}:{...T,ref:K,role:"button","data-active":oe(v),"aria-disabled":n?"true":void 0,tabIndex:S?void 0:g,onClick:C,onMouseDown:R,onMouseUp:k,onKeyUp:L,onKeyDown:D,onMouseOver:y,onMouseLeave:H}}const[Xe,Ye,Ze,et]=ze(),[tt,B]=Q({strict:!1,name:"MenuContext"});function ie(e){return e?.ownerDocument??document}function nt(e){return ie(e).activeElement===e}function st(e={}){const{id:t,closeOnSelect:n=!0,closeOnBlur:s=!0,initialFocusRef:r,autoSelect:o=!0,isLazy:c,isOpen:i,defaultIsOpen:d,onClose:f,onOpen:l,placement:m="bottom-start",lazyBehavior:O="unmount",direction:x,computePositionOnMount:T=!1,...M}=e,I=u.useRef(null),v=u.useRef(null),b=u.useRef(!0),p=Ze(),N=u.useCallback(()=>{requestAnimationFrame(()=>{I.current?.focus({preventScroll:!1})})},[]),g=u.useCallback(()=>{const w=setTimeout(()=>{if(r)r.current?.focus();else if(!p.count())I.current?.focus({preventScroll:!1});else{const P=p.firstEnabled();P&&y(P.index)}});_.current.add(w)},[p,r]),S=u.useCallback(()=>{const w=setTimeout(()=>{if(!p.count())I.current?.focus({preventScroll:!1});else{const P=p.lastEnabled();P&&y(P.index)}});_.current.add(w)},[p]),C=u.useCallback(()=>{l?.(),o?g():N()},[o,g,N,l]),{isOpen:h,onOpen:D,onClose:L,onToggle:F}=Ee({isOpen:i,defaultIsOpen:d,onClose:f,onOpen:C});Ve({enabled:h&&s,ref:I,handler:w=>{const P=w.composedPath?.()?.[0]??w.target;v.current?.contains(P)||L()}});const R=xe({...M,enabled:h||T,placement:m,direction:x}),[k,y]=u.useState(-1);Re(I,{focusRef:v,visible:h,shouldFocus:!0});const H=Fe({isOpen:h,ref:I}),[K,a]=Ke(t,"menu-button","menu-list"),A=u.useCallback(()=>{D(),N()},[D,N]),_=u.useRef(new Set([]));u.useEffect(()=>{const w=_.current;return()=>{w.forEach(P=>clearTimeout(P)),w.clear()}},[]),j(()=>{h||(y(-1),I.current?.scrollTo(0,0))},[h]),j(()=>{h&&k===-1&&N()},[k,h]),u.useEffect(()=>{if(!h)return;p.item(k)?.node?.focus({preventScroll:!b.current})},[p,k,h]);const X=u.useCallback(()=>{D(),g()},[g,D]),le=u.useCallback(()=>{b.current=!0,D(),S()},[D,S]),de=u.useCallback(()=>{const w=ie(I.current),P=I.current?.contains(w.activeElement);if(!(h&&!P))return;p.item(k)?.node?.focus({preventScroll:!b.current})},[h,k,p]);return{openAndFocusMenu:A,openAndFocusFirstItem:X,openAndFocusLastItem:le,onTransitionEnd:de,unstable__animationState:H,descendants:p,popper:R,buttonId:K,menuId:a,forceUpdate:R.forceUpdate,orientation:"vertical",isOpen:h,onToggle:F,onOpen:D,onClose:L,menuRef:I,buttonRef:v,focusedIndex:k,closeOnSelect:n,closeOnBlur:s,autoSelect:o,setFocusedIndex:y,isLazy:c,lazyBehavior:O,initialFocusRef:r,scrollIntoViewRef:b}}function bt(e={},t=null){const n=B(),{onToggle:s,popper:r,openAndFocusFirstItem:o,openAndFocusLastItem:c,scrollIntoViewRef:i}=n,d=u.useCallback(f=>{const l=f.key,O={Enter:o,ArrowDown:o,ArrowUp:c}[l];O&&(i.current=!0,f.preventDefault(),f.stopPropagation(),O(f))},[o,c,i]);return{...e,ref:U(n.buttonRef,t,r.referenceRef),id:n.buttonId,"data-active":oe(n.isOpen),"aria-expanded":n.isOpen,"aria-haspopup":"menu","aria-controls":n.menuId,onClick:q(e.onClick,s),onKeyDown:q(e.onKeyDown,d)}}function G(e){return ot(e)&&!!e?.getAttribute("role")?.startsWith("menuitem")}function pt(e={},t=null){const n=B();if(!n)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:r,menuRef:o,isOpen:c,onClose:i,menuId:d,isLazy:f,lazyBehavior:l,scrollIntoViewRef:m,unstable__animationState:O}=n,x=Ye(),T=Ge({preventDefault:b=>b.key!==" "&&G(b.target)}),M=u.useCallback(b=>{if(!b.currentTarget.contains(b.target))return;const p=b.key,g={Tab:C=>C.preventDefault(),Escape:C=>{C.stopPropagation(),i()},ArrowDown:()=>{m.current=!0;const C=x.nextEnabled(s)??x.firstEnabled();C&&r(C.index)},ArrowUp:()=>{m.current=!0;const C=x.prevEnabled(s)??x.firstEnabled();C&&r(C.index)}}[p];if(g){b.preventDefault(),g(b);return}const S=T(C=>{const h=We(x.values(),C,D=>D?.node?.textContent??"",x.item(s));if(h){const D=x.indexOf(h.node);r(D)}});G(b.target)&&S(b)},[x,s,T,i,r,m]),I=u.useRef(!1);c&&(I.current=!0);const v=Te({wasSelected:I.current,enabled:f,mode:l,isSelected:O.present});return{...e,ref:U(o,t),children:v?e.children:null,tabIndex:-1,role:"menu",id:d,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:q(e.onKeyDown,M)}}function ht(e={}){const{popper:t,isOpen:n}=B();return t.getPopperProps({...e,style:{visibility:n?"visible":"hidden",...e.style}})}function Et(e={},t=null){const{onMouseEnter:n,onMouseMove:s,onMouseLeave:r,onClick:o,onFocus:c,isDisabled:i,isFocusable:d,closeOnSelect:f,type:l,...m}=e,O=B(),{setFocusedIndex:x,focusedIndex:T,closeOnSelect:M,onClose:I,menuId:v,scrollIntoViewRef:b}=O,p=u.useRef(null),N=`${v}-menuitem-${u.useId()}`,{index:g,register:S}=et({disabled:i&&!d}),C=u.useCallback(y=>{n?.(y),!i&&(b.current=!1,x(g))},[x,g,i,n,b]),h=u.useCallback(y=>{s?.(y),p.current&&!nt(p.current)&&C(y)},[C,s]),D=u.useCallback(y=>{r?.(y),!i&&x(-1)},[x,i,r]),L=u.useCallback(y=>{o?.(y),G(y.currentTarget)&&(f??M)&&I()},[I,o,M,f]),F=u.useCallback(y=>{c?.(y),x(g)},[x,c,g]),R=g===T,k=Qe({onClick:L,onFocus:F,onMouseEnter:C,onMouseMove:h,onMouseLeave:D,ref:U(S,p,t),isDisabled:i,isFocusable:d});return{...m,...k,type:l??k.type,id:N,role:"menuitem",tabIndex:R?0:-1}}function ot(e){if(!rt(e))return!1;const t=e.ownerDocument.defaultView??window;return e instanceof t.HTMLElement}function rt(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}const[ut,ct]=Q({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),at=e=>{const{children:t}=e,n=Ce("Menu",e),s=Ie(e),{direction:r}=ye(),{descendants:o,...c}=st({...s,direction:r}),i=u.useMemo(()=>c,[c]),{isOpen:d,onClose:f,forceUpdate:l}=i;return V.jsx(Xe,{value:o,children:V.jsx(tt,{value:i,children:V.jsx(ut,{value:n,children:Me(t,{isOpen:d,onClose:f,forceUpdate:l})})})})};at.displayName="Menu";const it=e=>{const{className:t,children:n,...s}=e,r=ct(),o=u.Children.only(n),c=u.isValidElement(o)?u.cloneElement(o,{focusable:"false","aria-hidden":!0,className:Y("chakra-menu__icon",o.props.className)}):null,i=Y("chakra-menu__icon-wrapper",t);return V.jsx(ge.span,{className:i,...s,__css:r.icon,children:c})};it.displayName="MenuIcon";export{at as M,Re as a,mt as b,Ve as c,it as d,ct as e,bt as f,Et as g,B as h,ce as i,pt as j,ht as k,Te as l,Fe as u};
