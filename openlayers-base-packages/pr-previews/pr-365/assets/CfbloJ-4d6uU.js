var zt=Object.defineProperty;var dt=e=>{throw TypeError(e)};var _t=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var vt=(e,t,r)=>_t(e,typeof t!="symbol"?t+"":t,r),it=(e,t,r)=>t.has(e)||dt("Cannot "+r);var i=(e,t,r)=>(it(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>t.has(e)?dt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),F=(e,t,r,s)=>(it(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),a=(e,t,r)=>(it(e,t,"access private method"),r);import{c as $t,i as mt,r as w,j as R}from"./DnPhTJjuvB9x.js";import{G as yt,T as at}from"./B-xIxjuOza_9.js";import{b as Tt,az as Zt,b1 as Vt,u as Gt,aZ as ct,g as gt,b4 as wt}from"./CIxQfNC2cMTH.js";import{a as Bt,b as Jt,c as Wt,d as Kt,e as Qt}from"./CxlYFj-33NQH.js";var Xt=Symbol.for("preact-signals");function rt(){if(P>1)P--;else{for(var e,t=!1;V!==void 0;){var r=V;for(V=void 0,ot++;r!==void 0;){var s=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&xt(r))try{r.c()}catch(n){t||(e=n,t=!0)}r=s}}if(ot=0,P--,t)throw e}}function Yt(e){if(P>0)return e();P++;try{return e()}finally{rt()}}var u=void 0;function ut(e){var t=u;u=void 0;try{return e()}finally{u=t}}var V=void 0,P=0,ot=0,et=0;function bt(e){if(u!==void 0){var t=e.n;if(t===void 0||t.t!==u)return t={i:0,S:e,p:u.s,n:void 0,t:u,e:void 0,x:void 0,r:t},u.s!==void 0&&(u.s.n=t),u.s=t,e.n=t,32&u.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=u.s,t.n=void 0,u.s.n=t,u.s=t),t}}function S(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}S.prototype.brand=Xt;S.prototype.h=function(){return!0};S.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};S.prototype.U=function(e){if(this.t!==void 0){var t=e.e,r=e.x;t!==void 0&&(t.x=r,e.e=void 0),r!==void 0&&(r.e=t,e.x=void 0),e===this.t&&(this.t=r)}};S.prototype.subscribe=function(e){var t=this;return Lt(function(){var r=t.value,s=u;u=void 0;try{e(r)}finally{u=s}})};S.prototype.valueOf=function(){return this.value};S.prototype.toString=function(){return this.value+""};S.prototype.toJSON=function(){return this.value};S.prototype.peek=function(){var e=u;u=void 0;try{return this.value}finally{u=e}};Object.defineProperty(S.prototype,"value",{get:function(){var e=bt(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(ot>100)throw new Error("Cycle detected");this.v=e,this.i++,et++,P++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{rt()}}}});function te(e){return new S(e)}function xt(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function St(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function Et(e){for(var t=e.s,r=void 0;t!==void 0;){var s=t.p;t.i===-1?(t.S.U(t),s!==void 0&&(s.n=t.n),t.n!==void 0&&(t.n.p=s)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=s}e.s=r}function T(e){S.call(this,void 0),this.x=e,this.s=void 0,this.g=et-1,this.f=4}(T.prototype=new S).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===et))return!0;if(this.g=et,this.f|=1,this.i>0&&!xt(this))return this.f&=-2,!0;var e=u;try{St(this),u=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return u=e,Et(this),this.f&=-2,!0};T.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}S.prototype.S.call(this,e)};T.prototype.U=function(e){if(this.t!==void 0&&(S.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};T.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(T.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=bt(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Rt(e){return new T(e)}function It(e){var t=e.u;if(e.u=void 0,typeof t=="function"){P++;var r=u;u=void 0;try{t()}catch(s){throw e.f&=-2,e.f|=8,lt(e),s}finally{u=r,rt()}}}function lt(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,It(e)}function ee(e){if(u!==this)throw new Error("Out-of-order effect");Et(this),u=e,this.f&=-2,8&this.f&&lt(this),rt()}function X(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}X.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};X.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,It(this),St(this),P++;var e=u;return u=this,ee.bind(this,e)};X.prototype.N=function(){2&this.f||(this.f|=2,this.o=V,V=this)};X.prototype.d=function(){this.f|=8,1&this.f||lt(this)};function Lt(e){var t=new X(e);try{t.c()}catch(r){throw t.d(),r}return t.d.bind(t)}function k(e,t){return new ne(e,t?.equal)}function re(e,t){return new se(e,t?.equal)}function Be(e){return Yt(e)}function ft(e){return ut(e)}var N=Symbol("signal"),G=Symbol("equals"),Ct=class{[N];constructor(e){this[N]=e}get value(){return this[N].value}set value(e){throw new Error("Cannot update a readonly reactive object.")}trigger(){throw new Error("Cannot trigger this reactive object.")}peek(){return this[N].peek()}toJSON(){return this.value}toString(){return`Reactive[value=${oe(this[N].value)}]`}},se=class extends Ct{[G];constructor(e,t){const r=Rt(t?ie(e,t):e);super(r),this[G]=t}},ne=class extends Ct{[G];constructor(e,t){super(te(e)),this[G]=t}get value(){return super.value}set value(e){ut(()=>this[G]?.(this.value,e))||(this[N].value=e)}};function ie(e,t){let r=!0,s;return function(){const o=e();return ut(()=>((r||!t(s,o))&&(s=o,r=!1),s))}}function oe(e){return typeof e=="string"?JSON.stringify(e):String(e)}function ae(e,t){return e===t?!0:e.length===t.length&&e.every((r,s)=>r===t[s])}function ce(e,t,r,s){const n=Rt(t),o=s?.immediate??!1,l=s?.equal??ue;let d=!0,f,v;function g(){const L=v;v=void 0;try{L?.()}catch(m){throw I.destroy(),m}}const p=e(()=>{const L=n.value;ft(()=>{const m=f,b=d&&o||!d&&!l(m,L);(b||d)&&(f=L,d=!1),b&&(g(),v=r(L,m))})}),I={destroy(){try{g()}finally{p.destroy()}}};return I}function ue(e,t){return e===t}function le(e){return{destroy:Lt(e)}}function fe(e,t){let r=0,s=!0,n;return n=le(()=>{const o=r++;if(o===0)return e();o===1&&ft(()=>{try{t()}finally{s?Promise.resolve().then(()=>n?.destroy()):n?.destroy()}})}),s=!1,n}function Ut(e){Promise.reject(new Error("Error in effect or watch callback",{cause:e}))}var he=class{queue=[];channel=new MessageChannel;constructor(){this.channel.port2.start()}enqueue(e){const t={fn:e,destroyed:!1};return this.queue.push(t),this.queue.length===1&&this.scheduleIteration(),{destroy(){t.destroyed||(t.destroyed=!0)}}}messageHandler=()=>this.runIteration();scheduleIteration(){const e=this.channel;e.port2.addEventListener("message",this.messageHandler),e.port1.postMessage("")}runIteration(){this.channel.port2.removeEventListener("message",this.messageHandler);const e=this.queue;this.queue=[];for(const t of e)if(!t.destroyed)try{t.fn()}catch(r){Ut(r)}}};function de(e){const t=new ve(e);return{destroy:t.destroy.bind(t)}}var ve=class{callback;cleanup;effectHandle;scheduledExecution;isDestroyed=!1;initialExecution=!0;isExecuting=!1;constructor(e){this.callback=e,this.execute(),this.initialExecution=!1}destroy(){if(!this.isDestroyed){this.isDestroyed=!0;try{this.triggerCleanup()}finally{this.effectHandle?.destroy(),this.effectHandle=void 0,this.scheduledExecution?.destroy(),this.scheduledExecution=void 0}}}execute(){this.isExecuting=!0;try{const e=fe(()=>{if(this.initialExecution)this.triggerCallback();else try{this.triggerCallback()}catch(t){Ut(t)}},()=>this.scheduleExecution());this.isDestroyed?e.destroy():this.effectHandle=e}finally{this.isExecuting=!1}}triggerCallback(){this.triggerCleanup(),this.isDestroyed||(this.cleanup=this.callback())}triggerCleanup(){const e=this.cleanup;this.cleanup=void 0;try{e&&ft(e)}catch(t){throw this.destroy(),t}}scheduleExecution(){if(!this.isDestroyed){if(this.effectHandle?.destroy(),this.effectHandle=void 0,this.isExecuting)throw new Error("Cycle detected");this.scheduledExecution||(this.scheduledExecution=ye(()=>{try{this.execute()}finally{this.scheduledExecution=void 0}}))}}};function pe(e,t,r){return ce(de,e,t,{equal:ae,...r})}var me=new he;function ye(e){return me.enqueue(e)}function Je(e){return new ge(e)}var x,H,y,j,Y,Ft,kt,pt,ge=(pt=class{constructor(e){E(this,y);E(this,x,new Map);E(this,H,k(!1));if(e)for(const[t,r]of e)i(this,x).set(t,k(r))}get size(){return a(this,y,j).call(this),i(this,x).size}entries(){return a(this,y,j).call(this),a(this,y,Ft).call(this)}keys(){return a(this,y,j).call(this),i(this,x).keys()}values(){return a(this,y,j).call(this),a(this,y,kt).call(this)}[Symbol.iterator](){return this.entries()}clear(){const e=!!i(this,x).size;i(this,x).clear(),e&&a(this,y,Y).call(this)}delete(e){const t=i(this,x).delete(e);return t&&a(this,y,Y).call(this),t}get(e){return a(this,y,j).call(this),i(this,x).get(e)?.value}has(e){return a(this,y,j).call(this),i(this,x).has(e)}set(e,t){const r=i(this,x).get(e);return r?r.value=t:(i(this,x).set(e,k(t)),a(this,y,Y).call(this)),this}},x=new WeakMap,H=new WeakMap,y=new WeakSet,j=function(){i(this,H).value},Y=function(){i(this,H).value=!i(this,H).peek()},Ft=function*(){const e=i(this,x).entries();for(const[t,r]of e)yield[t,r.value]},kt=function*(){const e=i(this,x).values();for(const t of e)yield t.value},pt);function Z(e){return new we(e)}var h,z,c,q,tt,Pt,Mt,C,A,_,we=(_=class{constructor(t){E(this,c);E(this,h);E(this,z,k(!1));F(this,h,t?Array.from(t).map(r=>k(r)):[])}get length(){return a(this,c,C).call(this),i(this,h).length}push(...t){i(this,h).push(...t.map(r=>k(r))),a(this,c,A).call(this)}pop(){if(i(this,h).length===0)return;const t=i(this,h).pop();return a(this,c,A).call(this),t.value}unshift(...t){i(this,h).unshift(...t.map(r=>k(r))),a(this,c,A).call(this)}shift(){if(i(this,h).length===0)return;const t=i(this,h).shift();return a(this,c,A).call(this),t.value}splice(t,r,...s){const n=i(this,h).splice(t,r??i(this,h).length,...s.map(o=>k(o)));return(s!=null&&s.length!==0||n.length!==0)&&a(this,c,A).call(this),n.map(o=>o.value)}sort(t){i(this,h).sort((r,s)=>t(r.value,s.value)),a(this,c,A).call(this)}getItems(){return a(this,c,C).call(this),i(this,h).map(t=>t.value)}at(t){return a(this,c,C).call(this),i(this,h).at(t)?.value}get(t){return a(this,c,C).call(this),i(this,h)[t]?.value}set(t,r){if(t<0||t>=i(this,h).length)throw new Error("index out of bounds");const s=i(this,h)[t];s.value=r}slice(...t){a(this,c,C).call(this);const r=i(this,h).slice(...t).map(s=>s.value);return Z(r)}concat(...t){const r=this.getItems().concat(...t.map(s=>s instanceof _?s.getItems():s));return Z(r)}includes(t,r){return a(this,c,q).call(this,s=>s===t,r)!==-1}indexOf(t,r){return a(this,c,q).call(this,s=>s===t,r)}lastIndexOf(t){return a(this,c,tt).call(this,r=>r===t)}find(t){const r=a(this,c,q).call(this,t);return this.get(r)}findLast(t){const r=a(this,c,tt).call(this,t);return this.get(r)}findIndex(t){return a(this,c,q).call(this,t)}findLastIndex(t){return a(this,c,tt).call(this,t)}some(t){return a(this,c,q).call(this,t)!==-1}every(t){return a(this,c,q).call(this,(r,s)=>!t(r,s))===-1}forEach(t){for(const[r,s]of this.entries())t(s,r)}filter(t){return Z(this.getItems().filter((r,s)=>t(r,s)))}map(t){return Z(this.getItems().map((r,s)=>t(r,s)))}flatMap(t){return Z(this.getItems().flatMap((r,s)=>t(r,s)))}reduce(t,...r){return a(this,c,C).call(this),i(this,h).reduce((s,n,o)=>t(s,n.value,o),...r)}reduceRight(t,...r){return a(this,c,C).call(this),i(this,h).reduceRight((s,n,o)=>t(s,n.value,o),...r)}keys(){return a(this,c,C).call(this),i(this,h).keys()}values(){return a(this,c,C).call(this),a(this,c,Pt).call(this)}entries(){return a(this,c,C).call(this),a(this,c,Mt).call(this)}[Symbol.iterator](){return this.values()}},h=new WeakMap,z=new WeakMap,c=new WeakSet,q=function(t,r){for(let s=r??0,n=this.length;s<n;++s){const o=this.get(s);if(t(o,s))return s}return-1},tt=function(t){for(let r=this.length;r-- >0;){const s=this.get(r);if(t(s,r))return r}return-1},Pt=function*(){for(const t of i(this,h))yield t.value},Mt=function*(){for(const[t,r]of i(this,h).entries())yield[t,r.value]},C=function(){i(this,z).value},A=function(){i(this,z).value=!i(this,z).peek()},_);const be="next";function xe(e,t,r,s){const n=new URL(e),o=n.searchParams;return o.set("bbox",t.join(",")),o.set("bbox-crs",r),o.set("crs",r),o.set("f","json"),s?.(new URL(n))??n}function Se(e,t,r){const s=new URL(e),n=s.searchParams;return n.set("offset",t.toString()),n.set("limit",r.toString()),s.toString()}function jt(e){if(!Array.isArray(e))return;const r=e.filter(s=>s.rel===be);if(r.length===1)return r[0]?.href}async function qt(e,t,r,s){let n=[];const o={headers:{Accept:"application/geo+json"},signal:s},l=await r.fetch(e,o);if(l.status!==200)throw new Error(`Failed to query features from service (status code ${l.status})`);const d=await l.json();t&&(n=t.readFeatures(d));const f=jt(d.links);return{features:n,numberMatched:d.numberMatched,nextURL:f}}async function Ee(e,t){const r={supportsOffsetStrategy:!1},s=new URL(e);s.searchParams.set("limit","1"),s.searchParams.set("f","json");const n=await t.fetch(s.toString(),{headers:{Accept:"application/geo+json"}});if(n.status!==200)throw new Error(`Failed to probe collection information (status code ${n.status})`);const o=await n.json(),l=jt(o.links);if(!l)return r;const f=new URL(l).searchParams.has("offset");return r.supportsOffsetStrategy=f,r}async function Re(e){const{fullURL:t,featureFormat:r,signal:s,addFeatures:n,queryFeatures:o}=e,l=e.limit,d=e.maxConcurrentRequests;let f=0,v=t;const g=[];let p;for(;v;){let I;p==null?I=d:I=Math.ceil((p-f)/l),I=Math.max(1,Math.min(I,d));const L=[];for(let b=0;b<I;++b)L.push(Se(t,f,l)),f+=l;const m=await At(L,r,e.httpService,s,n,o);g.push(...m.features),v=m.nextURL,m.numberMatched!=null&&(p=m.numberMatched)}return g}const D=$t("ogc-features:OgcFeatureSourceFactory"),Ie=5e3,Le=6;function Ce(e,t){return Ue(e,{httpService:t})}function Ue(e,t){const r=t.httpService,s=`${e.baseUrl}/collections/${e.collectionId}/items?`,n=new Tt({format:new yt,strategy:Zt,attributions:e.attributions,...e.additionalOptions}),o=t.queryFeaturesParam??qt,l=t.getCollectionInfosParam??Ee,d=t.addFeaturesParam||function(p){D.debug(`Adding ${p.length} features`),n.addFeatures(p)};let f,v;const g=async(p,I,L,m,b)=>{v??=l(s,r);let O;try{O=await v}catch(M){D.error("Failed to retrieve collection information",M),b?.(),v=void 0;return}f?.abort("Extent changed"),f=new AbortController;const st=xe(s,p,e.crs,e.rewriteUrl);let nt=e?.strategy||(O?.supportsOffsetStrategy?"offset":"next");nt==="offset"&&!O?.supportsOffsetStrategy&&(nt="next");try{const M=await Fe(nt,{fullURL:st.toString(),httpService:r,featureFormat:n.getFormat(),queryFeatures:o,addFeatures:d,limit:e.limit??Ie,maxConcurrentRequests:e.maxConcurrentRequests??Le,signal:f.signal,collectionInfos:O});m?.(M),D.debug("Finished loading features for extent:",p)}catch(M){mt(M)?(D.debug("Query-Feature-Request aborted",M),n.removeLoadedExtent(p),b?.()):D.error("Failed to load features",M)}};return n.setLoader(g),n}function Fe(e,t){switch(e){case"next":return ke(t);case"offset":return Re(t)}}async function ke(e){const t=e.limit;let r=new URL(e.fullURL);r.searchParams.set("limit",t.toString());let s=[];do{const n=await At([r.toString()],e.featureFormat,e.httpService,e.signal,e.addFeatures,e.queryFeatures);if(s=s.concat(n.features),!n.nextURL)break;r=new URL(n.nextURL)}while(!0);return s}async function At(e,t,r,s,n,o=qt){const l={nextURL:void 0,numberMatched:void 0,features:[]},d=e.map(async(f,v)=>{const g=v===e.length-1,p=await o(f,t,r,s);n(p.features),D.debug(`NextURL for index = ${v} (isLast = ${g}): ${p.nextURL||"No Next URL"}`),l.features.push(...p.features),g&&(l.numberMatched=p.numberMatched,l.nextURL=p.nextURL)});return await Promise.all(d),l}var U,B,J,W,$,Ot,Nt;class Pe{constructor(t,r){E(this,$);vt(this,"label");E(this,U);E(this,B);E(this,J);E(this,W);this.label=t.label,F(this,U,t),F(this,B,r);const{baseUrl:s,params:n}=je(t.baseUrl);F(this,J,s),F(this,W,n)}async search(t,{mapProjection:r,maxResults:s,signal:n}){const o=a(this,$,Nt).call(this,t,s),l=new yt({dataProjection:"EPSG:4326",featureProjection:r});return(await Me(i(this,B),o,n)).features.map(f=>a(this,$,Ot).call(this,f,l))}}U=new WeakMap,B=new WeakMap,J=new WeakMap,W=new WeakMap,$=new WeakSet,Ot=function(t,r){const s=i(this,U).renderLabel?.(t),n=t.properties[i(this,U).labelProperty],o=t.properties[i(this,U).searchProperty],l=s||(n!==void 0?String(n):o!==void 0?String(o):"");return{id:t.id??Vt(),label:l,geometry:r.readGeometry(t.geometry),properties:t.properties}},Nt=function(t,r){const s=new URL(`${i(this,J)}/collections/${i(this,U).collectionId}/items`);for(const[n,o]of i(this,W))s.searchParams.append(n,o);return s.searchParams.set(i(this,U).searchProperty,`*${t}*`),s.searchParams.set("limit",String(r)),s.searchParams.set("f","json"),i(this,U).rewriteUrl?.(new URL(s))??s};async function Me(e,t,r){try{const s=await e.fetch(t,{signal:r,headers:{Accept:"application/json"}});if(!s.ok)throw new Error("Request failed with status "+s.status);return await s.json()}catch(s){throw mt(s)?s:new Error("Failed to search on OGC API Features service",{cause:s})}}function je(e){const t=new URL(e),r=new URLSearchParams(t.searchParams);return t.search="",{baseUrl:t.href.replace(/\/+$/,""),params:r}}var K;class We{constructor({references:t}){E(this,K);F(this,K,t.httpService)}createVectorSource(t){return Ce(t,i(this,K))}}K=new WeakMap;var Q;class Ke{constructor({references:t}){E(this,Q);F(this,Q,t.httpService)}createSearchSource(t){return new Pe(t,i(this,Q))}}Q=new WeakMap;function qe(e,t){const r=w.useRef(e);r.current=e;const s=Ne(t);return w.useMemo(()=>re(()=>r.current()),[s])}function Ae(e){const t=w.useCallback(()=>e.peek(),[e]),r=w.useCallback(n=>{const o=pe(()=>[e.value],n);return()=>o.destroy()},[e]),s=w.useSyncExternalStore(r,t);return w.useDebugValue(s),s}function Oe(e,t){const r=qe(e,t),s=Ae(r);return w.useDebugValue(s),s}function Ne(e){const t=w.useRef();return(t.current==null||!De(t.current,e))&&(t.current=e??[]),t.current}function De(e,t){return e===t?!0:e.length===(t?.length??0)&&e.every((r,s)=>r===t[s])}const He="@open-pioneer/map-navigation",ht=Gt.bind(void 0,He),Qe=w.forwardRef(function(t,r){const{mapId:s}=t,{containerProps:n}=ct("initial-extent",t),{map:o}=gt(s),l=ht();function d(){const f=o?.initialExtent,v=o?.olMap;if(f&&v){const g=[f.xMin,f.yMin,f.xMax,f.yMax];v.getView().fit(g,{duration:200})}}return R.jsx(at,{ref:r,label:l.formatMessage({id:"initial-extent.title"}),icon:R.jsx(Bt,{}),onClick:d,...n})}),Xe=w.forwardRef(function(t,r){return R.jsx(Dt,{zoomDirection:"in",ref:r,...t})}),Ye=w.forwardRef(function(t,r){return R.jsx(Dt,{zoomDirection:"out",ref:r,...t})}),Dt=w.forwardRef(function(t,r){const{mapId:s,zoomDirection:n}=t,{map:o}=gt(s),l=ht(),[d,f]=w.useState(!1),{defaultClassName:v,buttonLabel:g,buttonIcon:p}=ze(l,n),{containerProps:I}=ct(wt("zoom",v),t);function L(){if(d)return;f(!0);const m=o?.olMap.getView();let b=m?.getZoom();const O=m?.getMaxZoom()||Number.MAX_SAFE_INTEGER,st=m?.getMinZoom()||0;m&&b!==void 0&&(n==="in"&&b<O?++b:n==="out"&&b>st&&--b,m.animate({zoom:b,duration:200},()=>f(!1)))}return R.jsx(at,{ref:r,label:g,icon:p,onClick:L,...I})});function ze(e,t){switch(t){case"in":return{defaultClassName:"zoom-in",buttonLabel:e.formatMessage({id:"zoom-in.title"}),buttonIcon:R.jsx(Wt,{})};case"out":return{defaultClassName:"zoom-out",buttonLabel:e.formatMessage({id:"zoom-out.title"}),buttonIcon:R.jsx(Jt,{})}}}const tr=w.forwardRef(function(t,r){return R.jsx(Ht,{viewDirection:"forward",ref:r,...t})}),er=w.forwardRef(function(t,r){return R.jsx(Ht,{viewDirection:"backward",ref:r,...t})}),Ht=w.forwardRef(function(t,r){const{viewDirection:s,viewModel:n}=t,o=ht(),{defaultClassName:l,buttonLabel:d,buttonIcon:f}=_e(o,s),{containerProps:v}=ct(wt("view",l),t),{isDisabled:g}=Oe(()=>({isDisabled:s=="forward"?!n.canForward:!n.canBackward}),[n]);return R.jsx(at,{ref:r,label:d,icon:f,onClick:s=="forward"?n.forward:n.backward,...v,isDisabled:g})});function _e(e,t){switch(t){case"forward":return{defaultClassName:"view-forward",buttonLabel:e.formatMessage({id:"view-forward.title"}),buttonIcon:R.jsx(Qt,{})};case"backward":return{defaultClassName:"view-backward",buttonLabel:e.formatMessage({id:"view-backward.title"}),buttonIcon:R.jsx(Kt,{})}}}export{er as H,Qe as I,Ke as S,We as V,Xe as Z,Z as a,Je as b,Ye as c,tr as d,re as e,Be as f,k as r,Oe as u,pe as w};
