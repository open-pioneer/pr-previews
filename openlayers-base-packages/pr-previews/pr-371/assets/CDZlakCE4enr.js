import{b3 as je,W as w,bY as g,aD as ot,bZ as nt,ap as we,as as st,ar as at,b_ as it,b$ as lt,c0 as ct,c1 as ut,N as dt,c2 as L,c3 as xe,c4 as pt,b2 as Ce,b9 as Oe,u as mt,B as J,k as ee,i as ft,g as he,h as be}from"./CvR1K3f_Jx0o.js";import{G as yt,a as gt,b as ht,M as bt}from"./DoZQ59JZnzxi.js";import{L as Pt}from"./CKfDAIEslOW2.js";import{y as vt,z as Fe,h as T,j as s,f as M,q as A,r as p,D as jt,G as wt,H as Z,J as k,K as v,o as xt,p as Ct,L as Ot,M as Ft,C as St,N as Mt,O as Lt,l as Se,B as oe,F as Me}from"./Bh0CuZ3gy5tC.js";import{u as z,B as Nt}from"./B1-t77dlZFnS.js";import{F as Gt,f as Le}from"./CL_VRsbiqLzM.js";import{S as Ne}from"./CjjyePfBQlZ7.js";import{T as te,L as kt}from"./Tz2xttM4F6S2.js";import{u as Tt,a as At,b as _t,l as Rt,M as Bt}from"./DUys4rac0YQP.js";import{C as Et}from"./2d5-QpxJNHTD.js";import{a as Dt,b as It,M as Ht}from"./BeFcF3Ti4kY-.js";function Vt(t){return"current"in t}var Ge=()=>typeof window<"u";function Jt(){var t;const e=navigator.userAgentData;return(t=e?.platform)!=null?t:navigator.platform}var zt=t=>Ge()&&t.test(navigator.vendor),Ut=t=>Ge()&&t.test(Jt()),$t=()=>Ut(/mac|iphone|ipad|ipod/i),Kt=()=>$t()&&zt(/apple/i);function Wt(t){const{ref:e,elements:r,enabled:o}=t,n=()=>{var a,i;return(i=(a=e.current)==null?void 0:a.ownerDocument)!=null?i:document};vt(n,"pointerdown",a=>{if(!Kt()||!o)return;const i=a.target,d=(r??[e]).some(l=>{const m=Vt(l)?l.current:l;return m?.contains(i)||m===i});n().activeElement!==i&&d&&(a.preventDefault(),i.focus())})}var[qt,O]=Fe({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[Yt,_]=Fe({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),ke=T(function(e,r){const{getHeaderProps:o}=O(),n=_();return s.jsx(M.header,{...o(e,r),className:A("chakra-popover__header",e.className),__css:n.header})});ke.displayName="PopoverHeader";function Te(t){const e=p.Children.only(t.children),{getTriggerProps:r}=O();return p.cloneElement(e,r(e.props,e.ref))}Te.displayName="PopoverTrigger";var S={click:"click",hover:"hover"};function Zt(t={}){const{closeOnBlur:e=!0,closeOnEsc:r=!0,initialFocusRef:o,id:n,returnFocusOnClose:a=!0,autoFocus:i=!0,arrowSize:u,arrowShadowColor:d,trigger:l=S.click,openDelay:m=200,closeDelay:P=200,isLazy:x,lazyBehavior:U="unmount",computePositionOnMount:$,...K}=t,{isOpen:f,onClose:h,onOpen:N,onToggle:le}=jt(t),W=p.useRef(null),R=p.useRef(null),F=p.useRef(null),G=p.useRef(!1),ce=p.useRef(!1);f&&(ce.current=!0);const[ue,Je]=p.useState(!1),[de,ze]=p.useState(!1),Ue=p.useId(),$e=n??Ue,[pe,B,E,D]=["popover-trigger","popover-content","popover-header","popover-body"].map(c=>`${c}-${$e}`),{referenceRef:I,getArrowProps:Ke,getPopperProps:me,getArrowInnerProps:We,forceUpdate:qe}=wt({...K,enabled:f||!!$}),fe=Tt({isOpen:f,ref:F});Wt({enabled:f,ref:R}),At(F,{focusRef:R,visible:f,shouldFocus:a&&l===S.click}),_t(F,{focusRef:o,visible:f,shouldFocus:i&&l===S.click});const ye=Rt({wasSelected:ce.current,enabled:x,mode:U,isSelected:fe.present}),Ye=p.useCallback((c={},b=null)=>{const y={...c,style:{...c.style,transformOrigin:Z.transformOrigin.varRef,[Z.arrowSize.var]:u?`${u}px`:void 0,[Z.arrowShadowColor.var]:d},ref:k(F,b),children:ye?c.children:null,id:B,tabIndex:-1,role:"dialog",onKeyDown:v(c.onKeyDown,j=>{r&&j.key==="Escape"&&h()}),onBlur:v(c.onBlur,j=>{const H=Pe(j),Y=Q(F.current,H),rt=Q(R.current,H);f&&e&&(!Y&&!rt)&&h()}),"aria-labelledby":ue?E:void 0,"aria-describedby":de?D:void 0};return l===S.hover&&(y.role="tooltip",y.onMouseEnter=v(c.onMouseEnter,()=>{G.current=!0}),y.onMouseLeave=v(c.onMouseLeave,j=>{j.nativeEvent.relatedTarget!==null&&(G.current=!1,setTimeout(()=>h(),P))})),y},[ye,B,ue,E,de,D,l,r,h,f,e,P,d,u]),Ze=p.useCallback((c={},b=null)=>me({...c,style:{visibility:f?"visible":"hidden",...c.style}},b),[f,me]),Qe=p.useCallback((c,b=null)=>({...c,ref:k(b,W,I)}),[W,I]),C=p.useRef(),q=p.useRef(),ge=p.useCallback(c=>{W.current==null&&I(c)},[I]),Xe=p.useCallback((c={},b=null)=>{const y={...c,ref:k(R,b,ge),id:pe,"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":B};return l===S.click&&(y.onClick=v(c.onClick,le)),l===S.hover&&(y.onFocus=v(c.onFocus,()=>{C.current===void 0&&N()}),y.onBlur=v(c.onBlur,j=>{const H=Pe(j),Y=!Q(F.current,H);f&&e&&Y&&h()}),y.onKeyDown=v(c.onKeyDown,j=>{j.key==="Escape"&&h()}),y.onMouseEnter=v(c.onMouseEnter,()=>{G.current=!0,C.current=window.setTimeout(()=>N(),m)}),y.onMouseLeave=v(c.onMouseLeave,()=>{G.current=!1,C.current&&(clearTimeout(C.current),C.current=void 0),q.current=window.setTimeout(()=>{G.current===!1&&h()},P)})),y},[pe,f,B,l,ge,le,N,e,h,m,P]);p.useEffect(()=>()=>{C.current&&clearTimeout(C.current),q.current&&clearTimeout(q.current)},[]);const et=p.useCallback((c={},b=null)=>({...c,id:E,ref:k(b,y=>{Je(!!y)})}),[E]),tt=p.useCallback((c={},b=null)=>({...c,id:D,ref:k(b,y=>{ze(!!y)})}),[D]);return{forceUpdate:qe,isOpen:f,onAnimationComplete:fe.onComplete,onClose:h,getAnchorProps:Qe,getArrowProps:Ke,getArrowInnerProps:We,getPopoverPositionerProps:Ze,getPopoverProps:Ye,getTriggerProps:Xe,getHeaderProps:et,getBodyProps:tt}}function Q(t,e){return t===e||t?.contains(e)}function Pe(t){var e;const r=t.currentTarget.ownerDocument.activeElement;return(e=t.relatedTarget)!=null?e:r}function Ae(t){const e=xt("Popover",t),{children:r,...o}=Ct(t),n=Ot(),a=Zt({...o,direction:n.direction});return s.jsx(qt,{value:a,children:s.jsx(Yt,{value:e,children:Ft(r,{isOpen:a.isOpen,onClose:a.onClose,forceUpdate:a.forceUpdate})})})}Ae.displayName="Popover";var X=(t,e)=>e?`${t}.${e}, ${e}`:void 0;function _e(t){var e;const{bg:r,bgColor:o,backgroundColor:n,shadow:a,boxShadow:i,shadowColor:u}=t,{getArrowProps:d,getArrowInnerProps:l}=O(),m=_(),P=(e=r??o)!=null?e:n,x=a??i;return s.jsx(M.div,{...d(),className:"chakra-popover__arrow-positioner",children:s.jsx(M.div,{className:A("chakra-popover__arrow",t.className),...l(t),__css:{"--popper-arrow-shadow-color":X("colors",u),"--popper-arrow-bg":X("colors",P),"--popper-arrow-shadow":X("shadows",x),...m.arrow}})})}_e.displayName="PopoverArrow";var Re=T(function(e,r){const{getBodyProps:o}=O(),n=_();return s.jsx(M.div,{...o(e,r),className:A("chakra-popover__body",e.className),__css:n.body})});Re.displayName="PopoverBody";var Be=T(function(e,r){const{onClose:o}=O(),n=_();return s.jsx(St,{size:"sm",onClick:o,className:A("chakra-popover__close-btn",e.className),__css:n.closeButton,ref:r,...e})});Be.displayName="PopoverCloseButton";function Qt(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}var Xt={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},er=M(Mt.section),Ee=T(function(e,r){const{variants:o=Xt,...n}=e,{isOpen:a}=O();return s.jsx(er,{ref:r,variants:Qt(o),initial:!1,animate:a?"enter":"exit",...n})});Ee.displayName="PopoverTransition";var De=T(function(e,r){const{rootProps:o,motionProps:n,...a}=e,{getPopoverProps:i,getPopoverPositionerProps:u,onAnimationComplete:d}=O(),l=_(),m={position:"relative",display:"flex",flexDirection:"column",...l.content};return s.jsx(M.div,{...u(o),__css:l.popper,className:"chakra-popover__popper",children:s.jsx(Ee,{...n,...i(a,r),onAnimationComplete:Lt(d,a.onAnimationComplete),className:A("chakra-popover__content",e.className),__css:m})})});De.displayName="PopoverContent";function tr(t){return"parentLayer"in t}function Jr(t){return"olLayer"in t}class rr{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=je,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let o=r.dataProjection?w(r.dataProjection):this.readProjection(e);r.extent&&o&&o.getUnits()==="tile-pixels"&&(o=w(o),o.setWorldExtent(r.extent)),r={dataProjection:o,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return g()}readFeature(e,r){return g()}readFeatures(e,r){return g()}readGeometry(e,r){return g()}readProjection(e){return g()}writeFeature(e,r){return g()}writeFeatures(e,r){return g()}writeGeometry(e,r){return g()}}function ne(t,e,r){const o=r?w(r.featureProjection):null,n=r?w(r.dataProjection):null;let a=t;if(o&&n&&!ot(o,n)){e&&(a=t.clone());const i=e?o:n,u=e?n:o;i.getUnits()==="tile-pixels"?a.transform(i,u):a.applyTransform(nt(i,u))}if(e&&r&&r.decimals!==void 0){const i=Math.pow(10,r.decimals),u=function(d){for(let l=0,m=d.length;l<m;++l)d[l]=Math.round(d[l]*i)/i;return d};a===t&&(a=t.clone()),a.applyTransform(u)}return a}const or={Point:st,LineString:Pt,Polygon:at,MultiPoint:gt,MultiLineString:ht,MultiPolygon:bt};function nr(t,e,r){return Array.isArray(e[0])?(it(t,0,e,r)||(t=t.slice(),lt(t,0,e,r)),t):(ct(t,0,e,r)||(t=t.slice(),ut(t,0,e,r)),t)}function Ie(t,e){const r=t.geometry;if(!r)return[];if(Array.isArray(r))return r.map(a=>Ie({...t,geometry:a})).flat();const o=r.type==="MultiPolygon"?"Polygon":r.type;if(o==="GeometryCollection"||o==="Circle")throw new Error("Unsupported geometry type: "+o);const n=r.layout.length;return ne(new we(o,o==="Polygon"?nr(r.flatCoordinates,r.ends,n):r.flatCoordinates,r.ends?.flat(),n,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function se(t,e){if(!t)return null;if(Array.isArray(t)){const o=t.map(n=>se(n,e));return new yt(o)}const r=or[t.type];return ne(new r(t.flatCoordinates,t.layout,t.ends),!1,e)}class sr extends rr{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(V(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(V(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return g()}readFeaturesFromObject(e,r){return g()}readGeometry(e,r){return this.readGeometryFromObject(V(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return g()}readProjection(e){return this.readProjectionFromObject(V(e))}readProjectionFromObject(e){return g()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return g()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return g()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return g()}}function V(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class zr extends sr{constructor(e){e=e||{},super(),this.dataProjection=w(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=w(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let o=null;e.type==="Feature"?o=e:o={type:"Feature",geometry:e,properties:null};const n=ae(o.geometry);if(this.featureClass===we)return Ie({geometry:n,id:o.id,properties:o.properties},r);const a=new je;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&o.geometry_name&&a.setGeometryName(o.geometry_name),a.setGeometry(se(n,r)),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties,!0),a}readFeaturesFromObject(e,r){const o=e;let n=null;if(o.type==="FeatureCollection"){const a=e;n=[];const i=a.features;for(let u=0,d=i.length;u<d;++u){const l=this.readFeatureFromObject(i[u],r);l&&n.push(l)}}else n=[this.readFeatureFromObject(e,r)];return n.flat()}readGeometryFromObject(e,r){return ar(e,r)}readProjectionFromObject(e){const r=e.crs;let o;if(r)if(r.type=="name")o=w(r.properties.name);else if(r.type==="EPSG")o=w("EPSG:"+r.properties.code);else throw new Error("Unknown SRS type");else o=this.dataProjection;return o}writeFeatureObject(e,r){r=this.adaptOptions(r);const o={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(o.id=n),!e.hasProperties())return o;const a=e.getProperties(),i=e.getGeometry();return i&&(o.geometry=re(i,r),delete a[e.getGeometryName()]),dt(a)||(o.properties=a),o}writeFeaturesObject(e,r){r=this.adaptOptions(r);const o=[];for(let n=0,a=e.length;n<a;++n)o.push(this.writeFeatureObject(e[n],r));return{type:"FeatureCollection",features:o}}writeGeometryObject(e,r){return re(e,this.adaptOptions(r))}}function ae(t,e){if(!t)return null;let r;switch(t.type){case"Point":{r=lr(t);break}case"LineString":{r=cr(t);break}case"Polygon":{r=mr(t);break}case"MultiPoint":{r=dr(t);break}case"MultiLineString":{r=ur(t);break}case"MultiPolygon":{r=pr(t);break}case"GeometryCollection":{r=ir(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return r}function ar(t,e){const r=ae(t);return se(r,e)}function ir(t,e){return t.geometries.map(function(o){return ae(o)})}function lr(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:L(e.length)}}function cr(t){const e=t.coordinates,r=e.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:L(e[0]?.length||2)}}function ur(t){const e=t.coordinates,r=e[0]?.[0]?.length||2,o=[],n=xe(o,0,e,r);return{type:"MultiLineString",flatCoordinates:o,ends:n,layout:L(r)}}function dr(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:L(e[0]?.length||2)}}function pr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.[0].length||2,n=pt(r,0,e,o);return{type:"MultiPolygon",flatCoordinates:r,ends:n,layout:L(o)}}function mr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.length,n=xe(r,0,e,o);return{type:"Polygon",flatCoordinates:r,ends:n,layout:L(o)}}function re(t,e){t=ne(t,!0,e);const r=t.getType();let o;switch(r){case"Point":{o=Pr(t);break}case"LineString":{o=yr(t);break}case"Polygon":{o=vr(t,e);break}case"MultiPoint":{o=hr(t);break}case"MultiLineString":{o=gr(t);break}case"MultiPolygon":{o=br(t,e);break}case"GeometryCollection":{o=fr(t,e);break}case"Circle":{o={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return o}function fr(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(o){return re(o,e)})}}function yr(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function gr(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function hr(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function br(t,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function Pr(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function vr(t,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}const Ur=p.forwardRef(function(e,r){const{label:o,icon:n,onClick:a,isLoading:i,isDisabled:u,isActive:d,tooltipProps:l,buttonProps:m}=e,{containerProps:{className:P,...x}}=Ce("tool-button",e),U=Oe(P,{"tool-button--active":d,"tool-button--loading":i,"tool-button--disabled":u}),$=typeof d=="boolean"?d?"true":"false":void 0,[K,f]=p.useState(!1),h=N=>{f(!1),a?.(N)};return s.jsx(Se,{label:o,placement:"auto",openDelay:500,...l,isOpen:K,onOpen:()=>f(!0),onClose:()=>f(!1),children:s.jsx(jr,{className:U,ref:r,"aria-label":o,leftIcon:n,iconSpacing:0,padding:0,isDisabled:u,isLoading:i,isActive:d,"aria-pressed":$,...x,...m,onClick:h})})}),jr=p.forwardRef(function(e,r){const{"aria-labelledby":o,"aria-describedby":n,...a}=e;return s.jsx(oe,{ref:r,...a})}),wr="@open-pioneer/toc",ie=mt.bind(void 0,wr);function xr(t){const{map:e,"aria-label":r}=t,o=ie(),n=Fr(e);return n.length?He(n,o,{"aria-label":r}):s.jsx(te,{className:"toc-missing-layers","aria-label":r,children:o.formatMessage({id:"missingLayers"})})}function He(t,e,r){const o=t.map(n=>s.jsx(Cr,{layer:n,intl:e},n.id));return s.jsx(kt,{as:"ul",className:"toc-layer-list",listStyleType:"none",role:"group",...r,children:o})}function Cr(t){const{layer:e,intl:r}=t,{title:o,description:n,isVisible:a}=z(()=>({title:e.title,description:e.description,isVisible:e.visible}),[e]),i=Sr(e),u=Ve(e)!=="error",d=r.formatMessage({id:"layerNotAvailable"});let l;return i?.length&&(l=He(i,r,{ml:4,"aria-label":r.formatMessage({id:"childgroupLabel"},{title:o})})),s.jsxs(J,{as:"li",className:Oe("toc-layer-item",`layer-${Mr(e.id)}`),children:[s.jsxs(ee,{className:"toc-layer-item-content",width:"100%",flexDirection:"row",align:"center",justifyContent:"space-between",gap:2,minHeight:10,children:[s.jsx(Et,{"aria-label":o+(u?"":" "+d),isChecked:a,isDisabled:!u,onChange:m=>e.setVisible(m.target.checked),children:o}),!u&&s.jsx(Se,{className:"toc-layer-item-content-tooltip",label:d,placement:"right",openDelay:500,children:s.jsx("span",{children:s.jsx(Gt,{className:"toc-layer-item-content-icon",color:"red","aria-label":d})})}),s.jsx(Ne,{}),n&&s.jsx(Or,{layer:e,title:o,description:n,intl:r})]}),l]})}function Or(t){const{layer:e,title:r,description:o,intl:n}=t,a=n.formatMessage({id:"descriptionLabel"}),i=Ve(e)!=="error";return s.jsxs(Ae,{placement:"bottom-start",children:[s.jsx(Te,{children:s.jsx(oe,{isDisabled:!i,className:"toc-layer-item-details-button","aria-label":a,borderRadius:"full",iconSpacing:0,padding:0,variant:"ghost",leftIcon:s.jsx(Le,{})})}),s.jsx(Me,{children:s.jsxs(De,{className:"toc-layer-item-details",overflowY:"auto",maxHeight:"400",children:[s.jsx(_e,{}),s.jsx(Be,{mt:1}),s.jsx(ke,{children:r}),s.jsx(Re,{children:o})]})})]})}function Fr(t){return z(()=>{const e=t.layers.getOperationalLayers({sortByDisplayOrder:!0})??[];return e.reverse(),e},[t])}function Sr(t){return z(()=>{if(t.layers)return t.layers.getLayers({sortByDisplayOrder:!0}).reverse();const e=t.sublayers?.getSublayers({sortByDisplayOrder:!0});if(e)return e.reverse(),e},[t])}function Ve(t){return z(()=>(tr(t)?t.parentLayer:t).loadState,[t])}function Mr(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}const Lr=t=>{const e=ie(),{map:r,showHideAllLayers:o=!0}=t;return!!o&&s.jsx(J,{className:"toc-tools",children:s.jsxs(Bt,{placement:"bottom-start",children:[s.jsx(Dt,{as:oe,className:"toc-tools-button","aria-label":e.formatMessage({id:"toolsLabel"}),borderRadius:"full",iconSpacing:0,padding:3,variant:"ghost",leftIcon:s.jsx(Le,{})}),s.jsx(Me,{children:s.jsx(It,{className:"tools-menu",children:s.jsx(Ht,{"aria-label":e.formatMessage({id:"tools.hideAllLayers"}),onClick:()=>{Nr(r)},children:e.formatMessage({id:"tools.hideAllLayers"})})})})]})})};function Nr(t){const e=o=>{o?.getSublayers().forEach(n=>{n.setVisible(!1),e(n?.sublayers)})},r=o=>{o?.getLayers().forEach(n=>{n.setVisible(!1),n.layers?r(n.layers):n.sublayers&&e(n.sublayers)})};t?.layers.getOperationalLayers().forEach(o=>{o.setVisible(!1),e(o?.sublayers),r(o?.layers)})}const ve=2,$r=t=>{const e=ie(),{showTools:r=!1,toolsConfig:o,showBasemapSwitcher:n=!0,basemapSwitcherProps:a}=t,{containerProps:i}=Ce("toc",t),u=p.useId(),d=ft(t);let l;switch(d.kind){case"loading":l=null;break;case"rejected":l=s.jsx(te,{className:"toc-error",children:e.formatMessage({id:"error"})});break;case"resolved":{const m=d.map,P=n&&s.jsx(J,{className:"toc-basemap-switcher",children:s.jsx(he,{title:s.jsx(be,{id:u,size:"sm",mb:ve,children:e.formatMessage({id:"basemapsLabel"})}),children:s.jsx(Nt,{map:m,"aria-labelledby":u,...a})})}),x=s.jsx(J,{className:"toc-operational-layers",children:s.jsx(he,{title:s.jsx(be,{size:"sm",mb:2,children:s.jsxs(ee,{children:[s.jsx(te,{my:3,children:e.formatMessage({id:"operationalLayerLabel"})}),s.jsx(Ne,{}),r&&s.jsx(Lr,{map:m,...o})]})}),children:s.jsx(xr,{map:m,"aria-label":e.formatMessage({id:"operationalLayerLabel"})})})});l=s.jsxs(s.Fragment,{children:[P,x]});break}}return s.jsx(ee,{...i,direction:"column",gap:ve,children:l})};export{rr as F,zr as G,Ae as P,Ur as T,Te as a,De as b,_e as c,Re as d,$r as e,Jr as i,ne as t,O as u};
