var qt=Object.defineProperty;var tt=o=>{throw TypeError(o)};var $t=(o,e,t)=>e in o?qt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var y=(o,e,t)=>$t(o,typeof e!="symbol"?e+"":e,t),Fe=(o,e,t)=>e.has(o)||tt("Cannot "+t);var s=(o,e,t)=>(Fe(o,e,"read from private field"),t?t.call(o):e.get(o)),m=(o,e,t)=>e.has(o)?tt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),f=(o,e,t,i)=>(Fe(o,e,"write to private field"),i?i.call(o,t):e.set(o,t),t),G=(o,e,t)=>(Fe(o,e,"access private method"),t);import{l as Kt,m as q,u as Zt,o as Yt,n as fe,p as Jt,q as Xt,r as v,j as a,s as Ue,B as C,c as Te,b as se,F as bt,t as yt,a as Qt,V as eo,f as to}from"./CilY7FyO6Rl3.js";import{aE as oo,aF as io,ag as ro,af as U,aG as no,aH as ao,ao as so,aI as lo,aJ as co,aK as po,a9 as uo,as as mo,aL as ot,aM as ho,aN as go,aO as it,aP as fo,aQ as vo,aR as Ve,V as bo,aS as rt,A as yo,L as wo,aT as xo,J as So,aU as Io,aV as _o,aW as Mo,aX as ko,aY as nt,S as qe,T as wt,O as xt,a as $e,b as St,aZ as ve,i as be,f as Ke,u as Ne,r as I,a_ as at,a$ as Eo,an as Co,j as _e,c as It,C as Lo,F as _t,ax as Mt,b0 as De,k as N,b1 as kt,g as Me,h as We,w as Et,b2 as Po,H as jo,M as Ao,D as Ro,l as To,m as st}from"./CSmiKdizJP8d.js";import{W as No}from"./Dlg1VqNw_sqn.js";import{W as Do,a as Go,b as Oo,S as zo,E as Fo,V as Vo}from"./CY-1r31j6PJg.js";import{G as Ct}from"./qJ8eJhSfJf-T.js";import{T as Ze}from"./Bj7cN7qkOzIJ.js";import{O as Lt,I as Ho,C as Wo,a as Bo,S as Uo,M as qo,P as $o,L as Ko,b as Pt,N as Zo}from"./CqnaKyfzTnUa.js";import{T as Yo,e as Jo}from"./DWSYd4wJ1TYc.js";import{u as L,s as Xo}from"./BijvRNQYcfni.js";import{a as Qo,S as ei,L as ti}from"./DONvJWieJaUk.js";import{Z as oi,a as ii,H as ri,b as ni,I as ai,V as si,S as li}from"./-3ZAm9AtCaDG.js";import{c as Ye}from"./xdScXFjN6s-F.js";import{M as ci,a as di,b as pi}from"./oqlO-O4whMei.js";import{M as ui}from"./Cy7ss6gga7Ek.js";import{u as Be}from"./hnzQPimfMtwE.js";import{I as mi}from"./B3YDfXTQi5NX.js";import{R as hi}from"./BvoZLiqUz_1_.js";import{N as gi,P as fi}from"./KONR8iZ-Avj1.js";import{_ as lt}from"./CmsKOCeNyeyo.js";import{F as vi}from"./BBrt1HOYTwGp.js";import{H as bi}from"./Dmf5wzxP0u3m.js";import{F as yi}from"./RthlauyR4DBd.js";import"./n4hly-pWbHU_.js";import"./Cqi0VnO_D_SD.js";import"./ZELZeNiQy5tD.js";import"./CzYrjwZokjtc.js";import"./CPKpkcGeZHQo.js";const[wi,jt]=Kt({name:"InputGroupStylesContext",errorMessage:`useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in "<InputGroup />" `}),Je=q(function(e,t){const i=Zt("Input",e),{children:r,className:n,...l}=Yt(e),c=fe("chakra-input__group",n),d={},p=Jt(r),h=i.field;p.forEach(g=>{i&&(h&&g.type.id==="InputLeftElement"&&(d.paddingStart=h.height??h.h),h&&g.type.id==="InputRightElement"&&(d.paddingEnd=h.height??h.h),g.type.id==="InputRightAddon"&&(d.borderEndRadius=0),g.type.id==="InputLeftAddon"&&(d.borderStartRadius=0))});const u=p.map(g=>{const w=Xt({size:g.props?.size||e.size,variant:g.props?.variant||e.variant});return g.type.id!=="Input"?v.cloneElement(g,w):v.cloneElement(g,Object.assign(w,d,g.props))});return a.jsx(Ue.div,{className:c,ref:t,__css:{width:"100%",display:"flex",position:"relative",isolation:"isolate",...i.group},"data-group":!0,...l,children:a.jsx(wi,{value:i,children:u})})});Je.displayName="InputGroup";const xi={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},Si=Ue("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),Xe=q(function(e,t){const{placement:i="left",...r}=e,n=xi[i]??{},l=jt();return a.jsx(Si,{ref:t,...r,__css:{...l.addon,...n}})});Xe.displayName="InputAddon";const At=q(function(e,t){return a.jsx(Xe,{ref:t,placement:"left",...e,className:fe("chakra-input__left-addon",e.className)})});At.displayName="InputLeftAddon";At.id="InputLeftAddon";const Qe=q(function(e,t){return a.jsx(Xe,{ref:t,placement:"right",...e,className:fe("chakra-input__right-addon",e.className)})});Qe.displayName="InputRightAddon";Qe.id="InputRightAddon";const Ii=Ue("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),Ge=q(function(e,t){const{placement:i="left",...r}=e,n=jt(),l=n.field,d={[i==="left"?"insetStart":"insetEnd"]:"0",width:l?.height??l?.h,height:l?.height??l?.h,fontSize:l?.fontSize,...n.element};return a.jsx(Ii,{ref:t,__css:d,...r})});Ge.id="InputElement";Ge.displayName="InputElement";const Rt=q(function(e,t){const{className:i,...r}=e,n=fe("chakra-input__left-element",i);return a.jsx(Ge,{ref:t,placement:"left",className:n,...r})});Rt.id="InputLeftElement";Rt.displayName="InputLeftElement";const et=q(function(e,t){const{className:i,...r}=e,n=fe("chakra-input__right-element",i);return a.jsx(Ge,{ref:t,placement:"right",className:n,...r})});et.id="InputRightElement";et.displayName="InputRightElement";const b={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},_i={ERROR:"error"};class Mi extends so{constructor(e){super(_i.ERROR),this.code=e.code,this.message=e.message}}let ki=class extends oo{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=io,this.watchId_=void 0,this.addChangeListener(b.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(b.TRACKING,this.handleTrackingChanged_),e.projection!==void 0&&this.setProjection(e.projection),e.trackingOptions!==void 0&&this.setTrackingOptions(e.trackingOptions),this.setTracking(e.tracking!==void 0?e.tracking:!1)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=ro(U("EPSG:4326"),e),this.position_&&this.set(b.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!e&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const t=e.coords;this.set(b.ACCURACY,t.accuracy),this.set(b.ALTITUDE,t.altitude===null?void 0:t.altitude),this.set(b.ALTITUDE_ACCURACY,t.altitudeAccuracy===null?void 0:t.altitudeAccuracy),this.set(b.HEADING,t.heading===null?void 0:no(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const i=this.transform_(this.position_);this.set(b.POSITION,i.slice()),this.set(b.SPEED,t.speed===null?void 0:t.speed);const r=ao(this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(b.ACCURACY_GEOMETRY,r),this.changed()}positionError_(e){this.dispatchEvent(new Mi(e))}getAccuracy(){return this.get(b.ACCURACY)}getAccuracyGeometry(){return this.get(b.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(b.ALTITUDE)}getAltitudeAccuracy(){return this.get(b.ALTITUDE_ACCURACY)}getHeading(){return this.get(b.HEADING)}getPosition(){return this.get(b.POSITION)}getProjection(){return this.get(b.PROJECTION)}getSpeed(){return this.get(b.SPEED)}getTracking(){return this.get(b.TRACKING)}getTrackingOptions(){return this.get(b.TRACKING_OPTIONS)}setProjection(e){this.set(b.PROJECTION,U(e))}setTracking(e){this.set(b.TRACKING,e)}setTrackingOptions(e){this.set(b.TRACKING_OPTIONS,e)}};const Ei=1.2;function Ci(o,e=Ei){Li(o);const t=lo(o),i=co(o),r=t*e,n=i*e;return[o[0]-(r-t)/2,o[1]-(n-i)/2,o[2]+(r-t)/2,o[3]+(n-i)/2]}function Li(o){if(o.length!==4)throw new Error(`Invalid extent (expected length 4, but got length ${o.length}).`)}const He=.75,Se=.1;let Pi=class extends po{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=e.rotateWithView!==void 0?e.rotateWithView:!1,this.viewExtent_=void 0;const t=e.className!==void 0?e.className:"ol-overviewmap",i=e.tipLabel!==void 0?e.tipLabel:"Overview map",r=e.collapseLabel!==void 0?e.collapseLabel:"‹";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;const n=e.label!==void 0?e.label:"›";typeof n=="string"?(this.label_=document.createElement("span"),this.label_.textContent=n):this.label_=n;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,c=document.createElement("button");c.setAttribute("type","button"),c.title=i,c.appendChild(l),c.addEventListener(uo.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const d=new mo({view:e.view,controls:new ot,interactions:new ot});this.ovmap_=d,e.layers&&e.layers.forEach(function(S){d.addLayer(S)});const p=document.createElement("div");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",this.boxOverlay_=new Lt({position:[0,0],positioning:"center-center",element:p}),this.ovmap_.addOverlay(this.boxOverlay_);const h=t+" "+ho+" "+go+(this.collapsed_&&this.collapsible_?" "+it:"")+(this.collapsible_?"":" ol-uncollapsible"),u=this.element;u.className=h,u.appendChild(this.ovmapDiv_),u.appendChild(c);const g=this,w=this.boxOverlay_,P=this.boxOverlay_.getElement(),Oe=function(S){return{clientX:S.clientX,clientY:S.clientY}},D=function(S){const ae=Oe(S),xe=d.getEventCoordinate(ae);w.setPosition(xe)},we=function(S){const ae=d.getEventCoordinateInternal(S);g.getMap().getView().setCenterInternal(ae),window.removeEventListener("pointermove",D),window.removeEventListener("pointerup",we)};this.ovmapDiv_.addEventListener("pointerdown",function(){event.target===P&&window.addEventListener("pointermove",D),window.addEventListener("pointerup",we)})}setMap(e){const t=this.getMap();if(e!==t){if(t){const i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(fo(e,vo.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const i=e.getView();i&&this.bindView_(i),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===Ve.VIEW){const t=e.oldValue;t&&this.unbindView_(t);const i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(e.key===Ve.TARGET||e.key===Ve.SIZE)&&this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const t=new bo({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(rt.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_(),e.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())}unbindView_(e){e.removeChangeListener(rt.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView().calculateExtentInternal(i);if(this.viewExtent_&&yo(n,this.viewExtent_))return;this.viewExtent_=n;const l=t.getSize(),d=t.getView().calculateExtentInternal(l),p=t.getPixelFromCoordinateInternal(wo(n)),h=t.getPixelFromCoordinateInternal(xo(n)),u=Math.abs(p[0]-h[0]),g=Math.abs(p[1]-h[1]),w=l[0],P=l[1];u<w*Se||g<P*Se||u>w*He||g>P*He?this.resetExtent_():So(d,n)||this.recenter_()}resetExtent_(){const e=this.getMap(),t=this.ovmap_,i=e.getSize(),n=e.getView().calculateExtentInternal(i),l=t.getView(),c=Math.log(He/Se)/Math.LN2,d=1/(Math.pow(2,c/2)*Se);Io(n,d),l.fitInternal(_o(n))}recenter_(){const e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),r=e.getView(),n=t.getView(),l=this.rotateWithView_?0:-r.getRotation(),c=this.boxOverlay_,d=this.boxOverlay_.getElement(),p=r.getCenter(),h=r.getResolution(),u=n.getResolution(),g=i[0]*h/u,w=i[1]*h/u;if(c.setPosition(p),d){d.style.width=g+"px",d.style.height=w+"px";const P="rotate("+l+"rad)";d.style.transform=P}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Mo(this.ovmap_,ko.POSTRENDER,e=>{delete this.ovmapPostrenderKey_,this.updateBox_()}))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(it),this.collapsed_?nt(this.collapseLabel_,this.label_):nt(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered()){this.viewExtent_=void 0,e.render();return}e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){!this.collapsible_||this.collapsed_===e||this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}};const ji=Ye({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),Ai=Ye({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),Ri=Ye({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),Ti={height:"25px",width:"25px",borderColor:"#4cb3ff",borderWidth:"3px",borderRadius:"50%",display:"inline-block "};function Ni(o){return a.jsxs(C,{children:[a.jsx(Ze,{children:o.layer.title}),a.jsx(C,{style:Ti})]})}const re="main";class Di{mapId=re;vectorSourceFactory;constructor(e){this.vectorSourceFactory=e.references.vectorSourceFactory}async getMapConfig(){return{initialView:{kind:"position",center:{x:823091,y:6724521},zoom:8},layers:[new qe({title:"OSM",id:"osm",isBaseLayer:!0,olLayer:new wt({source:new xt})}),new Do({isBaseLayer:!0,title:"Orthofotos NRW",url:"https://www.wmts.nrw.de/geobasis/wmts_nw_dop/1.0.0/WMTSCapabilities.xml",name:"nw_dop",matrixSet:"EPSG_3857_16",sourceOptions:{attributions:'Die Geobasisdaten des amtlichen Vermessungswesens werden als öffentliche Aufgabe gem. VermKatG NRW und gebührenfrei nach Open Data-Prinzipien über online-Verfahren bereitgestellt. Nutzungsbedingungen: siehe <a href="https://www.bezreg-koeln.nrw.de/system/files/media/document/file/lizenzbedingungen_geobasis_nrw.pdf"</a>'}}),zi(),Oi(),Gi(this.vectorSourceFactory)]}}}function Gi(o){const e="https://ogc-api-test.nrw.de/inspire-us-krankenhaus/v1",t="governmentalservice",i=o.createVectorSource({baseUrl:e,collectionId:t,limit:1e3,crs:"http://www.opengis.net/def/crs/EPSG/0/3857",attributions:`Land NRW (${new Date().getFullYear()}), <a href='https://www.govdata.de/dl-de/by-2-0'>Datenlizenz Deutschland - Namensnennung - Version 2.0</a>, <a href='https://ogc-api-test.nrw.de/inspire-us-krankenhaus/v1'>Datenquelle</a>`}),r=new $e({source:i});return new qe({id:"krankenhaus",title:"Krankenhäuser-Demo-Dienst",visible:!1,olLayer:r,attributes:{collectionURL:e+"/collections/"+t}})}function Oi(){const o=new St({url:"https://ogc-api.nrw.de/inspire-us-kindergarten/v1/collections/governmentalservice/items?f=json&limit=10000",format:new Ct,attributions:'&copy; <a href="http://www.bkg.bund.de" target="_blank">Bundesamt f&uuml;r Kartographie und Geod&auml;sie</a> 2017, <a href="http://sg.geodatenzentrum.de/web_public/Datenquellen_TopPlus_Open.pdf" target="_blank">Datenquellen</a>'}),e=new $e({source:o}),t={Component:Ni};return new qe({id:"ogc_kitas",title:"Kindertagesstätten",visible:!0,olLayer:e,attributes:{legend:t}})}function zi(){return new No({title:"Verwaltungsgebiete",id:"verwaltungsgebiete",visible:!1,url:"https://www.wms.nrw.de/geobasis/wms_nw_dvg",sublayers:[{name:"nw_dvg_krs",title:"Kreise und kreisfreie Städte"}]})}const Fi="200px",Vi="300px",Hi=o=>{const{olLayer:e,height:t=Fi,width:i=Vi}=o,{containerProps:r}=ve("overview-map",o),n=v.useRef(null),{map:l}=be(o);return v.useEffect(()=>{if(n.current&&l&&e){const c=l.olMap,d=new Pi({className:"ol-overviewmap",layers:[e],collapsible:!1,collapsed:!1,target:n.current});return c.addControl(d),()=>{c.removeControl(d)}}},[l,e]),a.jsx(C,{height:t,width:i,ref:n,...r})};function Wi({intl:o}){return{id:"overviewMap",title:o.formatMessage({id:"demos.overviewMap.title"}),createModel(){const e=new wt({source:new xt});return{description:o.formatMessage({id:"demos.overviewMap.description"}),mainWidget:a.jsx(Hi,{olLayer:e}),destroy(){e.dispose()}}}}}class Bi{label;filteredTypes;httpService;constructor(e,t,i){this.label=e,this.filteredTypes=t,this.httpService=i}async search(e,{mapProjection:t,signal:i}){const r=await this.request(e,100,i),n=new Ct({dataProjection:"EPSG:4326",featureProjection:t});return r.features.filter(l=>this.filteredTypes.includes(l.properties.type)).map((l,c)=>{const d=n.readGeometry(l.geometry);return{id:l.properties.osm_id||c,label:this.createLabel(l),geometry:d,properties:l.properties}})}async request(e,t,i){const r=new URL("https://photon.komoot.io/api?");r.searchParams.set("q",e),r.searchParams.set("lang","de"),r.searchParams.set("lat","51.961563"),r.searchParams.set("lon","7.628202"),r.searchParams.set("limit",t.toString());const n=await this.httpService.fetch(r,{signal:i});if(!n.ok)throw new Error("Request failed: "+n.status);return await n.json()}createLabel(e){return`${e.properties.name} (${e.properties.osm_value?e.properties.osm_value+", ":""}${e.properties.postcode?e.properties.postcode+", ":""}${e.properties.city?e.properties.city+", ":""}${e.properties.country?e.properties.country+")":")"}`}}function Ui({intl:o,httpService:e,mapModel:t}){return{id:"searchAndHighlight",title:o.formatMessage({id:"demos.searchAndHighlight.title"}),createModel(){return new qi(o,t,e)}}}var le,ce,$,ke,K,ft;let qi=(ft=class{constructor(e,t,i){m(this,le);m(this,ce);m(this,$);y(this,"description");y(this,"mainWidget");m(this,ke,e=>{const t=e.result.geometry;t&&(s(this,K).call(this),f(this,$,$i(s(this,ce),[t])))});m(this,K,()=>{s(this,$)?.destroy(),f(this,$,void 0)});f(this,le,new Bi("Photon Geocoder",["city","street"],i)),f(this,ce,t),this.description=e.formatMessage({id:"demos.searchAndHighlight.description"}),this.mainWidget=a.jsx(Go,{sources:[s(this,le)],onSelect:s(this,ke),onClear:s(this,K)})}destroy(){s(this,K).call(this)}},le=new WeakMap,ce=new WeakMap,$=new WeakMap,ke=new WeakMap,K=new WeakMap,ft);function $i(o,e){const t=o.olMap.getViewport();return o.highlightAndZoom(e,{viewPadding:t&&t.offsetWidth<1e3?{top:150,right:75,bottom:50,left:75}:{top:150,right:400,bottom:50,left:400}})}const Tt="@open-pioneer/geolocation",Ki=Ke.bind(void 0,Tt),Nt=Ne.bind(void 0,Tt),ct=Te("geolocation:GeolocationController"),dt=17;var O,z;class Zi{constructor(e,t,i){y(this,"supported",!!navigator.geolocation);y(this,"map");y(this,"positionHighlightLayer");y(this,"geolocation");y(this,"onError");y(this,"maxZoom",dt);y(this,"accuracyFeature");y(this,"positionFeature");y(this,"changeHandlers",[]);y(this,"setMapToPosition",!0);y(this,"trackingOptions",{});y(this,"isInitialZoom",!0);m(this,O,I(!1));m(this,z,I(!1));this.map=e,this.onError=t,this.isInitialZoom=!0,this.accuracyFeature=new at,this.accuracyFeature.setStyle(ut()),this.positionFeature=new at,this.positionFeature.setStyle(pt()),this.positionHighlightLayer=new $e({source:new St({features:[this.accuracyFeature,this.positionFeature]})}),this.positionHighlightLayer.setZIndex(Eo);const r=i||Yi();this.geolocation=new ki({tracking:!1,trackingOptions:r,projection:e.olView?.getProjection()}),this.trackingOptions=r,this.geolocation.on("error",n=>this.handleGeolocationError(n))}destroy(){this.stopGeolocation(),this.geolocation?.setTracking(!1),this.geolocation.dispose(),this.accuracyFeature=void 0,this.positionFeature=void 0,this.positionHighlightLayer.dispose()}startGeolocation(){if(s(this,z).value)return;new Promise(t=>{s(this,z).value=!0,s(this,O).value=!0,this.geolocation?.setProjection(this.map.olView?.getProjection()),this.geolocation?.setTracking(!0);const i=this.geolocation.on("change:accuracyGeometry",()=>{const c=this.geolocation.getAccuracyGeometry()||void 0;if(this.accuracyFeature?.setGeometry(c),this.accuracyFeature?.getGeometry()!==void 0&&t(),this.isInitialZoom){const d=this?.accuracyFeature?.getGeometry()?.getExtent();if(d){const p=Ci(d);if(!p)return;this.map.olView.fit(p,{maxZoom:this.maxZoom}),this.isInitialZoom=!1}}}),r=this.geolocation.on("change:position",()=>{const c=this.geolocation.getPosition();c&&(c[0]||c[1])!==void 0&&(this.positionFeature?.setGeometry(new Co(c)),this.setMapToPosition&&this.map.olView.setCenter(c),this.positionFeature?.getGeometry()!==void 0&&t())}),n=this.map.olView.on("change:resolution",()=>{this.setMapToPosition=this.isInitialZoom}),l=this.map.olMap.on("pointermove",c=>{c.dragging&&(this.setMapToPosition=!1)});this.changeHandlers.push(i,r,n,l),this.map.olMap.addLayer(this.positionHighlightLayer)}).then(()=>{s(this,O).value=!1}).catch(t=>{ct.error("Failed to determine location",t)})}stopGeolocation(){this.geolocation?.setTracking(!1),s(this,z).value=!1,s(this,O).value=!1,this.trackingOptions={},this.setMapToPosition=!0,this.isInitialZoom=!0,this.changeHandlers.forEach(e=>{_e(e)}),this.changeHandlers=[],this.accuracyFeature?.setGeometry(void 0),this.positionFeature?.setGeometry(void 0),this.map.olMap.removeLayer(this.positionHighlightLayer)}get active(){return s(this,z).value}get loading(){return s(this,O).value}setPositionFeatureStyle(e){this.positionFeature?.setStyle(e??pt())}setAccuracyFeatureStyle(e){this.accuracyFeature?.setStyle(e??ut())}setMaxZoom(e){this.maxZoom=e??dt}getMaxZoom(){return this.maxZoom}getPositionFeature(){return this.positionFeature}getAccuracyFeature(){return this.accuracyFeature}getTrackingOptions(){return this.trackingOptions}getGeolocation(){return this.geolocation}handleGeolocationError(e){ct.error("Error from geolocation API:",e.message),this.stopGeolocation();const t=(()=>{switch(e.code){case 1:return"permission-denied";case 2:return"position-unavailable";case 3:return"timeout";default:return"unknown"}})();this.onError(t)}}O=new WeakMap,z=new WeakMap;const pt=()=>new It({image:new Lo({radius:6,fill:new _t({color:"#3399CC"}),stroke:new Mt({color:"#fff",width:2})})}),ut=()=>new It({stroke:new Mt({color:"#3399CC",width:3}),fill:new _t({color:"rgba(0, 0, 255, 0.05)"})}),Yi=()=>({enableHighAccuracy:!0,timeout:6e4,maximumAge:6e5}),Ji=v.forwardRef(function(e,t){const{maxZoom:i,positionFeatureStyle:r,accuracyFeatureStyle:n,trackingOptions:l}=e,{map:c}=be(e),d=Qi(c,i,l,r,n);return d&&a.jsx(Xi,{...e,controller:d,ref:t})}),Xi=v.forwardRef(function(e,t){const{controller:i,buttonProps:r}=e,{containerProps:n}=ve("geolocation",e),{isLoading:l,isActive:c}=L(()=>({isLoading:i.loading,isActive:i.active}),[i]),d=Nt(),p=i.supported?c?d.formatMessage({id:"locateMeEnd"}):d.formatMessage({id:"locateMeStart"}):d.formatMessage({id:"locateNotSupported"}),h=()=>{i.active?i.stopGeolocation():i.startGeolocation()};return a.jsx(Yo,{ref:t,buttonProps:r,label:p,icon:a.jsx(Qo,{}),onClick:()=>h(),isActive:c,isLoading:l,isDisabled:!i.supported,...n})});function Qi(o,e,t,i,r){const n=Nt(),l=Ki("notifier.NotificationService"),[c,d]=v.useState();return v.useEffect(()=>{if(!o)return;const p=u=>{const g=n.formatMessage({id:"error"}),w=(()=>{switch(u){case"permission-denied":return n.formatMessage({id:"permissionDenied"});case"position-unavailable":return n.formatMessage({id:"positionUnavailable"});case"timeout":return n.formatMessage({id:"timeout"});case"unknown":return n.formatMessage({id:"unknownError"})}})();l.notify({level:"error",title:g,message:w})},h=new Zi(o,p,t);return d(h),()=>{h.destroy(),d(void 0)}},[o,t,n,l]),v.useEffect(()=>{c?.setPositionFeatureStyle(i)},[c,i]),v.useEffect(()=>{c?.setAccuracyFeatureStyle(r)},[c,r]),v.useEffect(()=>{c?.setMaxZoom(e)},[c,e]),c}const er="@open-pioneer/scale-setter",tr=Ne.bind(void 0,er),or=[17471320,8735660,4367830,2183915,1091957,545978,272989,136494,68247,34123,17061,8530,4265,2132],ir=o=>{const{scales:e=or}=o,{containerProps:t}=ve("scale-setter",o),{map:i}=be(o),r=tr(),n=L(()=>i?.scale??1,[i]),l=e.map(d=>a.jsx(ci,{value:d,onClick:()=>i?.setScale(d),onFocus:p=>{p.target?.scrollIntoView?.({block:"nearest"})},className:"scale-setter-option",children:mt(r,d)},d)),c=mt(r,n);return a.jsx(C,{...t,children:a.jsxs(ui,{isLazy:!0,children:[a.jsx(di,{as:se,rightIcon:a.jsx(Ai,{}),className:"scale-setter-menubutton","aria-label":r.formatMessage({id:"button.ariaLabel"},{scale:c}),"aria-description":r.formatMessage({id:"button.ariaDescription"}),children:c}),a.jsx(bt,{children:a.jsx(pi,{className:"scale-setter-menuoptions",maxHeight:"20em",overflowY:"auto",children:l})})]})})};function mt(o,e){return"1 : "+o.formatNumber(e)}const Dt="@open-pioneer/coordinate-search",rr=Ke.bind(void 0,Dt),ye=Ne.bind(void 0,Dt);function nr(o){const{isInputValid:e,coordinateSearchInput:t,setCoordinateSearchInput:i,placeholder:r,placeholderString:n,onClear:l,onEnter:c}=o,d=ye(),p=a.jsx(Ho,{type:"text",value:t,onChange:u=>{i(u.target.value)},isInvalid:!e,backgroundColor:e?"undefined":"red.100",placeholder:n,errorBorderColor:"red.500","aria-label":d.formatMessage({id:"coordinateInput.ariaLabel"}),borderRightRadius:0,onKeyDown:u=>{u.key=="Enter"&&c()}});let h=null;return t!==""?h=a.jsx(ht,{className:"coordinate-input-clear-button",label:d.formatMessage({id:"coordinateInput.clearPlaceholder"}),onClick:()=>{i(""),l?.()},icon:a.jsx(Ri,{})}):typeof r=="object"&&(h=a.jsx(ht,{className:"coordinate-input-copy-button",label:d.formatMessage({id:"coordinateInput.copyPlaceholder"}),onClick:()=>{navigator.clipboard.writeText(n)},icon:a.jsx(ji,{})})),a.jsxs(Je,{className:"coordinate-input-field-group",children:[p,h]})}function ht(o){const{className:e,label:t,onClick:i,icon:r}=o;return a.jsx(et,{children:a.jsx(yt,{label:t,children:a.jsx(mi,{className:e,size:"sm",onClick:i,padding:0,icon:r,"aria-label":t})})})}const ar=Te("coordinate-search");function sr(o,e,t){if(o=="")return j("empty");if(!o.includes(" "))return j("tooltip.space");if(o.indexOf(" ")!=o.lastIndexOf(" "))return j("tooltip.spaceOne");const i=o.split(" ");if(i.length!=2||i[0]==""||i[1]=="")return j("tooltip.2coords");const r=e.parseNumber(i[0]),n=e.parseNumber(i[1]),l=[r,n];if(l.some(c=>Number.isNaN(c)))return j("tooltip.invalidNumbers");try{if(!gt(t,l)||!gt(U("EPSG:4326"),De(l,t,"EPSG:4326")))return j("tooltip.extent")}catch(c){return ar.warn("Failed to check if coordinates are in projection extent",c),j("tooltip.projection")}return{kind:"success",projection:t,coordinates:l}}function j(o){return{kind:o}}function gt(o,e){const t=o.getExtent();if(!t||t.length!==4)return!0;if(!e||e.length!==2)throw new Error(`Internal error: invalid coordinates ${e}.`);return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Gt(o,e,t){if(o[0]==null||o[1]==null)return"";const[i,r]=o,n=t.formatNumber(i,{maximumFractionDigits:e,minimumFractionDigits:e}),l=t.formatNumber(r,{maximumFractionDigits:e,minimumFractionDigits:e});return n+" "+l}const lr=v.memo(function(e){const{currentProjection:t,projections:i,portalElement:r,onProjectionChange:n}=e,l=ye(),c=cr(l),[d,p]=v.useState(!1),h=Be(u=>{!d&&u.key==="Enter"&&p(!0)});return a.jsx(Xo,{value:t,defaultValue:t,options:i,menuPlacement:"auto",menuPortalTarget:r.current,"aria-label":l.formatMessage({id:"coordinateInput.ariaLabel"}),classNamePrefix:"coordinate-input-select",isSearchable:!1,chakraStyles:{menu:u=>({...u,width:"max-content",minWidth:"100%"}),control:(u,{selectProps:{menuIsOpen:g}})=>({...u,width:"max-content",minWidth:"100%",color:"white",borderLeftStyle:"none",borderLeftRadius:0,padding:0,backgroundColor:`${g?"rgb(27, 75, 95)":"var(--chakra-colors-background_primary)"}`,_focus:{boxShadow:"var(--chakra-shadows-outline)"}}),valueContainer:u=>({...u,paddingEnd:0,cursor:"pointer"}),dropdownIndicator:(u,{selectProps:{menuIsOpen:g}})=>({...u,paddingStart:0,backgroundColor:`${g?"rgb(27, 75, 95)":"var(--chakra-colors-background_primary)"}`}),option:u=>({...u,_focus:{background:"var(--chakra-colors-trails-300)"}}),indicatorSeparator:(u,{selectProps:{menuIsOpen:g}})=>({...u,backgroundColor:`${g?"rgb(27, 75, 95)":"var(--chakra-colors-background_primary)"}`,borderColor:`${g?"rgb(27, 75, 95)":"var(--chakra-colors-background_primary)"}`})},ariaLiveMessages:c,onChange:u=>{u?.value!==void 0&&n(u)},onKeyDown:h,menuIsOpen:d,onMenuOpen:()=>p(!0),onMenuClose:()=>p(!1)})});function cr(o){return v.useMemo(()=>({onFocus:()=>"",onChange:n=>n.action=="select-option"||n.action=="initial-input-focus"?n.label+" "+o.formatMessage({id:"selected"}):"",guidance:()=>"",onFilter:()=>""}),[o])}function dr(o,e,t){const i=ye();return v.useMemo(()=>{let r;if(typeof o=="string")r=o;else if(!e)r="";else{const n=De(o,e,t.value);r=Gt(n,t.precision,i)}return r},[o,e,t,i])}const pr=3,ur=[{label:"WGS 84",value:U("EPSG:4326"),precision:3},{label:"Web Mercator",value:U("EPSG:3857"),precision:2}],Ot=o=>{const{onSelect:e,onClear:t,projections:i=ur,input:r,placeholder:n=""}=o,{containerProps:l}=ve("coordinate-input",o),{map:c}=be(o),d=ye(),p=L(()=>c?.projection,[c]),h=gr(i),[u,g]=v.useState(h[0]),w=Be(ze=>{if(!e||ze.kind!=="success"||p==null)return;const Ut=De(ze.coordinates,ze.projection,p);e({coords:Ut,projection:p})}),[P,Oe,D]=mr(r,p,u,w),we=dr(n,p,u),S=D.kind==="success"||D.kind==="empty",ae=Be(()=>{w(D)}),xe=v.useRef(null);return a.jsxs(C,{...l,children:[a.jsx(bt,{children:a.jsx("div",{ref:xe})}),a.jsx(N,{flexDirection:"row",flexDir:"row",children:a.jsx(yt,{label:S?void 0:d.formatMessage({id:D.kind}),hasArrow:!0,placement:"auto",isOpen:!S,className:"coordinate-input-tooltip",children:a.jsxs(Je,{className:"coordinate-input-group",children:[a.jsx(nr,{coordinateSearchInput:P,setCoordinateSearchInput:Oe,placeholder:n,placeholderString:we,onClear:t,isInputValid:S,onEnter:ae}),a.jsx(Qe,{padding:"0px",borderLeft:"0px",children:a.jsx(lr,{portalElement:xe,currentProjection:u,projections:h,onProjectionChange:g})})]})})})]})};function mr(o,e,t,i){const r=ye(),n=rr("runtime.NumberParserService"),[l]=v.useState(()=>new hr(r,t,n));v.useEffect(()=>{const h=o!==l.inputProp||t!==l.selectedProjection;if(l.setI18n(r,n),l.setInputProp(o),l.setSelectedProjection(t),l.setMapProjection(e),h){const u=l.validationResult;i(u)}},[l,r,n,o,t,e,i]);const{rawInput:c,validationResult:d}=L(()=>({rawInput:l.rawInput,validationResult:l.validationResult}),[l]),p=v.useCallback(h=>{l.setText(h)},[l]);return[c,p,d]}var Z,k,Y,F,J,V,Ee,X,Ie;class hr{constructor(e,t,i){m(this,X);m(this,Z);m(this,k);m(this,Y,I());m(this,F,I());m(this,J);m(this,V,I(""));m(this,Ee,kt(()=>sr(s(this,V).value,s(this,J).value,s(this,k).value.value)));f(this,Z,I(e)),f(this,k,I(t)),f(this,J,I(i))}get inputProp(){return s(this,F).value}get rawInput(){return s(this,V).value}get validationResult(){return s(this,Ee).value}get selectedProjection(){return s(this,k).value}setI18n(e,t){s(this,Z).value=e,s(this,J).value=t}setText(e){s(this,V).value=e}setSelectedProjection(e){e!==s(this,k).value&&(s(this,k).value=e,G(this,X,Ie).call(this))}setInputProp(e){e!==s(this,F).value&&(s(this,F).value=e,G(this,X,Ie).call(this))}setMapProjection(e){e!==s(this,Y).value&&(s(this,Y).value=e,G(this,X,Ie).call(this))}}Z=new WeakMap,k=new WeakMap,Y=new WeakMap,F=new WeakMap,J=new WeakMap,V=new WeakMap,Ee=new WeakMap,X=new WeakSet,Ie=function(){const e=s(this,F).value,t=s(this,Y).value,i=s(this,k).value,r=s(this,Z).value;if(t&&e){const n=De(e,t,i.value),l=Gt(n,i.precision,r);s(this,V).value=l}};function gr(o){return v.useMemo(()=>o.flatMap(t=>U(t.value)!=null?{label:t.label,value:U(t.value),precision:t.precision??pr}:[]),[o])}const fr=o=>{const{onSelect:e,onClear:t,projections:i}=o,{containerProps:r}=ve("coordinate-search",o),{map:n}=be(o),l=n?.olMap,{coordinates:c}=vr(l);return a.jsx(Ot,{...r,mapId:o.mapId,onSelect:d=>{n&&(l?.getView().setCenter(d.coords),e?.(d))},onClear:t,placeholder:c||"",projections:i})};function vr(o){const[e,t]=v.useState();return v.useEffect(()=>{if(!o)return;const i=o.on("pointermove",r=>{t(r.coordinate)});return()=>_e(i)},[o]),{coordinates:e}}function br({intl:o}){return{id:"coordinateViewer",title:o.formatMessage({id:"demos.coordinateViewer.title"}),createModel(){return{description:o.formatMessage({id:"demos.coordinateViewer.description"}),mainWidget:a.jsx(Wo,{})}}}}function yr({intl:o,notificationService:e}){return{id:"coordinateInput",title:o.formatMessage({id:"demos.coordinateInput.title"}),createModel(){return{description:o.formatMessage({id:"demos.coordinateInput.description"}),mainWidget:a.jsx(wr,{notificationService:e,intl:o})}}}}function wr(o){const{notificationService:e,intl:t}=o,[i,r]=v.useState();function n(c,d){e.notify({level:"info",message:t.formatMessage({id:"demos.coordinateInput.entered"},{coordinates:c.toString(),projection:d.getCode()}),displayDuration:4e3})}function l(){e.notify({level:"info",message:t.formatMessage({id:"demos.coordinateSearch.cleared"}),displayDuration:4e3}),r(void 0)}return a.jsxs(N,{direction:"column",gap:10,children:[a.jsx(Ot,{mapId:re,input:i,placeholder:t.formatMessage({id:"demos.coordinateInput.placeholder"}),onSelect:({coords:c,projection:d})=>n(c,d),onClear:l,projections:[{label:"EPSG:25832",value:"EPSG:25832"},{label:"WGS 84",value:"EPSG:4326"},{label:"Web Mercator",value:"EPSG:3857"},{label:"EPSG:25833",value:"EPSG:25833"},{label:"EPSG:31466",value:"EPSG:31466"},{label:"EPSG:31467",value:"EPSG:31467"},{label:"EPSG:3035",value:"EPSG:3035"}]}),a.jsx(se,{onClick:()=>{r([761166,6692084])},children:t.formatMessage({id:"demos.coordinateInput.setInput"})})]})}function xr({intl:o,notificationService:e}){return{id:"coordinateSearch",title:o.formatMessage({id:"demos.coordinateSearch.title"}),createModel(){return{description:o.formatMessage({id:"demos.coordinateSearch.description"}),mainWidget:a.jsx(Sr,{notificationService:e,intl:o})}}}}function Sr(o){const{notificationService:e,intl:t}=o;function i(n,l){e.notify({level:"info",message:t.formatMessage({id:"demos.coordinateSearch.entered"},{coordinates:n.toString(),projection:l.getCode()}),displayDuration:4e3})}function r(){e.notify({level:"info",message:t.formatMessage({id:"demos.coordinateSearch.cleared"}),displayDuration:4e3})}return a.jsx(N,{direction:"column",gap:10,children:a.jsx(fr,{mapId:re,onSelect:({coords:n,projection:l})=>i(n,l),onClear:r,projections:[{label:"EPSG:25832",value:"EPSG:25832"},{label:"WGS 84",value:"EPSG:4326"},{label:"Web Mercator",value:"EPSG:3857"},{label:"EPSG:25833",value:"EPSG:25833"},{label:"EPSG:31466",value:"EPSG:31466"},{label:"EPSG:31467",value:"EPSG:31467"},{label:"EPSG:3035",value:"EPSG:3035"}]})})}function Ir({intl:o}){return{id:"scaleViewer",title:o.formatMessage({id:"demos.scaleViewer.title"}),createModel(){return{description:o.formatMessage({id:"demos.scaleViewer.description"}),mainWidget:a.jsx(Bo,{})}}}}function _r({intl:o}){return{id:"scaleSetter",title:o.formatMessage({id:"demos.scaleSetter.title"}),createModel(){return{description:o.formatMessage({id:"demos.scaleSetter.description"}),mainWidget:a.jsx(ir,{})}}}}function Mr({intl:o}){return{id:"scaleBar",title:o.formatMessage({id:"demos.scaleBar.title"}),createModel(){return{description:o.formatMessage({id:"demos.scaleBar.description"}),tools:a.jsx(Uo,{})}}}}function kr({intl:o}){return{id:"measurement",title:o.formatMessage({id:"demos.measurement.title"}),createModel(){return{description:o.formatMessage({id:"demos.measurement.description"}),mainWidget:a.jsx(qo,{})}}}}function Er({intl:o}){return{id:"mapNavigation",title:o.formatMessage({id:"demos.mapNavigation.title"}),createModel(){return{description:o.formatMessage({id:"demos.mapNavigation.description"}),tools:a.jsxs(a.Fragment,{children:[a.jsx(oi,{}),a.jsx(ii,{}),a.jsx(ri,{}),a.jsx(ni,{}),a.jsx(ai,{})]})}}}}function Cr({intl:o}){return{id:"geolocation",title:o.formatMessage({id:"demos.geolocation.title"}),createModel(){return{description:o.formatMessage({id:"demos.geolocation.description"}),tools:a.jsx(Ji,{})}}}}function Lr({intl:o}){return{id:"spatialBookmarks",title:o.formatMessage({id:"demos.spatialBookmarks.title"}),createModel(){return{description:o.formatMessage({id:"demos.spatialBookmarks.description"}),mainWidget:a.jsx(ei,{})}}}}function Pr({intl:o}){return{id:"printing",title:o.formatMessage({id:"demos.printing.title"}),createModel(){return{description:o.formatMessage({id:"demos.printing.description"}),mainWidget:a.jsx($o,{})}}}}const zt="showcase-app",Ft=Ke.bind(void 0,zt),ne=Ne.bind(void 0,zt);function jr({intl:o,mapModel:e}){return{id:"tocLegend",title:o.formatMessage({id:"demos.tocLegend.title"}),createModel(){function t(r=!0){e.layers.getLayerById("verwaltungsgebiete").setVisible(r),e.layers.getLayerById("krankenhaus").setVisible(r),e.layers.getLayerById("ogc_kitas").setVisible(r)}function i(){t(!1),e?.layers.activateBaseLayer("osm")}return{description:o.formatMessage({id:"demos.tocLegend.description"}),mainWidget:a.jsx(Ar,{}),destroy:i}}}}function Ar(){const o=v.useId(),e=v.useId(),t=ne();return a.jsxs(a.Fragment,{children:[a.jsx(C,{role:"dialog","aria-labelledby":o,children:a.jsx(Me,{title:a.jsx(We,{id:o,size:"md",mb:2,children:a.jsx(Ze,{children:t.formatMessage({id:"demos.tocLegend.tocTitle"})})}),children:a.jsx(Jo,{showTools:!0,basemapSwitcherProps:{allowSelectingEmptyBasemap:!0}})})}),a.jsx(C,{pt:2,role:"dialog","aria-labelledby":e,children:a.jsx(Me,{title:a.jsx(We,{id:e,size:"md",mb:2,children:t.formatMessage({id:"demos.tocLegend.legendTitle"})}),children:a.jsx(Ko,{showBaseLayers:!0})})})]})}function Rr(o){return{id:"selectionResultList",title:o.intl.formatMessage({id:"demos.selectionResultList.title"}),createModel(){return new Tr(o)}}}var de,Q,ee,Ce,Le,vt;let Tr=(vt=class{constructor(e){m(this,de);m(this,Q);m(this,ee,I({key:0,input:void 0,open:!1}));y(this,"description");y(this,"mainWidget");m(this,Ce,e=>{const{results:t}=e,n={columns:[{id:"id",displayName:"ID",width:100,getPropertyValue(c){return c.id}},{propertyName:"pointOfContact.address.postCode",displayName:"PLZ",width:120},{propertyName:"name",displayName:"Name"},{propertyName:"inspireId",displayName:"inspireID"},{displayName:"Gefördert",width:160,getPropertyValue(c){switch(c.properties?.gefoerdert){case"ja":return!0;case"nein":return!1;default:return c.properties?.gefoerdert}}}],data:t,formatOptions:{numberOptions:{maximumFractionDigits:3},dateOptions:{dateStyle:"medium",timeStyle:"medium",timeZone:"UTC"}}},l=s(this,ee).value.key;s(this,ee).value={open:!0,key:l+1,input:n}});m(this,Le,e=>{console.log("Selected features: ",e.features)});const{mapModel:t,vectorSelectionSourceFactory:i,intl:r}=e;f(this,de,t),f(this,Q,Nr(t,i)),this.description=r.formatMessage({id:"demos.selectionResultList.description"}),this.mainWidget=a.jsx(Oo,{sources:[s(this,Q)],onSelectionComplete:s(this,Ce)}),t.layers.getLayerById("ogc_kitas").setVisible(!0)}destroy(){s(this,Q).destroy(),s(this,de).layers.getLayerById("ogc_kitas").setVisible(!1)}get listContainer(){const e=s(this,ee).value;if(!(!e.open||!e.input))return a.jsx(hi,{input:e.input,onSelectionChange:s(this,Le)},e.key)}},de=new WeakMap,Q=new WeakMap,ee=new WeakMap,Ce=new WeakMap,Le=new WeakMap,vt);function Nr(o,e){const t=o.layers.getLayerById("ogc_kitas");return e.createSelectionSource({vectorLayer:t.olLayer,label:t.title})}const Dr="krankenhaus";function Gr(o){return{id:"editing",title:o.intl.formatMessage({id:"demos.editing.title"}),createModel(){return new Or(o)}}}var pe,te;class Or{constructor(e){y(this,"description");y(this,"mainWidget");m(this,pe);m(this,te);const{mapModel:t,intl:i,editingService:r,notificationService:n}=e;f(this,pe,t),this.description=i.formatMessage({id:"demos.editing.description"}),f(this,te,new zr(t,r,n,i)),this.mainWidget=a.jsx(Fr,{editingController:s(this,te)}),this._setEditLayerVisible(!0)}destroy(){this._setEditLayerVisible(!1),s(this,te).stopEditing()}_setEditLayerVisible(e=!0){s(this,pe).layers.getLayerById(Dr).setVisible(e)}}pe=new WeakMap,te=new WeakMap;var x,_,H,W,A,E,B,R;class zr{constructor(e,t,i,r){m(this,x);m(this,_);m(this,H);m(this,W);m(this,A);m(this,E);m(this,B);m(this,R);f(this,x,I(!1)),f(this,_,e),f(this,H,t),f(this,W,i),f(this,A,r)}editingActive(){return s(this,x).value}startCreateWorkflow(){if(!s(this,x).value)try{s(this,x).value=!0;const e=s(this,_).layers.getLayerById("krankenhaus"),t=new URL(e.attributes.collectionURL+"/items"),i=s(this,H).createFeature(s(this,_),t);this._watchState(i),i.whenComplete().then(r=>{if(!r)return;s(this,W).notify({level:"info",message:s(this,A).formatMessage({id:"demos.editing.create.featureCreated"},{featureId:r.featureId})}),(e?.olLayer).getSource()?.refresh()}).catch(r=>{console.error(r)}).finally(()=>{s(this,x).value=!1})}catch(e){s(this,x).value=!1,console.error(e)}}startUpdateWorkflow(){if(!s(this,x).value)try{s(this,x).value=!0,f(this,R,this._createEditingSelectTooltip());const e=s(this,_).layers.getLayerById("krankenhaus"),t=e?.olLayer;f(this,E,new zo({layers:[t]})),s(this,_).olMap.addInteraction(s(this,E)),s(this,R).element.classList.remove("editing-tooltip-hidden"),f(this,B,s(this,E).on("select",i=>{const r=i.selected,n=i.deselected;if(r.length!==1||n.length!==0)return;this._stopUpdateSelection();const l=r[0];if(!l)throw Error("feature is undefined");const c=new URL(e.attributes.collectionURL+"/items"),d=s(this,H).updateFeature(s(this,_),c,l);this._watchState(d),d.whenComplete().then(p=>{p&&(s(this,W).notify({level:"info",message:s(this,A).formatMessage({id:"demos.editing.update.featureModified"},{featureId:p.featureId})}),t.getSource()?.refresh())}).catch(p=>{console.error(p)}).finally(()=>{s(this,x).value=!1})}))}catch(e){s(this,x).value=!1,console.error(e)}}_watchState(e){const t=Et(()=>[e.getState()],i=>{i[0]==="active:saving"&&s(this,W).notify({level:"info",message:s(this,A).formatMessage({id:"demos.editing.update.savingStared"})}),i[0]==="destroyed"&&(t.destroy(),console.log("destroyed"))})}_createEditingSelectTooltip(){const e=document.createElement("div");e.className="editing-tooltip editing-tooltip-hidden",e.textContent=s(this,A).formatMessage({id:"demos.editing.update.tooltip.select"});const t=new Lt({element:e,offset:[15,0],positioning:"center-left"}),i=s(this,_).olMap,r=i.on("pointermove",n=>{n.dragging||t.setPosition(n.coordinate)});return i.addOverlay(t),{overlay:t,element:e,destroy(){_e(r),i.removeOverlay(t)}}}_stopUpdateSelection(){s(this,E)&&s(this,_).olMap.removeInteraction(s(this,E)),s(this,B)&&_e(s(this,B)),s(this,R)&&s(this,R).destroy(),f(this,E,void 0),f(this,B,void 0),f(this,R,void 0)}stopEditing(){s(this,H).stop(re),this._stopUpdateSelection(),s(this,x).value=!1}}x=new WeakMap,_=new WeakMap,H=new WeakMap,W=new WeakMap,A=new WeakMap,E=new WeakMap,B=new WeakMap,R=new WeakMap;function Fr({editingController:o}){const e=ne(),t=L(()=>o.editingActive(),[o]),i=t?e.formatMessage({id:"demos.editing.activeInfo"}):e.formatMessage({id:"demos.editing.inactiveInfo"});return a.jsxs(a.Fragment,{children:[a.jsxs(N,{px:1,py:1,children:[a.jsx(se,{mr:2,isDisabled:t,onClick:()=>{o.startCreateWorkflow()},children:e.formatMessage({id:"demos.editing.startCreateButton"})}),a.jsx(se,{mr:2,isDisabled:t,onClick:()=>{o.startUpdateWorkflow()},children:e.formatMessage({id:"demos.editing.startUpdateButton"})}),a.jsx(se,{isDisabled:!t,onClick:()=>{o.stopEditing()},children:e.formatMessage({id:"demos.editing.stopButton"})})]}),a.jsx(N,{px:1,py:1,children:i})]})}function Vr(o){return[jr(o),br(o),yr(o),xr(o),Ir(o),_r(o),Mr(o),kr(o),Gr(o),Er(o),Cr(o),Lr(o),Wi(o),Pr(o),Rr(o),Ui(o)]}const Hr=Te("app::AppModel");var Pe,ue,me,T,M,je,Ae,ie,Vt,Ht;class Wr{constructor(e,t,i,r){m(this,ie);m(this,Pe);m(this,ue);m(this,me);m(this,T);m(this,M);m(this,je,kt(()=>Array.from(s(this,T).values())));m(this,Ae,[]);if(f(this,Pe,e),f(this,ue,t),f(this,me,i),f(this,T,new Map(r.map(l=>[l.id,l]))),s(this,T).size===0)throw new Error("No demos defined.");const n=r[0];f(this,M,I([n,n.createModel()])),G(this,ie,Vt).call(this),s(this,Ae).push(G(this,ie,Ht).call(this))}destroy(){s(this,M).value[1].destroy?.()}get currentDemo(){return s(this,M).value[0]}get currentDemoModel(){return s(this,M).value[1]}get allDemoInfos(){return s(this,je).value}selectDemo(e){const t=s(this,T).get(e);if(!t)throw new Error(`Demo '${e}' does not exist.`);Po(()=>{const[,i]=s(this,M).value;i.destroy?.(),s(this,M).value=[t,t.createModel()]})}}Pe=new WeakMap,ue=new WeakMap,me=new WeakMap,T=new WeakMap,M=new WeakMap,je=new WeakMap,Ae=new WeakMap,ie=new WeakSet,Vt=function(){const t=new URL(window.location.href).searchParams.get("demo");if(t){if(!s(this,T).has(t)){s(this,ue).notify({title:s(this,me).formatMessage({id:"demoSelection.notFound"},{demoId:t})});return}try{this.selectDemo(t)}catch(i){Hr.error("Failed to select demo from URL",i)}}},Ht=function(){return Et(()=>[s(this,M).value[0].id],([e])=>{const t=new URL(window.location.href);t.searchParams.set("demo",e),window.history.replaceState(null,"",t.toString())},{immediate:!0})};var oe,he,ge,Re,Wt;class Br{constructor(e){m(this,Re);m(this,oe,I({kind:"loading"}));m(this,he,[]);m(this,ge,!1);const{mapRegistry:t,httpService:i,notifier:r,vectorSelectionSourceFactory:n,editingService:l,notificationService:c}=e.references,d=e.intl;G(this,Re,Wt).call(this,{mapRegistry:t,httpService:i,notifier:r,vectorSelectionSourceFactory:n,editingService:l,intl:d,notificationService:c}).catch(p=>{s(this,oe).value={kind:"error",message:p.message||"Unknown error"}})}destroy(){f(this,ge,!0);for(const e of s(this,he))e.destroy()}get appState(){return s(this,oe).value}}oe=new WeakMap,he=new WeakMap,ge=new WeakMap,Re=new WeakSet,Wt=async function(e){const{mapRegistry:t,httpService:i,notifier:r,vectorSelectionSourceFactory:n,editingService:l,intl:c,notificationService:d}=e,p=await t.getMapModel(re);if(!p)throw new Error("No mapModel found.");const h=Vr({intl:c,httpService:i,mapModel:p,vectorSelectionSourceFactory:n,editingService:l,notificationService:d}),u={kind:"ready",appModel:new Wr(p,r,c,h),destroy(){this.appModel.destroy()}};if(s(this,ge)){u.destroy();return}s(this,oe).value=u,s(this,he).push(u)};const Ur={"showcase-app":{name:"showcase-app",services:{MapConfigProviderImpl:{name:"MapConfigProviderImpl",clazz:Di,provides:[{name:"map.MapConfigProvider",qualifier:void 0}],references:{vectorSourceFactory:{name:"ogc-features.VectorSourceFactory",qualifier:void 0,all:!1}}},AppInitModel:{name:"AppInitModel",clazz:Br,provides:[{name:"app.AppInitModel",qualifier:void 0}],references:{httpService:{name:"http.HttpService",qualifier:void 0,all:!1},mapRegistry:{name:"map.MapRegistry",qualifier:void 0,all:!1},notifier:{name:"notifier.NotificationService",qualifier:void 0,all:!1},vectorSelectionSourceFactory:{name:"selection.VectorSelectionSourceFactory",qualifier:void 0,all:!1},editingService:{name:"editing.EditingService",qualifier:void 0,all:!1},notificationService:{name:"notifier.NotificationService",qualifier:void 0,all:!1}}}},ui:{references:[{name:"app.AppInitModel",qualifier:void 0,all:!1},{name:"runtime.ApplicationContext",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/react-utils":{name:"@open-pioneer/react-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/notifier":{name:"@open-pioneer/notifier",services:{NotificationServiceImpl:{name:"NotificationServiceImpl",clazz:gi,provides:[{name:"notifier.NotificationService",qualifier:"notifier.NotificationService"}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/http":{name:"@open-pioneer/http",services:{HttpServiceImpl:{name:"HttpServiceImpl",clazz:jo,provides:[{name:"http.HttpService",qualifier:"http.HttpService"}],references:{interceptors:{name:"http.Interceptor",qualifier:void 0,all:!0}}}},ui:{references:[]},properties:{}},"@open-pioneer/reactivity":{name:"@open-pioneer/reactivity",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map":{name:"@open-pioneer/map",services:{MapRegistryImpl:{name:"MapRegistryImpl",clazz:Ao,provides:[{name:"map.MapRegistry",qualifier:void 0}],references:{providers:{name:"map.MapConfigProvider",qualifier:void 0,all:!0},httpService:{name:"http.HttpService",qualifier:void 0,all:!1}}}},ui:{references:[{name:"map.MapRegistry",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/coordinate-viewer":{name:"@open-pioneer/coordinate-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-bar":{name:"@open-pioneer/scale-bar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-viewer":{name:"@open-pioneer/scale-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/ogc-features":{name:"@open-pioneer/ogc-features",services:{VectorSourceFactory:{name:"VectorSourceFactory",clazz:si,provides:[{name:"ogc-features.VectorSourceFactory",qualifier:void 0}],references:{httpService:{name:"http.HttpService",qualifier:void 0,all:!1}}},SearchSourceFactory:{name:"SearchSourceFactory",clazz:li,provides:[{name:"ogc-features.SearchSourceFactory",qualifier:void 0}],references:{httpService:{name:"http.HttpService",qualifier:void 0,all:!1}}}},ui:{references:[]},properties:{}},"@open-pioneer/overview-map":{name:"@open-pioneer/overview-map",services:{},ui:{references:[]},properties:{}},"@open-pioneer/legend":{name:"@open-pioneer/legend",services:{},ui:{references:[]},properties:{}},"@open-pioneer/measurement":{name:"@open-pioneer/measurement",services:{},ui:{references:[]},properties:{}},"@open-pioneer/spatial-bookmarks":{name:"@open-pioneer/spatial-bookmarks",services:{},ui:{references:[{name:"local-storage.LocalStorageService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/printing":{name:"@open-pioneer/printing",services:{PrintingServiceImpl:{name:"PrintingServiceImpl",clazz:fi,provides:[{name:"printing.PrintingService",qualifier:void 0}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1},{name:"printing.PrintingService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/toc":{name:"@open-pioneer/toc",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-navigation":{name:"@open-pioneer/map-navigation",services:{},ui:{references:[]},properties:{}},"@open-pioneer/coordinate-search":{name:"@open-pioneer/coordinate-search",services:{},ui:{references:[{name:"runtime.NumberParserService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/editing":{name:"@open-pioneer/editing",services:{EditingServiceImpl:{name:"EditingServiceImpl",clazz:Fo,provides:[{name:"editing.EditingService",qualifier:void 0}],references:{mapRegistry:{name:"map.MapRegistry",qualifier:void 0,all:!1},httpService:{name:"http.HttpService",qualifier:void 0,all:!1}}}},ui:{references:[]},properties:{polygonStyle:{value:{"fill-color":"rgba(255,255,255,0.4)","stroke-color":"red","stroke-width":1.25,"circle-radius":3,"circle-fill-color":"red","circle-stroke-width":1.25,"circle-stroke-color":"red"},required:!1},vertexStyle:{value:{"circle-radius":3,"circle-fill-color":"red","circle-stroke-width":1.25,"circle-stroke-color":"red"},required:!1}}},"@open-pioneer/geolocation":{name:"@open-pioneer/geolocation",services:{},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/result-list":{name:"@open-pioneer/result-list",services:{},ui:{references:[]},properties:{}},"@open-pioneer/search":{name:"@open-pioneer/search",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-setter":{name:"@open-pioneer/scale-setter",services:{},ui:{references:[]},properties:{}},"@open-pioneer/selection":{name:"@open-pioneer/selection",services:{VectorSelectionSourceFactory:{name:"VectorSelectionSourceFactory",clazz:Vo,provides:[{name:"selection.VectorSelectionSourceFactory",qualifier:void 0}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}},"@open-pioneer/basemap-switcher":{name:"@open-pioneer/basemap-switcher",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-ui-components":{name:"@open-pioneer/map-ui-components",services:{},ui:{references:[]},properties:{}},"@open-pioneer/local-storage":{name:"@open-pioneer/local-storage",services:{LocalStorageServiceImpl:{name:"LocalStorageServiceImpl",clazz:ti,provides:[{name:"local-storage.LocalStorageService",qualifier:"local-storage.LocalStorageService"}],references:{}}},ui:{references:[]},properties:{storageId:{value:null,required:!1}}}},qr=':root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}.map-container .ol-viewport .ol-attribution{bottom:var(--map-padding-bottom);right:var(--map-padding-right)}.measurement-tooltip{position:relative;background:#fffc;border-radius:4px;color:#000;padding:4px 8px;opacity:1;white-space:nowrap;font-size:12px;cursor:default;-webkit-user-select:none;user-select:none;font-weight:700}.measurement-active-tooltip{background:#000000e6;border-radius:4px;border-color:#000000e6;opacity:.9;color:#fff}.measurement-finished-tooltip{background-color:#4cb3ffe6;color:#000;border:1px solid white}.measurement-active-tooltip:before,.measurement-finished-tooltip:before{border-top:6px solid rgba(0,0,0,.9);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.measurement-finished-tooltip:before{border-top-color:#4cb3ff}.printing-overlay{position:absolute;top:0;right:0;bottom:0;left:0;z-index:10000;-webkit-user-select:none;user-select:none;pointer-events:all;cursor:wait;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#b4b4b4cc}.printing-overlay-status{flex:1 1 auto;font-size:1.5em;text-align:center}.printing-scale-bar.ol-scale-bar{left:var(--printing-scale-bar-left);bottom:var(--printing-scale-bar-bottom)}.editing-tooltip{position:relative;background:#fffc;border-radius:4px;color:#000;padding:4px 8px;opacity:1;white-space:nowrap;font-size:12px;cursor:default;-webkit-user-select:none;user-select:none;font-weight:700}.editing-tooltip-hidden{visibility:hidden}.search-component .chakra-divider{display:none}.search-component .search-highlighted-match{font-weight:700}.search-component .search-value-container{cursor:text;padding-left:30px!important}.search-component .search-invisible{display:none}.selection-drag-box{background-color:#ffffff4d!important;border:3px solid var(--chakra-colors-background_primary)!important}.selection-tooltip{position:relative;background:#fffc;border-radius:4px;color:#000;padding:4px 8px;opacity:1;white-space:nowrap;font-size:12px;cursor:default;-webkit-user-select:none;user-select:none;font-weight:700}.selection .react-select{cursor:default}.map-container .selection-active{cursor:crosshair}.map-container .selection-inactive{cursor:no-drop}.selection-source-value.selection-source-value--disabled{opacity:.4}.selection-source-value.selection-source-value--disabled span{margin:0 6px 0 0}.map-anchor.main-map-anchor{overflow-x:hidden;overflow-y:auto}.map-container:focus-visible{outline:none}.map-container:focus-visible:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:3px solid var(--chakra-colors-trails-500)}@media screen and (max-width: 48em){.map-anchor.main-map-anchor{max-height:45%}}.scale-bar .ol-scale-bar{margin-bottom:8px;margin-right:8px}.scale-bar .ol-scale-bar,.scale-bar .ol-scale-line{position:relative;bottom:0;left:0;background:none}.scale-bar .ol-scale-bar .ol-scale-bar-inner,.scale-bar .ol-scale-bar .ol-scale-line-inner,.scale-bar .ol-scale-line .ol-scale-bar-inner,.scale-bar .ol-scale-line .ol-scale-line-inner{color:var(--chakra-white);border-color:var(--chakra-white)}.overview-map .ol-overviewmap{position:relative;height:100%;width:100%}.overview-map .ol-overviewmap:not(.ol-collapsed){border:1px solid black}.overview-map .ol-overviewmap .ol-overviewmap-map{border:none;width:100%;height:100%}.overview-map .ol-overviewmap .ol-overviewmap-box{border:2px solid red}.result-list-no-data-message{text-align:center;margin-top:50px;font-weight:700;font-size:larger}.result-list-table th,.result-list-table td{overflow-wrap:break-word}.result-list-table.result-list-table--is-resizing *{cursor:col-resize}.result-list-table thead{position:sticky;top:0;z-index:1;background:var(--chakra-colors-background_body)}.result-list-table th{position:relative;border-right-width:thin}.result-list-table tbody tr:hover{background:var(--chakra-colors-background_light)}.result-list-table .result-list-resizer{position:absolute;top:0;height:100%;right:0;width:8px;background:var(--chakra-colors-trails-100);transform:scaleX(.25);cursor:col-resize;-webkit-user-select:none;user-select:none;touch-action:none;padding-left:0}.result-list-table th:last-child .result-list-resizer{width:8px;transform:translate(50%) scaleX(.25)}.result-list-table th .result-list-resizer.result-list-resizer--is-resizing{background:var(--chakra-colors-trails-500);transform:scale(1)}.result-list-table th .result-list-resizer:hover{transform:scale(1)}',$r=["en","de"];function Kr(o){switch(o){case"en":return lt(()=>import("./DKK29aM8YWkR.js"),[],import.meta.url).then(e=>e.default);case"de":return lt(()=>import("./DgYNDnLG7GRt.js"),[],import.meta.url).then(e=>e.default)}throw new Error(`Unsupported locale: '${o}'`)}const Zr=Qt(qr),Yr=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:Kr,locales:$r,packages:Ur,styles:Zr},Symbol.toStringTag,{value:"Module"}));function Bt({label:o,children:e}){return a.jsxs(vi,{as:bi,maxWidth:{base:"none",md:"20em"},width:{base:"100%",sm:"47%",md:void 0},children:[a.jsx(yi,{flexBasis:{base:"8em",sm:"auto"},m:0,children:o}),e]})}const Jr=Te("app::DemoSelection");function Xr({appModel:o}){const e=ne(),{allDemos:t,currentDemo:i}=L(()=>({allDemos:o.allDemoInfos,currentDemo:o.currentDemo}),[o]),r=v.useMemo(()=>t.map(n=>a.jsx("option",{value:n.id,children:n.title},n.id)),[t]);return a.jsx(Bt,{label:e.formatMessage({id:"demoSelection.label"}),children:a.jsx(Pt,{value:i.id,onChange:n=>{const l=n.target.value;try{o.selectDemo(l)}catch(c){Jr.error("Failed to select demo",c)}},children:r})})}function Qr(){const o=ne(),e=Ft("runtime.ApplicationContext"),t=en(e.getLocale()),i=r=>{switch(r){case"en":e.setLocale("en-GB");break;case"de":e.setLocale("de-DE");break}};return a.jsx(Bt,{label:o.formatMessage({id:"localeSwitcher.label"}),children:a.jsxs(Pt,{value:t,onChange:r=>i(r.target.value),children:[a.jsx("option",{value:"de",children:o.formatMessage({id:"localeSwitcher.locale.de"})}),a.jsx("option",{value:"en",children:o.formatMessage({id:"localeSwitcher.locale.en"})})]})})}function en(o){const e=o.match(/^[a-z]+/i)?.[0];if(e==="en"||e=="de")return e;throw new Error("unexpected locale prefix: "+e)}function tn({appModel:o}){const e=ne();return a.jsxs(N,{as:"header",px:2,py:3,flexWrap:{base:"wrap",md:"nowrap"},alignItems:"baseline",gap:2,boxShadow:"1px 0px 3px rgba(0, 0, 0, 0.5)",bgColor:"white",zIndex:100,children:[a.jsx(We,{size:"md",flexShrink:0,flexGrow:1,textAlign:{base:"center",md:"left"},width:{base:"100%",md:"auto"},mb:{base:2,md:0},children:e.formatMessage({id:"header.title"})}),a.jsx(Xr,{appModel:o}),a.jsx(Qr,{})]})}function on(){const o=Ft("app.AppInitModel"),e=L(()=>o.appState,[o]);let t;switch(e.kind){case"loading":t="Loading...";break;case"error":t="Error: "+e.message;break;case"ready":t=a.jsx(rn,{state:e})}return t}function rn(o){const e=ne(),t=o.state.appModel,{currentDemo:i,currentDemoModel:r}=L(()=>({currentDemo:t.currentDemo,currentDemoModel:t.currentDemoModel}),[t]),n=L(()=>r.listContainer,[r]),l=v.useMemo(()=>({left:0,right:0,bottom:n!=null?400:0,top:0}),[n]);return a.jsxs(a.Fragment,{children:[a.jsx(Zo,{position:"top-right"}),a.jsx(N,{height:"100%",direction:"column",children:a.jsx(Me,{title:a.jsx(tn,{appModel:t}),children:a.jsx(N,{flex:"1",direction:"column",position:"relative",children:a.jsx(Ro,{mapId:re,children:a.jsxs(To,{viewPadding:l,role:"main","aria-label":e.formatMessage({id:"ariaLabels.map"}),children:[a.jsx(st,{className:"main-map-anchor",position:"top-left",horizontalGap:10,verticalGap:10,children:a.jsx(C,{bgColor:"white",borderRadius:10,p:2,maxW:"500px",children:a.jsxs(Me,{title:i.title,sectionHeadingProps:{size:"lg"},children:[a.jsx(Ze,{py:4,dangerouslySetInnerHTML:{__html:r.description}}),r.mainWidget]})})}),a.jsx(st,{position:"bottom-right",horizontalGap:6,children:a.jsx(eo,{p:1,children:r.tools})}),n&&a.jsx(C,{className:"list-container",position:"absolute",bottom:"0",backgroundColor:"white",width:"100%",height:"400px",zIndex:1,borderTop:"2px solid",borderColor:"trails.100",children:n})]})})})})})]})}const nn=new URLSearchParams(window.location.search),an=nn.get("lang")||void 0,sn=to({component:on,appMetadata:Yr,config:{properties:{"@open-pioneer/local-storage":{storageId:"ol-showcase-state"}},locale:an}});customElements.define("showcase-app",sn);
