import{a$ as je,ag as x,bS as h,az as st,bT as at,al as we,ao as it,an as lt,bU as ct,bV as ut,bW as dt,bX as pt,ad as mt,bY as L,bZ as xe,b_ as ft,a_ as Ce,b4 as Oe,u as yt,B as U,k as te,i as gt,g as he,h as Pe}from"./373aFn6VrrYF.js";import{G as ht,a as Pt,b as bt,M as vt}from"./B_P_5vwL5che.js";import{L as jt}from"./DFeQG49wLtu6.js";import{x as wt,y as Fe,g as _,j as s,f as M,p as R,r as d,z as xt,D as Ct,G as Z,H as A,J as v,n as Ot,o as Ft,K as St,L as Mt,C as Lt,M as Nt,N as Gt,k as Se,B as ne,F as Me}from"./BlQkqoJdwiw3.js";import{u as W,B as kt}from"./DC4idPN9Vzyp.js";import{F as Tt,f as Le}from"./Ca8PunG8etMa.js";import{S as Ne}from"./DJt760TsQ3ET.js";import{T as re,L as At}from"./B1KExs7kv-YH.js";import{u as _t,a as Rt,b as Bt,l as Et,M as It}from"./C-AUSevbtpBX.js";import{C as Dt}from"./Ce_hIuTIdBgG.js";import{a as Ht,b as Vt,M as Jt}from"./YoZkf6mqu7Nr.js";function zt(t){return"current"in t}var Ge=()=>typeof window<"u";function Ut(){var t;const e=navigator.userAgentData;return(t=e?.platform)!=null?t:navigator.platform}var Wt=t=>Ge()&&t.test(navigator.vendor),$t=t=>Ge()&&t.test(Ut()),Kt=()=>$t(/mac|iphone|ipad|ipod/i),Yt=()=>Kt()&&Wt(/apple/i);function qt(t){const{ref:e,elements:r,enabled:o}=t,n=()=>{var a,i;return(i=(a=e.current)==null?void 0:a.ownerDocument)!=null?i:document};wt(n,"pointerdown",a=>{if(!Yt()||!o)return;const i=a.target,u=(r??[e]).some(l=>{const m=zt(l)?l.current:l;return m?.contains(i)||m===i});n().activeElement!==i&&u&&(a.preventDefault(),i.focus())})}var[Xt,O]=Fe({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[Zt,B]=Fe({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),ke=_(function(e,r){const{getHeaderProps:o}=O(),n=B();return s.jsx(M.header,{...o(e,r),className:R("chakra-popover__header",e.className),__css:n.header})});ke.displayName="PopoverHeader";function Te(t){const e=d.Children.only(t.children),{getTriggerProps:r}=O();return d.cloneElement(e,r(e.props,e.ref))}Te.displayName="PopoverTrigger";var S={click:"click",hover:"hover"};function Qt(t={}){const{closeOnBlur:e=!0,closeOnEsc:r=!0,initialFocusRef:o,id:n,returnFocusOnClose:a=!0,autoFocus:i=!0,arrowSize:p,arrowShadowColor:u,trigger:l=S.click,openDelay:m=200,closeDelay:g=200,isLazy:j,lazyBehavior:N="unmount",computePositionOnMount:G,...K}=t,{isOpen:f,onClose:P,onOpen:k,onToggle:le}=xt(t),Y=d.useRef(null),E=d.useRef(null),F=d.useRef(null),T=d.useRef(!1),ce=d.useRef(!1);f&&(ce.current=!0);const[ue,Ue]=d.useState(!1),[de,We]=d.useState(!1),$e=d.useId(),Ke=n??$e,[pe,I,D,H]=["popover-trigger","popover-content","popover-header","popover-body"].map(c=>`${c}-${Ke}`),{referenceRef:V,getArrowProps:Ye,getPopperProps:me,getArrowInnerProps:qe,forceUpdate:Xe}=Ct({...K,enabled:f||!!G}),fe=_t({isOpen:f,ref:F});qt({enabled:f,ref:E}),Rt(F,{focusRef:E,visible:f,shouldFocus:a&&l===S.click}),Bt(F,{focusRef:o,visible:f,shouldFocus:i&&l===S.click});const ye=Et({wasSelected:ce.current,enabled:j,mode:N,isSelected:fe.present}),Ze=d.useCallback((c={},b=null)=>{const y={...c,style:{...c.style,transformOrigin:Z.transformOrigin.varRef,[Z.arrowSize.var]:p?`${p}px`:void 0,[Z.arrowShadowColor.var]:u},ref:A(F,b),children:ye?c.children:null,id:I,tabIndex:-1,role:"dialog",onKeyDown:v(c.onKeyDown,w=>{r&&w.key==="Escape"&&P()}),onBlur:v(c.onBlur,w=>{const J=be(w),X=Q(F.current,J),nt=Q(E.current,J);f&&e&&(!X&&!nt)&&P()}),"aria-labelledby":ue?D:void 0,"aria-describedby":de?H:void 0};return l===S.hover&&(y.role="tooltip",y.onMouseEnter=v(c.onMouseEnter,()=>{T.current=!0}),y.onMouseLeave=v(c.onMouseLeave,w=>{w.nativeEvent.relatedTarget!==null&&(T.current=!1,setTimeout(()=>P(),g))})),y},[ye,I,ue,D,de,H,l,r,P,f,e,g,u,p]),Qe=d.useCallback((c={},b=null)=>me({...c,style:{visibility:f?"visible":"hidden",...c.style}},b),[f,me]),et=d.useCallback((c,b=null)=>({...c,ref:A(b,Y,V)}),[Y,V]),C=d.useRef(),q=d.useRef(),ge=d.useCallback(c=>{Y.current==null&&V(c)},[V]),tt=d.useCallback((c={},b=null)=>{const y={...c,ref:A(E,b,ge),id:pe,"aria-haspopup":"dialog","aria-expanded":f,"aria-controls":I};return l===S.click&&(y.onClick=v(c.onClick,le)),l===S.hover&&(y.onFocus=v(c.onFocus,()=>{C.current===void 0&&k()}),y.onBlur=v(c.onBlur,w=>{const J=be(w),X=!Q(F.current,J);f&&e&&X&&P()}),y.onKeyDown=v(c.onKeyDown,w=>{w.key==="Escape"&&P()}),y.onMouseEnter=v(c.onMouseEnter,()=>{T.current=!0,C.current=window.setTimeout(()=>k(),m)}),y.onMouseLeave=v(c.onMouseLeave,()=>{T.current=!1,C.current&&(clearTimeout(C.current),C.current=void 0),q.current=window.setTimeout(()=>{T.current===!1&&P()},g)})),y},[pe,f,I,l,ge,le,k,e,P,m,g]);d.useEffect(()=>()=>{C.current&&clearTimeout(C.current),q.current&&clearTimeout(q.current)},[]);const rt=d.useCallback((c={},b=null)=>({...c,id:D,ref:A(b,y=>{Ue(!!y)})}),[D]),ot=d.useCallback((c={},b=null)=>({...c,id:H,ref:A(b,y=>{We(!!y)})}),[H]);return{forceUpdate:Xe,isOpen:f,onAnimationComplete:fe.onComplete,onClose:P,getAnchorProps:et,getArrowProps:Ye,getArrowInnerProps:qe,getPopoverPositionerProps:Qe,getPopoverProps:Ze,getTriggerProps:tt,getHeaderProps:rt,getBodyProps:ot}}function Q(t,e){return t===e||t?.contains(e)}function be(t){var e;const r=t.currentTarget.ownerDocument.activeElement;return(e=t.relatedTarget)!=null?e:r}function Ae(t){const e=Ot("Popover",t),{children:r,...o}=Ft(t),n=St(),a=Qt({...o,direction:n.direction});return s.jsx(Xt,{value:a,children:s.jsx(Zt,{value:e,children:Mt(r,{isOpen:a.isOpen,onClose:a.onClose,forceUpdate:a.forceUpdate})})})}Ae.displayName="Popover";var ee=(t,e)=>e?`${t}.${e}, ${e}`:void 0;function _e(t){var e;const{bg:r,bgColor:o,backgroundColor:n,shadow:a,boxShadow:i,shadowColor:p}=t,{getArrowProps:u,getArrowInnerProps:l}=O(),m=B(),g=(e=r??o)!=null?e:n,j=a??i;return s.jsx(M.div,{...u(),className:"chakra-popover__arrow-positioner",children:s.jsx(M.div,{className:R("chakra-popover__arrow",t.className),...l(t),__css:{"--popper-arrow-shadow-color":ee("colors",p),"--popper-arrow-bg":ee("colors",g),"--popper-arrow-shadow":ee("shadows",j),...m.arrow}})})}_e.displayName="PopoverArrow";var Re=_(function(e,r){const{getBodyProps:o}=O(),n=B();return s.jsx(M.div,{...o(e,r),className:R("chakra-popover__body",e.className),__css:n.body})});Re.displayName="PopoverBody";var Be=_(function(e,r){const{onClose:o}=O(),n=B();return s.jsx(Lt,{size:"sm",onClick:o,className:R("chakra-popover__close-btn",e.className),__css:n.closeButton,ref:r,...e})});Be.displayName="PopoverCloseButton";function er(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}var tr={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},rr=M(Nt.section),Ee=_(function(e,r){const{variants:o=tr,...n}=e,{isOpen:a}=O();return s.jsx(rr,{ref:r,variants:er(o),initial:!1,animate:a?"enter":"exit",...n})});Ee.displayName="PopoverTransition";var Ie=_(function(e,r){const{rootProps:o,motionProps:n,...a}=e,{getPopoverProps:i,getPopoverPositionerProps:p,onAnimationComplete:u}=O(),l=B(),m={position:"relative",display:"flex",flexDirection:"column",...l.content};return s.jsx(M.div,{...p(o),__css:l.popper,className:"chakra-popover__popper",children:s.jsx(Ee,{...n,...i(a,r),onAnimationComplete:Gt(u,a.onAnimationComplete),className:R("chakra-popover__content",e.className),__css:m})})});Ie.displayName="PopoverContent";function or(t){return"parentLayer"in t}function $r(t){return"olLayer"in t}class nr{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=je,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let o=r.dataProjection?x(r.dataProjection):this.readProjection(e);r.extent&&o&&o.getUnits()==="tile-pixels"&&(o=x(o),o.setWorldExtent(r.extent)),r={dataProjection:o,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return h()}readFeature(e,r){return h()}readFeatures(e,r){return h()}readGeometry(e,r){return h()}readProjection(e){return h()}writeFeature(e,r){return h()}writeFeatures(e,r){return h()}writeGeometry(e,r){return h()}}function se(t,e,r){const o=r?x(r.featureProjection):null,n=r?x(r.dataProjection):null;let a=t;if(o&&n&&!st(o,n)){e&&(a=t.clone());const i=e?o:n,p=e?n:o;i.getUnits()==="tile-pixels"?a.transform(i,p):a.applyTransform(at(i,p))}if(e&&r&&r.decimals!==void 0){const i=Math.pow(10,r.decimals),p=function(u){for(let l=0,m=u.length;l<m;++l)u[l]=Math.round(u[l]*i)/i;return u};a===t&&(a=t.clone()),a.applyTransform(p)}return a}const sr={Point:it,LineString:jt,Polygon:lt,MultiPoint:Pt,MultiLineString:bt,MultiPolygon:vt};function ar(t,e,r){return Array.isArray(e[0])?(ct(t,0,e,r)||(t=t.slice(),ut(t,0,e,r)),t):(dt(t,0,e,r)||(t=t.slice(),pt(t,0,e,r)),t)}function De(t,e){const r=t.geometry;if(!r)return[];if(Array.isArray(r))return r.map(a=>De({...t,geometry:a})).flat();const o=r.type==="MultiPolygon"?"Polygon":r.type;if(o==="GeometryCollection"||o==="Circle")throw new Error("Unsupported geometry type: "+o);const n=r.layout.length;return se(new we(o,o==="Polygon"?ar(r.flatCoordinates,r.ends,n):r.flatCoordinates,r.ends?.flat(),n,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function ae(t,e){if(!t)return null;if(Array.isArray(t)){const o=t.map(n=>ae(n,e));return new ht(o)}const r=sr[t.type];return se(new r(t.flatCoordinates,t.layout,t.ends),!1,e)}class ir extends nr{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(z(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(z(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return h()}readFeaturesFromObject(e,r){return h()}readGeometry(e,r){return this.readGeometryFromObject(z(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return h()}readProjection(e){return this.readProjectionFromObject(z(e))}readProjectionFromObject(e){return h()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return h()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return h()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return h()}}function z(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}class Kr extends ir{constructor(e){e=e||{},super(),this.dataProjection=x(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=x(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let o=null;e.type==="Feature"?o=e:o={type:"Feature",geometry:e,properties:null};const n=ie(o.geometry);if(this.featureClass===we)return De({geometry:n,id:o.id,properties:o.properties},r);const a=new je;return this.geometryName_?a.setGeometryName(this.geometryName_):this.extractGeometryName_&&o.geometry_name&&a.setGeometryName(o.geometry_name),a.setGeometry(ae(n,r)),"id"in o&&a.setId(o.id),o.properties&&a.setProperties(o.properties,!0),a}readFeaturesFromObject(e,r){const o=e;let n=null;if(o.type==="FeatureCollection"){const a=e;n=[];const i=a.features;for(let p=0,u=i.length;p<u;++p){const l=this.readFeatureFromObject(i[p],r);l&&n.push(l)}}else n=[this.readFeatureFromObject(e,r)];return n.flat()}readGeometryFromObject(e,r){return lr(e,r)}readProjectionFromObject(e){const r=e.crs;let o;if(r)if(r.type=="name")o=x(r.properties.name);else if(r.type==="EPSG")o=x("EPSG:"+r.properties.code);else throw new Error("Unknown SRS type");else o=this.dataProjection;return o}writeFeatureObject(e,r){r=this.adaptOptions(r);const o={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(o.id=n),!e.hasProperties())return o;const a=e.getProperties(),i=e.getGeometry();return i&&(o.geometry=oe(i,r),delete a[e.getGeometryName()]),mt(a)||(o.properties=a),o}writeFeaturesObject(e,r){r=this.adaptOptions(r);const o=[];for(let n=0,a=e.length;n<a;++n)o.push(this.writeFeatureObject(e[n],r));return{type:"FeatureCollection",features:o}}writeGeometryObject(e,r){return oe(e,this.adaptOptions(r))}}function ie(t,e){if(!t)return null;let r;switch(t.type){case"Point":{r=ur(t);break}case"LineString":{r=dr(t);break}case"Polygon":{r=yr(t);break}case"MultiPoint":{r=mr(t);break}case"MultiLineString":{r=pr(t);break}case"MultiPolygon":{r=fr(t);break}case"GeometryCollection":{r=cr(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return r}function lr(t,e){const r=ie(t);return ae(r,e)}function cr(t,e){return t.geometries.map(function(o){return ie(o)})}function ur(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:L(e.length)}}function dr(t){const e=t.coordinates,r=e.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:L(e[0]?.length||2)}}function pr(t){const e=t.coordinates,r=e[0]?.[0]?.length||2,o=[],n=xe(o,0,e,r);return{type:"MultiLineString",flatCoordinates:o,ends:n,layout:L(r)}}function mr(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:L(e[0]?.length||2)}}function fr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.[0].length||2,n=ft(r,0,e,o);return{type:"MultiPolygon",flatCoordinates:r,ends:n,layout:L(o)}}function yr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.length,n=xe(r,0,e,o);return{type:"Polygon",flatCoordinates:r,ends:n,layout:L(o)}}function oe(t,e){t=se(t,!0,e);const r=t.getType();let o;switch(r){case"Point":{o=jr(t);break}case"LineString":{o=hr(t);break}case"Polygon":{o=wr(t,e);break}case"MultiPoint":{o=br(t);break}case"MultiLineString":{o=Pr(t);break}case"MultiPolygon":{o=vr(t,e);break}case"GeometryCollection":{o=gr(t,e);break}case"Circle":{o={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return o}function gr(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(o){return oe(o,e)})}}function hr(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function Pr(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function br(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function vr(t,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function jr(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function wr(t,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}const Yr=d.forwardRef(function(e,r){const{label:o,icon:n,onClick:a,isLoading:i,isDisabled:p,isActive:u,tooltipProps:l,buttonProps:m}=e,{containerProps:{className:g,...j}}=Ce("tool-button",e),N=Oe(g,{"tool-button--active":u,"tool-button--loading":i,"tool-button--disabled":p}),G=typeof u=="boolean"?u?"true":"false":void 0,[K,f]=d.useState(!1),P=k=>{f(!1),a?.(k)};return s.jsx(Se,{label:o,placement:"auto",openDelay:500,...l,isOpen:K,onOpen:()=>f(!0),onClose:()=>f(!1),children:s.jsx(xr,{className:N,ref:r,"aria-label":o,leftIcon:n,iconSpacing:0,padding:0,isDisabled:p,isLoading:i,isActive:u,"aria-pressed":G,...j,...m,onClick:P})})}),xr=d.forwardRef(function(e,r){const{"aria-labelledby":o,"aria-describedby":n,...a}=e;return s.jsx(ne,{ref:r,...a})}),Cr="@open-pioneer/toc",$=yt.bind(void 0,Cr),He=d.createContext(void 0),Or=He.Provider;function Fr(){const t=d.useContext(He);if(!t)throw new Error("useTocWidgetOptions must be used within a TocWidgetOptionsProvider");return t}function Sr(t){const{map:e,"aria-label":r}=t,o=$(),n=Nr(e);return n.length?Ve(n,{"aria-label":r}):s.jsx(re,{className:"toc-missing-layers","aria-label":r,children:o.formatMessage({id:"missingLayers"})})}function Ve(t,e){const r=t.map(o=>s.jsx(Mr,{layer:o},o.id));return s.jsx(At,{as:"ul",className:"toc-layer-list",listStyleType:"none",role:"group",...e,children:r})}function Mr(t){const{layer:e}=t,r=$(),o=Fr(),{title:n,description:a,isVisible:i}=W(()=>({title:e.title,description:e.description,isVisible:e.visible}),[e]),p=Gr(e),u=ze(e)!=="error",l=r.formatMessage({id:"layerNotAvailable"});let m;return p?.length&&(m=Ve(p,{ml:4,"aria-label":r.formatMessage({id:"childgroupLabel"},{title:n})})),s.jsxs(U,{as:"li",className:Oe("toc-layer-item",`layer-${kr(e.id)}`),children:[s.jsxs(te,{className:"toc-layer-item-content",width:"100%",flexDirection:"row",align:"center",justifyContent:"space-between",gap:2,minHeight:10,children:[s.jsx(Dt,{"aria-label":n+(u?"":" "+l),isChecked:i,isDisabled:!u,onChange:g=>Je(e,g.target.checked,o.autoShowParents),children:n}),!u&&s.jsx(Se,{className:"toc-layer-item-content-tooltip",label:l,placement:"right",openDelay:500,children:s.jsx("span",{children:s.jsx(Tt,{className:"toc-layer-item-content-icon",color:"red","aria-label":l})})}),s.jsx(Ne,{}),a&&s.jsx(Lr,{layer:e,title:n,description:a,intl:r})]}),m]})}function Je(t,e,r){t.setVisible(e),e&&r&&t.parent&&Je(t.parent,!0,!0)}function Lr(t){const{layer:e,title:r,description:o,intl:n}=t,a=n.formatMessage({id:"descriptionLabel"}),i=ze(e)!=="error";return s.jsxs(Ae,{placement:"bottom-start",children:[s.jsx(Te,{children:s.jsx(ne,{isDisabled:!i,className:"toc-layer-item-details-button","aria-label":a,borderRadius:"full",iconSpacing:0,padding:0,variant:"ghost",leftIcon:s.jsx(Le,{})})}),s.jsx(Me,{children:s.jsxs(Ie,{className:"toc-layer-item-details",overflowY:"auto",maxHeight:"400",children:[s.jsx(_e,{}),s.jsx(Be,{mt:1}),s.jsx(ke,{children:r}),s.jsx(Re,{children:o})]})})]})}function Nr(t){return W(()=>{const e=t.layers.getOperationalLayers({sortByDisplayOrder:!0})??[];return e.reverse(),e},[t])}function Gr(t){return W(()=>{const e=t.children?.getItems({sortByDisplayOrder:!0});return e?.reverse(),e},[t])}function ze(t){return W(()=>(or(t)?t.parentLayer:t).loadState,[t])}function kr(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}const Tr=t=>{const e=$(),{map:r,showHideAllLayers:o=!0}=t;return!!o&&s.jsx(U,{className:"toc-tools",children:s.jsxs(It,{placement:"bottom-start",children:[s.jsx(Ht,{as:ne,className:"toc-tools-button","aria-label":e.formatMessage({id:"toolsLabel"}),borderRadius:"full",iconSpacing:0,padding:3,variant:"ghost",leftIcon:s.jsx(Le,{})}),s.jsx(Me,{children:s.jsx(Vt,{className:"tools-menu",children:s.jsx(Jt,{"aria-label":e.formatMessage({id:"tools.hideAllLayers"}),onClick:()=>{Ar(r)},children:e.formatMessage({id:"tools.hideAllLayers"})})})})]})})};function Ar(t){const e=r=>{r.setVisible(!1);const o=r.children?.getItems();if(o)for(const n of o)e(n)};t?.layers.getOperationalLayers().forEach(r=>{e(r)})}const ve=2,qr=t=>{const e=$(),{showTools:r=!1,toolsConfig:o,showBasemapSwitcher:n=!0,basemapSwitcherProps:a,autoShowParents:i=!0}=t,{containerProps:p}=Ce("toc",t),u=d.useId(),l=d.useMemo(()=>({autoShowParents:i}),[i]),m=gt(t);let g;switch(m.kind){case"loading":g=null;break;case"rejected":g=s.jsx(re,{className:"toc-error",children:e.formatMessage({id:"error"})});break;case"resolved":{const j=m.map,N=n&&s.jsx(U,{className:"toc-basemap-switcher",children:s.jsx(he,{title:s.jsx(Pe,{id:u,size:"sm",mb:ve,children:e.formatMessage({id:"basemapsLabel"})}),children:s.jsx(kt,{map:j,"aria-labelledby":u,...a})})}),G=s.jsx(U,{className:"toc-operational-layers",children:s.jsx(he,{title:s.jsx(Pe,{size:"sm",mb:2,children:s.jsxs(te,{children:[s.jsx(re,{my:3,children:e.formatMessage({id:"operationalLayerLabel"})}),s.jsx(Ne,{}),r&&s.jsx(Tr,{map:j,...o})]})}),children:s.jsx(Sr,{map:j,"aria-label":e.formatMessage({id:"operationalLayerLabel"})})})});g=s.jsxs(s.Fragment,{children:[N,G]});break}}return s.jsx(te,{...p,direction:"column",gap:ve,children:s.jsx(Or,{value:l,children:g})})};export{nr as F,Kr as G,Ae as P,Yr as T,Te as a,Ie as b,_e as c,Re as d,qr as e,$r as i,se as t,O as u};
