var j=Object.defineProperty;var x=e=>{throw TypeError(e)};var v=(e,t,r)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t,r)=>v(e,typeof t!="symbol"?t+"":t,r),g=(e,t,r)=>t.has(e)||x("Cannot "+r);var u=(e,t,r)=>(g(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>t.has(e)?x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),f=(e,t,r,i)=>(g(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),a=(e,t,r)=>(g(e,t,"access private method"),r);import{c as I,r as m,j as o,S as w}from"./dwMeHYNn9Hg1.js";import{c as S,P as N,T as L,a as C,d as A,e as E,f as P,g as M,u as U}from"./DfN-iOyUlFSd.js";import{a as R,u as W}from"./DiL4ZuJLV21m.js";import{G as p}from"./Bix96aM-Vff_.js";import{S as B}from"./Ch-V-7isKLK0.js";import{I as F}from"./CqrxYxSjEfsI.js";const T=I("notifier:NotificationService"),G=7*24*60*60*1e3;var s,l,n,c,D;class it{constructor({references:{appCtx:t},properties:r}){h(this,n);h(this,s,!1);h(this,l);y(this,"toaster");const i=r,d=t.getShadowRoot();this.toaster=S({placement:O(i.position),pauseOnPageIdle:!0,getRootNode:()=>d})}destroy(){clearTimeout(u(this,l)),f(this,l,void 0)}notify(t){this.toaster.create({type:t.level,title:t.title,description:t.message,duration:t.displayDuration??G,meta:{closable:!0}})}success(t){a(this,n,c).call(this,"success",t)}info(t){a(this,n,c).call(this,"info",t)}warning(t){a(this,n,c).call(this,"warning",t)}error(t){a(this,n,c).call(this,"error",t)}closeAll(){this.toaster.dismiss()}registerUI(){if(u(this,s)){T.warn(`A notifier UI has already been registered; this new component will be ignored.
The <Notifier /> component has likely been used twice in your application.`);return}f(this,s,!0);let t=!1;return{destroy:()=>{t||(t=!0,f(this,s,!1))}}}}s=new WeakMap,l=new WeakMap,n=new WeakSet,c=function(t,r){typeof r=="string"&&(r={message:r}),this.notify({...r,level:t})},D=function(){u(this,s)||T.warn(`No notifier UI has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};function O(e="top-right"){switch(e){case"top":return"top";case"top-left":return"top-start";case"top-right":return"top-end";case"bottom":return"bottom";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end";default:return"top-end"}}const k="@open-pioneer/notifier",_=W.bind(void 0,k),z=R.bind(void 0,k);function K(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function b(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function V(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function $(e){return p({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function ot(e){const t=_("notifier.NotificationService"),[r,i]=m.useState(!1);return m.useEffect(()=>{const d=t.registerUI();if(d)return i(!0),()=>{i(!1),d.destroy()}},[t]),r&&o.jsx(q,{toaster:t.toaster})}const q=m.memo(function(t){const r=z();return o.jsx(N,{children:o.jsx(L,{toaster:t.toaster,insetInline:{mdDown:"4"},"aria-label":r.formatMessage({id:"regionLabel"}),children:i=>o.jsxs(C,{width:{md:"sm"},alignItems:"center",children:[i.type==="loading"?o.jsx(B,{size:"sm",color:"blue.solid"}):o.jsx(J,{type:i.type??""}),o.jsxs(w,{gap:"1",flex:"1",maxWidth:"100%",children:[i.title&&o.jsx(A,{children:i.title}),i.description&&o.jsx(E,{children:i.description})]}),i.action&&o.jsx(P,{children:i.action.label}),i.meta?.closable&&o.jsx(M,{cursor:"pointer","aria-label":r.formatMessage({id:"notification.close"})})]})})})}),H={info:$,success:V,warning:K,error:b};function J(e){const t=U();return H[e.type]?o.jsx(F,{css:t.indicator,children:o.jsx("span",{children:o.jsx(b,{style:{width:"100%",height:"100%"}})})}):null}export{it as N,ot as a};
