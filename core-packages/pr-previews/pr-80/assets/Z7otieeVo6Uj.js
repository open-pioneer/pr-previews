import{r as T,u as q,j as h,ad as X,ae as Y,a0 as z,af as Z,ag as J,a7 as v,ah as O,ai as Q,aj as tt,ak as F,d as G,al as k,am as et,f as st,an as ot,ao as at,ap as nt,aq as M,ar as it,as as rt,at as ct,g as lt,i as I,y as ut,z as dt,au as gt,av as N,aw as pt}from"./BMJNq4QBB6Gl.js";import{n as C,u as ft,a as ht}from"./CcSiKjZ7iqzr.js";import{a as A}from"./D3ZMd0oqarUb.js";const Ft=e=>{const{children:o,disabled:t}=e,[s,r]=T.useState(e.container?.current),n=T.useSyncExternalStore(Tt,()=>!1,()=>!0),{getRootNode:u}=q();if(T.useEffect(()=>{r(()=>e.container?.current)},[e.container]),n||t)return h.jsx(h.Fragment,{children:o});const p=s??mt(u);return h.jsx(h.Fragment,{children:T.Children.map(o,l=>X.createPortal(l,p))})},mt=e=>{const o=e?.(),t=o.getRootNode();return Y(t)?t.querySelector(".pioneer-root"):z(o).body},Tt=()=>()=>{};var yt=Z("toast").parts("group","root","title","description","actionTrigger","closeTrigger"),S=yt.build(),f=J({getRegionId:e=>`toast-group:${e}`,getRegionEl:(e,o)=>f.getById(e,`toast-group:${o}`),getRootId:e=>`toast:${e.id}`,getRootEl:e=>f.getById(e,f.getRootId(e)),getTitleId:e=>`toast:${e.id}:title`,getDescriptionId:e=>`toast:${e.id}:description`,getCloseTriggerId:e=>`toast${e.id}:close`});function _(e,o){return e.filter(t=>t.state.context.placement===o)}var U={info:5e3,error:5e3,success:2e3,loading:1/0,DEFAULT:5e3};function w(e,o){return e??U[o]??U.DEFAULT}function Et(e,o){const t=e.offsets,s=typeof t=="string"?{left:t,right:t,bottom:t,top:t}:t,r=e.dir==="rtl",n=o.replace("-start",r?"-right":"-left").replace("-end",r?"-left":"-right"),u=n.includes("right"),p=n.includes("left"),l={position:"fixed",pointerEvents:e.count>0?void 0:"none",display:"flex",flexDirection:"column","--gap":`${e.gap}px`,"--first-height":`${e.heights[0]?.height||0}px`,zIndex:ot};let i="center";if(u&&(i="flex-end"),p&&(i="flex-start"),l.alignItems=i,n.includes("top")){const a=s.top;l.top=`max(env(safe-area-inset-top, 0px), ${a})`}if(n.includes("bottom")){const a=s.bottom;l.bottom=`max(env(safe-area-inset-bottom, 0px), ${a})`}if(!n.includes("left")){const a=s.right;l.insetInlineEnd=`calc(env(safe-area-inset-right, 0px) + ${a})`}if(!n.includes("right")){const a=s.left;l.insetInlineStart=`calc(env(safe-area-inset-left, 0px) + ${a})`}return l}function vt(e,o){const[t]=e.placement.split("-"),s=!e.frontmost,r=!e.stacked,n={position:"absolute",pointerEvents:"auto","--opacity":"0","--remove-delay":`${e.removeDelay}ms`,"--duration":`${e.type==="loading"?Number.MAX_SAFE_INTEGER:e.duration}ms`,"--initial-height":`${e.height}px`,"--offset":`${e.offset}px`,"--index":e.index,"--z-index":e.zIndex,"--lift-amount":"calc(var(--lift) * var(--gap))","--y":"100%","--x":"0"},u=p=>Object.assign(n,p);return t==="top"?u({top:"0","--sign":"-1","--y":"-100%","--lift":"1"}):t==="bottom"&&u({bottom:"0","--sign":"1","--y":"100%","--lift":"-1"}),e.mounted&&(u({"--y":"0","--opacity":"1"}),e.stacked&&u({"--y":"calc(var(--lift) * var(--offset))","--height":"var(--initial-height)"})),o||u({"--opacity":"0",pointerEvents:"none"}),s&&r&&(u({"--base-scale":"var(--index) * 0.05 + 1","--y":"calc(var(--lift-amount) * var(--index))","--scale":"calc(-1 * var(--base-scale))","--height":"var(--first-height)"}),o||u({"--y":"calc(var(--sign) * 40%)"})),s&&e.stacked&&!o&&u({"--y":"calc(var(--lift) * var(--offset) + var(--lift) * -100%)"}),e.frontmost&&!o&&u({"--y":"calc(var(--lift) * -100%)"}),n}function St(e,o){const t={position:"absolute",inset:"0",scale:"1 2",pointerEvents:o?"none":"auto"},s=r=>Object.assign(t,r);return e.frontmost&&!o&&s({height:"calc(var(--initial-height) + 80%)"}),t}function It(e,o){return{position:"absolute",left:"0",height:"calc(var(--gap) + 2px)",bottom:"100%",width:"100%"}}function Rt(e,o,t){function s(){return at(e)?e.getState():e}function r(a){return _(s().context.toasts,a)}function n(a){const c=s().context.toasts;return c.length?!!c.find(d=>d.id==a):!1}function u(a){const c=`toast:${nt()}`,d=a.id?a.id:c;return n(d)||o({type:"ADD_TOAST",toast:{...a,id:d}}),d}function p(a,c){return n(a)&&o({type:"UPDATE_TOAST",id:a,toast:c}),a}function l(a){const{id:c}=a;return(c?n(c):!1)&&c!=null?p(c,a):u(a)}function i(a){a==null?o("DISMISS_ALL"):n(a)&&o({type:"DISMISS_TOAST",id:a})}return{getCount(){return s().context.count},getPlacements(){const c=s().context.toasts.map(d=>d.state.context.placement);return Array.from(new Set(c))},getToastsByPlacement:r,isVisible:n,create:u,update:p,upsert:l,dismiss:i,remove(a){a==null?o("REMOVE_ALL"):n(a)&&o({type:"REMOVE_TOAST",id:a})},dismissByPlacement(a){r(a).forEach(d=>i(d.id))},loading(a){return l({...a,type:"loading"})},success(a){return l({...a,type:"success"})},error(a){return l({...a,type:"error"})},promise(a,c,d={}){const g=l({...d,...c.loading,type:"loading"});return O(a).then(m=>{const y=O(c.success,m);l({...d,...y,id:g,type:"success"})}).catch(m=>{const y=O(c.error,m);l({...d,...y,id:g,type:"error"})}).finally(()=>{c.finally?.()}),g},pause(a){a==null?o("PAUSE_ALL"):n(a)&&o({type:"PAUSE_TOAST",id:a})},resume(a){a==null?o("RESUME_ALL"):n(a)&&o({type:"RESUME_TOAST",id:a})},getGroupProps(a){const{placement:c,label:d="Notifications"}=a,g=s(),m=g.context.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),[y,D="center"]=c.split("-");return t.element({...S.group.attrs,dir:g.context.dir,tabIndex:-1,"aria-label":`${c} ${d} ${m}`,id:f.getRegionId(c),"data-placement":c,"data-side":y,"data-align":D,"aria-live":"polite",role:"region",style:Et(g.context,c),onMouseMove(){o({type:"REGION.POINTER_ENTER",placement:c})},onMouseLeave(){o({type:"REGION.POINTER_LEAVE",placement:c})},onFocus(E){o({type:"REGION.FOCUS",target:E.relatedTarget})},onBlur(E){g.context.isFocusWithin&&!Q(E.currentTarget,E.relatedTarget)&&o({type:"REGION.BLUR"})}})},subscribe(a){const c=s();return tt(c.context.toasts,()=>{const g=r(c.context.placement).map(m=>m.getState().context);a(g)})}}}var{not:At,and:bt,or:Pt}=ct;function Dt(e){const{type:o="info",duration:t,id:s="1",placement:r="bottom",removeDelay:n=200,...u}=e,p=F(u),l=w(t,o);return G({id:s,context:{id:s,type:o,remaining:l,duration:l,removeDelay:n,createdAt:Date.now(),placement:r,...p,height:0,offset:0,frontmost:!1,mounted:!1,index:-1,zIndex:0},initial:o==="loading"?"visible:persist":"visible",on:{UPDATE:[{guard:bt("hasTypeChanged","isChangingToLoading"),target:"visible:persist",actions:["setContext"]},{guard:Pt("hasDurationChanged","hasTypeChanged"),target:"visible:updating",actions:["setContext"]},{actions:["setContext"]}],MEASURE:{actions:["measureHeight"]}},entry:["invokeOnVisible"],activities:["trackHeight"],states:{"visible:updating":{tags:["visible","updating"],after:{0:"visible"}},"visible:persist":{tags:["visible","paused"],on:{RESUME:{guard:At("isLoadingType"),target:"visible",actions:["setCreatedAt"]},DISMISS:"dismissing"}},visible:{tags:["visible"],after:{VISIBLE_DURATION:"dismissing"},on:{DISMISS:"dismissing",PAUSE:{target:"visible:persist",actions:"setRemainingDuration"}}},dismissing:{entry:"invokeOnDismiss",after:{REMOVE_DELAY:{target:"unmounted",actions:"notifyParentToRemove"}}},unmounted:{entry:"invokeOnUnmount",type:"final"}}},{activities:{trackHeight(i,a,{self:c}){let d;return M(()=>{const g=f.getRootEl(i);if(!g)return;i.mounted=!0;const m=it(g,"[data-ghost]");rt(m.length!==2,"[toast] No ghost element found in toast. Render the `ghostBefore` and `ghostAfter` elements");const y=()=>{const W=g.style.height;g.style.height="auto";const L=g.getBoundingClientRect().height;g.style.height=W,i.height=L,c.sendParent({type:"UPDATE_HEIGHT",id:c.id,height:L,placement:i.placement})};y();const D=f.getWin(i),E=new D.MutationObserver(y);E.observe(g,{childList:!0,subtree:!0,characterData:!0}),d=()=>E.disconnect()}),()=>d?.()}},guards:{isChangingToLoading:(i,a)=>a.toast?.type==="loading",isLoadingType:i=>i.type==="loading",hasTypeChanged:(i,a)=>a.toast?.type!=null&&a.toast.type!==i.type,hasDurationChanged:(i,a)=>a.toast?.duration!=null&&a.toast.duration!==i.duration},delays:{VISIBLE_DURATION:i=>i.remaining,REMOVE_DELAY:i=>i.removeDelay},actions:{measureHeight(i,a,{self:c}){M(()=>{const d=f.getRootEl(i);if(!d)return;i.mounted=!0;const g=d.style.height;d.style.height="auto";const m=d.getBoundingClientRect().height;d.style.height=g,i.height=m,c.sendParent({type:"UPDATE_HEIGHT",id:c.id,height:m,placement:i.placement})})},setRemainingDuration(i){i.remaining-=Date.now()-i.createdAt},setCreatedAt(i){i.createdAt=Date.now()},notifyParentToRemove(i,a,{self:c}){c.sendParent({type:"REMOVE_TOAST",id:c.id})},invokeOnDismiss(i){i.onStatusChange?.({status:"dismissing"})},invokeOnUnmount(i){i.onStatusChange?.({status:"unmounted"})},invokeOnVisible(i){i.onStatusChange?.({status:"visible"})},setContext(i,a){const c=a.toast?.duration,d=a.toast?.type??i.type,g=w(c,d);Object.assign(i,{...a.toast,duration:g,remaining:g})}}})}function Ot(e){const o=F(e);return G({id:"toaster",initial:o.overlap?"overlap":"stack",context:{dir:"ltr",max:Number.MAX_SAFE_INTEGER,gap:16,pauseOnPageIdle:!1,hotkey:["altKey","KeyT"],offsets:"1rem",placement:"bottom",removeDelay:200,...o,toasts:[],lastFocusedEl:null,isFocusWithin:!1,heights:[]},computed:{count:t=>t.toasts.length},activities:["trackDocumentVisibility","trackHotKeyPress"],watch:{toasts:["collapsedIfEmpty","setDismissableBranch"]},exit:["removeToasts","clearDismissableBranch","clearLastFocusedEl"],on:{PAUSE_TOAST:{actions:["pauseToast"]},PAUSE_ALL:{actions:["pauseToasts"]},RESUME_TOAST:{actions:["resumeToast"]},RESUME_ALL:{actions:["resumeToasts"]},ADD_TOAST:{guard:"isWithinRange",actions:["createToast","syncToastIndex"]},UPDATE_TOAST:{actions:["updateToast"]},DISMISS_TOAST:{actions:["dismissToast"]},DISMISS_ALL:{actions:["dismissToasts"]},REMOVE_TOAST:{actions:["removeToast","syncToastIndex","syncToastOffset"]},REMOVE_ALL:{actions:["removeToasts"]},UPDATE_HEIGHT:{actions:["syncHeights","syncToastOffset"]},"DOC.HOTKEY":{actions:["focusRegionEl"]},"REGION.BLUR":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts","restoreLastFocusedEl"]},{actions:["resumeToasts","restoreLastFocusedEl"]}]},states:{stack:{entry:["expandToasts"],on:{"REGION.POINTER_LEAVE":[{guard:"isOverlapping",target:"overlap",actions:["resumeToasts"]},{actions:["resumeToasts"]}],"REGION.OVERLAP":{target:"overlap"},"REGION.FOCUS":{actions:["setLastFocusedEl","pauseToasts"]},"REGION.POINTER_ENTER":{actions:["pauseToasts"]}}},overlap:{entry:["collapseToasts"],on:{"REGION.STACK":{target:"stack"},"REGION.POINTER_ENTER":{target:"stack",actions:["pauseToasts"]},"REGION.FOCUS":{target:"stack",actions:["setLastFocusedEl","pauseToasts"]}}}}},{guards:{isWithinRange:t=>t.toasts.length<t.max,isOverlapping:t=>!!t.overlap},activities:{trackHotKeyPress(t,s,{send:r}){return k(document,"keydown",u=>{t.hotkey.every(l=>u[l]||u.code===l)&&r({type:"DOC.HOTKEY"})},{capture:!0})},trackDocumentVisibility(t,s,{send:r}){if(!t.pauseOnPageIdle)return;const n=f.getDoc(t);return k(n,"visibilitychange",()=>{r(n.visibilityState==="hidden"?"PAUSE_ALL":"RESUME_ALL")})}},actions:{setDismissableBranch(t){const r=_(t.toasts,t.placement).length>0;if(!r){t._cleanup?.();return}if(r&&t._cleanup)return;const n=()=>f.getRegionEl(t,t.placement);t._cleanup=et(n,{defer:!0})},clearDismissableBranch(t){t._cleanup?.()},focusRegionEl(t){queueMicrotask(()=>{f.getRegionEl(t,t.placement)?.focus()})},expandToasts(t){b(t,s=>{s.state.context.stacked=!0})},collapseToasts(t){b(t,s=>{s.state.context.stacked=!1})},collapsedIfEmpty(t,s,{send:r}){!t.overlap||t.toasts.length>1||r("REGION.OVERLAP")},pauseToast(t,s,{self:r}){r.sendChild("PAUSE",s.id)},pauseToasts(t){t.toasts.forEach(s=>s.send("PAUSE"))},resumeToast(t,s,{self:r}){r.sendChild("RESUME",s.id)},resumeToasts(t){t.toasts.forEach(s=>s.send("RESUME"))},measureToasts(t){t.toasts.forEach(s=>s.send("MEASURE"))},createToast(t,s,{self:r,getState:n}){const u={placement:t.placement,duration:t.duration,removeDelay:t.removeDelay,...s.toast,dir:t.dir,getRootNode:t.getRootNode,stacked:n().matches("stack")},p=Dt(u),l=r.spawn(p);t.toasts=[l,...t.toasts]},updateToast(t,s,{self:r}){r.sendChild({type:"UPDATE",toast:s.toast},s.id)},dismissToast(t,s,{self:r}){r.sendChild("DISMISS",s.id)},dismissToasts(t){t.toasts.forEach(s=>s.send("DISMISS"))},removeToast(t,s,{self:r}){r.stopChild(s.id),t.toasts=t.toasts.filter(n=>n.id!==s.id),t.heights=t.heights.filter(n=>n.id!==s.id)},removeToasts(t,s,{self:r}){t.toasts.forEach(n=>r.stopChild(n.id)),t.toasts=[],t.heights=[]},syncHeights(t,s){const r=t.heights.find(n=>n.id===s.id);if(r)r.height=s.height,r.placement=s.placement;else{const n={id:s.id,height:s.height,placement:s.placement};t.heights=[n,...t.heights]}},syncToastIndex(t){b(t,(s,r,n)=>{s.state.context.index=r,s.state.context.frontmost=r===0,s.state.context.zIndex=n.length-r})},syncToastOffset(t,s){const r=s.placement??t.placement;b({...t,placement:r},n=>{const u=Math.max(t.heights.findIndex(l=>l.id===n.id),0),p=t.heights.reduce((l,i,a)=>a>=u?l:l+i.height,0);n.state.context.offset=u*t.gap+p})},setLastFocusedEl(t,s){t.isFocusWithin||!s.target||(t.isFocusWithin=!0,t.lastFocusedEl=st(s.target))},restoreLastFocusedEl(t){t.isFocusWithin=!1,t.lastFocusedEl&&(t.lastFocusedEl.focus({preventScroll:!0}),t.lastFocusedEl=null)},clearLastFocusedEl(t){t.lastFocusedEl&&(t.lastFocusedEl.focus({preventScroll:!0}),t.lastFocusedEl=null,t.isFocusWithin=!1)}}})}function b(e,o){_(e.toasts,e.placement).forEach(o)}function xt(e,o,t){const s=e.hasTag("visible"),r=e.hasTag("paused"),n=e.context.placement,u=e.context.type,[p,l="center"]=n.split("-");return{type:u,title:e.context.title,description:e.context.description,placement:n,visible:s,paused:r,pause(){o("PAUSE")},resume(){o("RESUME")},dismiss(){o("DISMISS")},getRootProps(){return t.element({...S.root.attrs,dir:e.context.dir,id:f.getRootId(e.context),"data-state":s?"open":"closed","data-type":u,"data-placement":n,"data-align":l,"data-side":p,"data-mounted":v(e.context.mounted),"data-paused":v(r),"data-first":v(e.context.frontmost),"data-sibling":v(!e.context.frontmost),"data-stack":v(e.context.stacked),"data-overlap":v(!e.context.stacked),role:"status","aria-atomic":"true","aria-describedby":e.context.description?f.getDescriptionId(e.context):void 0,"aria-labelledby":e.context.title?f.getTitleId(e.context):void 0,tabIndex:0,style:vt(e.context,s),onKeyDown(i){i.defaultPrevented||i.key=="Escape"&&(o("DISMISS"),i.preventDefault())}})},getGhostBeforeProps(){return t.element({"data-ghost":"before",style:St(e.context,s)})},getGhostAfterProps(){return t.element({"data-ghost":"after",style:It()})},getTitleProps(){return t.element({...S.title.attrs,id:f.getTitleId(e.context)})},getDescriptionProps(){return t.element({...S.description.attrs,id:f.getDescriptionId(e.context)})},getActionTriggerProps(){return t.button({...S.actionTrigger.attrs,type:"button",onClick(i){i.defaultPrevented||(e.context.action?.onClick?.(),o("DISMISS"))}})},getCloseTriggerProps(){return t.button({id:f.getCloseTriggerId(e.context),...S.closeTrigger.attrs,type:"button","aria-label":"Dismiss notification",onClick(i){i.defaultPrevented||o("DISMISS")}})}}}var x={connect:Rt,machine:Ot};const Gt=e=>{const o=x.machine({id:"1",...e});return{...x.connect(o,o.send,C),machine:o}},[Ct,R]=lt({name:"ToastContext",hookName:"useToastContext",providerName:"<ToastProvider />"}),$=T.forwardRef((e,o)=>{const t=R(),s=I(t.getActionTriggerProps(),e);return h.jsx(A.button,{...s,ref:o})});$.displayName="ToastActionTrigger";const H=T.forwardRef((e,o)=>{const t=R(),s=I(t.getCloseTriggerProps(),e);return h.jsx(A.button,{...s,ref:o})});H.displayName="ToastCloseTrigger";const B=T.forwardRef((e,o)=>{const t=R(),s=I(t.getDescriptionProps(),e);return h.jsx(A.div,{...s,ref:o})});B.displayName="ToastDescription";const j=T.forwardRef((e,o)=>{const t=R(),s=I(t.getRootProps(),e);return h.jsxs("div",{...s,ref:o,children:[h.jsx("div",{...t.getGhostBeforeProps()}),e.children,h.jsx("div",{...t.getGhostAfterProps()})]})});j.displayName="ToastRoot";const V=T.forwardRef((e,o)=>{const t=R(),s=I(t.getTitleProps(),e);return h.jsx(A.div,{...s,ref:o})});V.displayName="ToastTitle";const K=T.forwardRef((e,o)=>{const{toaster:t,children:s,...r}=e,[n,u]=ft(t.machine),p=n.context.placement,l=x.connect(n,u,C),i=l.getToastsByPlacement(p),a=I(l.getGroupProps({placement:p}),r);return h.jsx(A.div,{...a,ref:o,children:i.map(c=>h.jsx(_t,{value:c,children:d=>s(d)},c.id))})});K.displayName="Toaster";const _t=e=>{const[o,t]=ht(e.value),s=xt(o,t,C);return h.jsx(Ct,{value:s,children:e.children(o.context)})},{withProvider:Lt,withContext:P,useStyles:kt}=ut({key:"toast"}),$t=dt(K,{},{forwardAsChild:!0}),Ht=Lt(j,"root",{forwardAsChild:!0}),Bt=P(H,"closeTrigger",{forwardAsChild:!0,defaultProps:{children:h.jsx(gt,{})}}),jt=P(V,"title",{forwardAsChild:!0}),Vt=P(B,"description",{forwardAsChild:!0}),Kt=P($,"actionTrigger",{forwardAsChild:!0}),Mt={warning:N,success:pt,error:N},Wt=T.forwardRef(function(o,t){const s=R(),r=kt(),n=Mt[s.type];return n?h.jsx(n,{ref:t,...o,css:[r.indicator,o.css]}):null});export{Ft as P,$t as T,Ht as a,Wt as b,Gt as c,jt as d,Vt as e,Kt as f,Bt as g,kt as u};
