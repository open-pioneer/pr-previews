var d=e=>{throw TypeError(e)};var x=(e,i,n)=>i.has(e)||d("Cannot "+n);var c=(e,i,n)=>(x(e,i,"read from private field"),n?n.call(e):i.get(e)),p=(e,i,n)=>i.has(e)?d("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,n);import{a as f,r as g,j as r,H as l,V as m,b as h}from"./DmtUM1WCdUlu.js";import{u as A}from"./D4An4vCjZYjX.js";import{B as w}from"./BU1hw7iarSCs.js";import{C as b}from"./BlZXaLXQpEXv.js";import{T as a}from"./UE13dN653eBD.js";var o;class j{constructor(i){p(this,o,new Map);const n=c(this,o),t=i.references.providers;for(const v of t){const u=v.createActions();for(const s of u){if(n.has(s.id))throw new Error(`Action '${s.id}' was defined twice.`);n.set(s.id,s)}}}getActionInfo(){const i=Array.from(c(this,o).values()).map(n=>({id:n.id,text:n.text}));return i.sort((n,t)=>n.text.localeCompare(t.text)),i}triggerAction(i){const n=c(this,o).get(i);if(!n)throw new Error(`Action '${i}' was not defined.`);n.trigger()}}o=new WeakMap;class P{createActions(){return[{id:"logging-action",text:"Log a message",trigger(){console.info("Logging a message!")}}]}}class S{createActions(){return[{id:"clear-browser-action",text:"Clear browser",trigger(){document.body.innerHTML=""}},{id:"refresh-browser-action",text:"Refresh browser",trigger(){window.location.reload()}}]}}class y{createActions(){return[{id:"open-window-action",text:"Open window",trigger(){window.open("https://www.conterra.de")}}]}}const E={"extension-app":{name:"extension-app",services:{ActionServiceImpl:{name:"ActionServiceImpl",clazz:j,provides:[{name:"extension-app.ActionService",qualifier:void 0}],references:{providers:{name:"extension-app.ActionProvider",qualifier:void 0,all:!0}}},LoggingActionProvider:{name:"LoggingActionProvider",clazz:P,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},MultiActionProvider:{name:"MultiActionProvider",clazz:S,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},OpenWindowActionProvider:{name:"OpenWindowActionProvider",clazz:y,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}}},ui:{references:[{name:"extension-app.ActionService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}}},I="",z=[];function M(e){throw new Error(`Unsupported locale: '${e}'`)}const T=f(I),C=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:M,locales:z,packages:E,styles:T},Symbol.toStringTag,{value:"Module"})),q="extension-app",B=A.bind(void 0,q);function L(){const e=B("extension-app.ActionService"),i=g.useMemo(()=>e.getActionInfo().map(({id:n,text:t})=>r.jsx(w,{onClick:()=>e.triggerAction(n),children:t},n)),[e]);return r.jsxs(b,{maxW:"3xl",py:2,children:[r.jsx(l,{as:"h1",size:"4xl",mb:4,children:"Extension Example"}),r.jsxs(m,{gap:4,children:[r.jsx(a,{children:"This example demonstrates how to provide an extensible API with services and 1-to-N dependencies."}),r.jsxs(a,{children:["Individual ",r.jsx("code",{children:"ActionProvider"})," instances can provide a number of actions, which are then gathered and indexed by the ",r.jsx("code",{children:"ActionService"}),", which depends on all ActionProviders. The UI references the"," ",r.jsx("code",{children:"ActionService"})," and renders the provided actions as buttons. When a button is clicked, the appropriate action will be triggered."]}),r.jsxs(a,{children:["To add a new action, simply add new implementation of"," ",r.jsx("code",{children:'"extension-app.ActionProvider"'}),". The"," ",r.jsx("code",{children:"ActionService"})," will pick it up automatically."]}),r.jsxs(l,{as:"h2",size:"xl",children:["Buttons from ",r.jsx("code",{children:"ActionService"}),":"]}),r.jsx(m,{width:"100%",align:"start",children:i})]})]})}const O=h({component:L,appMetadata:C});customElements.define("extension-app",O);
