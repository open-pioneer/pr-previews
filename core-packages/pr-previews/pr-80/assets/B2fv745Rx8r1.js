var b=Object.defineProperty;var x=e=>{throw TypeError(e)};var j=(e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t,r)=>j(e,typeof t!="symbol"?t+"":t,r),m=(e,t,r)=>t.has(e)||x("Cannot "+r);var u=(e,t,r)=>(m(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>t.has(e)?x("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),f=(e,t,r,i)=>(m(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),a=(e,t,r)=>(m(e,t,"access private method"),r);import{c as I,r as g,j as o,S as w}from"./DmtUM1WCdUlu.js";import{c as v,T as S,a as N,d as L,e as C,f as A,g as E,u as P}from"./CZRwS0u6LYjR.js";import{a as M,u as U}from"./D4An4vCjZYjX.js";import{G as p}from"./BzmK3LJPtwAP.js";import{P as R}from"./CvbWhRlywhn4.js";import{S as W}from"./BU1hw7iarSCs.js";import{I as B}from"./BQ0ZKOkR89fQ.js";const T=I("notifier:NotificationService"),F=7*24*60*60*1e3;var s,l,n,c,G;class ot{constructor({references:{appCtx:t},properties:r}){h(this,n);h(this,s,!1);h(this,l);y(this,"toaster");const i=r,d=t.getShadowRoot();this.toaster=v({placement:D(i.position),pauseOnPageIdle:!0,getRootNode:()=>d})}destroy(){clearTimeout(u(this,l)),f(this,l,void 0)}notify(t){this.toaster.create({type:t.level,title:t.title,description:t.message,duration:t.displayDuration??F,meta:{closable:!0}})}success(t){a(this,n,c).call(this,"success",t)}info(t){a(this,n,c).call(this,"info",t)}warning(t){a(this,n,c).call(this,"warning",t)}error(t){a(this,n,c).call(this,"error",t)}closeAll(){this.toaster.dismiss()}registerUI(){if(u(this,s)){T.warn(`A notifier UI has already been registered; this new component will be ignored.
The <Notifier /> component has likely been used twice in your application.`);return}f(this,s,!0);let t=!1;return{destroy:()=>{t||(t=!0,f(this,s,!1))}}}}s=new WeakMap,l=new WeakMap,n=new WeakSet,c=function(t,r){typeof r=="string"&&(r={message:r}),this.notify({...r,level:t})},G=function(){u(this,s)||T.warn(`No notifier UI has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};function D(e="top-right"){switch(e){case"top":return"top";case"top-left":return"top-start";case"top-right":return"top-end";case"bottom":return"bottom";case"bottom-left":return"bottom-start";case"bottom-right":return"bottom-end";default:return"top-end"}}const k="@open-pioneer/notifier",O=U.bind(void 0,k),_=M.bind(void 0,k);function z(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function K(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function V(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function $(e){return p({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function nt(e){const t=O("notifier.NotificationService"),[r,i]=g.useState(!1);return g.useEffect(()=>{const d=t.registerUI();if(d)return i(!0),()=>{i(!1),d.destroy()}},[t]),r&&o.jsx(q,{toaster:t.toaster})}const q=g.memo(function(t){const r=_();return o.jsx(R,{children:o.jsx(S,{toaster:t.toaster,insetInline:{mdDown:"4"},"aria-label":r.formatMessage({id:"regionLabel"}),children:i=>o.jsxs(N,{width:{md:"sm"},alignItems:"center",children:[i.type==="loading"?o.jsx(W,{size:"sm",color:"blue.solid"}):o.jsx(J,{type:i.type??""}),o.jsxs(w,{gap:"1",flex:"1",maxWidth:"100%",children:[i.title&&o.jsx(L,{children:i.title}),i.description&&o.jsx(C,{children:i.description})]}),i.action&&o.jsx(A,{children:i.action.label}),i.meta?.closable&&o.jsx(E,{cursor:"pointer","aria-label":r.formatMessage({id:"notification.close"})})]})})})}),H={info:$,success:V,warning:z,error:K};function J(e){const t=P(),r=H[e.type];return r?o.jsx(B,{css:t.indicator,children:o.jsx("span",{children:o.jsx(r,{style:{width:"100%",height:"100%"}})})}):null}export{ot as N,nt as a};
