import{U as D,W as $,o as v,r as l,d as g,f as m,j as a,u as L,X as _,Y as b,Z as q,t as z}from"./DkSnucxBg0oT.js";import{c as F}from"./DbTWNPjodI0-.js";import{u as y,n as G}from"./BHjc5PkLKgF8.js";import{a as A,u as V}from"./CeshIyORSAdZ.js";import{a as u,c as W}from"./DT0B9Me3Z3Az.js";const C=t=>F()(t,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]);function X(t,e,r){const n=t.matches("mounted","unmountSuspended");return{skip:!t.context.initial&&n,present:n,setNode(o){o&&e({type:"NODE.SET",node:o})},unmount(){e({type:"UNMOUNT"})}}}function Y(t){return D({initial:t.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...t},exit:["clearInitial","cleanupNode"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],after:{ANIMATION_DURATION:{target:"unmounted",actions:["invokeOnExitComplete"]}},on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{delays:{ANIMATION_DURATION(e){return f(e.styles?.animationDuration)+f(e.styles?.animationDelay)+Z}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},cleanupNode(e){e.node=null,e.styles=null},invokeOnExitComplete(e){e.onExitComplete?.()},setNode(e,r){e.node=v(r.node)},setStyles(e,r){const n=r.node.ownerDocument.defaultView||window;e.styles=v(n.getComputedStyle(r.node))},syncPresence(e,r,{send:n}){if(e.present){n({type:"MOUNT",src:"presence.changed"});return}if(!e.present&&e.node?.ownerDocument.visibilityState==="hidden"){n({type:"UNMOUNT",src:"visibilitychange"});return}const o=T(e.styles);(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.unmountAnimationName=o,o==="none"||o===e.prevAnimationName||e.styles?.display==="none"||e.styles?.animationDuration==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(e){(e.immediate?queueMicrotask:requestAnimationFrame)(()=>{e.prevAnimationName=T(e.styles)})},clearPrevAnimationName(e){e.prevAnimationName=null}},activities:{trackAnimationEvents(e,r,{send:n}){const o=e.node;if(!o)return;const s=c=>{(c.composedPath?.()?.[0]??c.target)===o&&(e.prevAnimationName=T(e.styles))},i=c=>{const P=T(e.styles);(c.composedPath?.()?.[0]??c.target)===o&&P===e.unmountAnimationName&&n({type:"UNMOUNT",src:"animationend"})};return o.addEventListener("animationstart",s),o.addEventListener("animationcancel",i),o.addEventListener("animationend",i),()=>{o.removeEventListener("animationstart",s),o.removeEventListener("animationcancel",i),o.removeEventListener("animationend",i)}}}})}function T(t){return t?.animationName||"none"}function f(t){return parseFloat(t||"0")*1e3}var Z=16.667;$()(["onExitComplete","present","immediate"]);const w=t=>{const{lazyMount:e,unmountOnExit:r,present:n,...o}=t,s=l.useRef(!1),i={...o,present:n,onExitComplete:A(t.onExitComplete)},[c,P]=y(Y(i),{context:i}),p=X(c,P);p.present&&(s.current=!0);const I=!p.present&&!s.current&&e||r&&!p.present&&s.current,j=()=>({"data-state":n?"open":"closed",hidden:!p.present});return{ref:p.setNode,getPresenceProps:j,present:p.present,unmounted:I}},[E,x]=g({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),[h,d]=g({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),O=l.forwardRef((t,e)=>{const r=d(),n=m(r.getArrowProps(),t);return a.jsx(u.div,{...n,ref:e})});O.displayName="TooltipArrow";const U=l.forwardRef((t,e)=>{const r=d(),n=m(r.getArrowTipProps(),t);return a.jsx(u.div,{...n,ref:e})});U.displayName="TooltipArrowTip";const M=l.forwardRef((t,e)=>{const r=d(),n=x(),o=m(r.getContentProps(),n.getPresenceProps(),t);return n.unmounted?null:a.jsx(u.div,{...o,ref:W(n.ref,e)})});M.displayName="TooltipContent";const R=l.forwardRef((t,e)=>{const r=d(),n=m(r.getPositionerProps(),t);return x().unmounted?null:a.jsx(u.div,{...n,ref:e})});R.displayName="TooltipPositioner";const B=(t={})=>{const{getRootNode:e}=L(),{dir:r}=V(),n={id:l.useId(),dir:r,getRootNode:e,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},o={...n,onOpenChange:A(t.onOpenChange,{sync:!0})},[s,i]=y(_(n),{context:o});return b(s,i,G)},H=t=>{const[e,{children:r,...n}]=C(t),o=B(n),s=w(m({present:o.open},e));return a.jsx(h,{value:o,children:a.jsx(E,{value:s,children:r})})},J=t=>{const[e,{value:r,children:n}]=C(t),o=w(m({present:r.open},e));return a.jsx(h,{value:r,children:a.jsx(E,{value:o,children:n})})},S=l.forwardRef((t,e)=>{const r=d(),n=m(r.getTriggerProps(),t);return a.jsx(u.button,{...n,ref:e})});S.displayName="TooltipTrigger";const{withContext:K,PropsProvider:re}=q({key:"link"}),se=K("a"),{withRootProvider:k,withContext:N,useStyles:ie,PropsProvider:ae}=z({key:"tooltip"});k(J);const ce=k(H),pe=N(S,"trigger",{forwardAsChild:!0}),le=N(R,"positioner",{forwardAsChild:!0}),me=N(M,"content",{forwardAsChild:!0}),ue=N(O,"arrow",{forwardAsChild:!0}),de=N(U,"arrowTip",{forwardAsChild:!0});export{se as L,E as P,ce as T,x as a,pe as b,le as c,me as d,ue as e,de as f,C as s,w as u};
