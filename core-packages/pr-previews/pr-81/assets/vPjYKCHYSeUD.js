var H=n=>{throw TypeError(n)};var b=(n,e,t)=>e.has(n)||H("Cannot "+t);var f=(n,e,t)=>(b(n,e,"read from private field"),t?t.call(n):e.get(n)),y=(n,e,t)=>e.has(n)?H("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),p=(n,e,t,i)=>(b(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),h=(n,e,t)=>(b(n,e,"access private method"),t);import{r as d,h as j,j as v,a4 as I,c as R,H as T}from"./DuM3AHNhQZW5.js";import{u as M}from"./D-AQy-wE4i3C.js";import{u as k}from"./BeUPfPbDs34L.js";function D(n){const{viewBox:e="0 0 24 24",d:t,displayName:i,defaultProps:o={}}=n,r=d.Children.toArray(n.path),s=j((a,u)=>v.jsx(I,{ref:u,viewBox:e,...o,...a,children:r.length?r:v.jsx("path",{fill:"currentColor",d:t})}));return s.displayName=i,s}const x=R("notifier:NotificationService");var l,m,w,c,g,A,O;class ${constructor(){y(this,c);y(this,l);y(this,m);y(this,w)}destroy(){clearTimeout(f(this,w)),p(this,w,void 0)}notify(e){h(this,c,A).call(this,"showNotification",{title:e.title??void 0,message:e.message??void 0,level:e.level??"info",displayDuration:e.displayDuration})}success(e){h(this,c,g).call(this,"success",e)}info(e){h(this,c,g).call(this,"info",e)}warning(e){h(this,c,g).call(this,"warning",e)}error(e){h(this,c,g).call(this,"error",e)}closeAll(){h(this,c,A).call(this,"closeAll")}registerHandler(e){if(f(this,l))return x.warn(`A notification handler has already been registered; this new handler will be ignored.
The <Notifier /> component has likely been used twice in your application.`),{destroy(){}};p(this,l,e);const t=f(this,m);if(p(this,m,void 0),t)for(const[o,...r]of t)e[o](...r);let i=!1;return{destroy:()=>{i||(i=!0,f(this,l)===e&&p(this,l,void 0))}}}}l=new WeakMap,m=new WeakMap,w=new WeakMap,c=new WeakSet,g=function(e,t){typeof t=="string"&&(t={message:t}),this.notify({...t,level:e})},A=function(e,...t){if(f(this,l))f(this,l)[e](...t);else{const i=f(this,m)??p(this,m,[]);if(i.length>=1024){x.error(`Internal notification buffer overflow: this event will be dropped to prevent a memory leak.
Make sure that the UI is configured to display notifications (use <Notifier />).`,{method:e,args:t});return}i.push([e,...t])}},O=function(){f(this,l)||x.warn(`No notification handler has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};function S(n){const e=d.useRef(null);return d.useLayoutEffect(()=>{e.current=n}),d.useCallback((...i)=>{const o=e.current;return o(...i)},[])}const P=1,E=d.createContext(P);E.displayName="LevelContext";d.forwardRef(function(e,t){const{children:i,...o}=e,r=Z(),s=q(r);return v.jsx(T,{as:s,ref:t,...o,children:i})});function Z(){const n=d.useContext(E);return Math.min(n,6)}function q(n){return`h${n}`}var N={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var C;function F(){return C||(C=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(r=o(r,i(a)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return t.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var s="";for(var a in r)e.call(r,a)&&r[a]&&(s=o(s,a));return s}function o(r,s){return s?r?r+" "+s:r+s:r}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(N)),N.exports}F();const G="@open-pioneer/notifier",U=M.bind(void 0,G),V=D({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"});function z(n){const{position:e="top-right"}=n,t=k(),i=U("notifier.NotificationService"),[o,r]=d.useState(!0),s=S(u=>{const L=u.level==="error"?v.jsx(V,{h:"100%",w:"100%"}):void 0;t({position:e,title:u.title,description:u.message||null,status:u.level,isClosable:!0,duration:u.displayDuration??null,icon:L})}),a=S(()=>{t.closeAll()});return d.useEffect(()=>{const u=i.registerHandler({showNotification:s,closeAll:a});return()=>u.destroy()},[o,i,s,a]),v.jsx(v.Fragment,{})}export{$ as N,z as a};
